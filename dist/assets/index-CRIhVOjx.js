(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var Dd={exports:{}},yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function dA(){if(C_)return yl;C_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return yl.Fragment=e,yl.jsx=n,yl.jsxs=n,yl}var x_;function mA(){return x_||(x_=1,Dd.exports=dA()),Dd.exports}var _=mA(),Od={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function gA(){if(D_)return be;D_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,te={};function Z(x,J,ie){this.props=x,this.context=J,this.refs=te,this.updater=ie||z}Z.prototype.isReactComponent={},Z.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},Z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Ee(){}Ee.prototype=Z.prototype;function _e(x,J,ie){this.props=x,this.context=J,this.refs=te,this.updater=ie||z}var fe=_e.prototype=new Ee;fe.constructor=_e,B(fe,Z.prototype),fe.isPureReactComponent=!0;var He=Array.isArray,Se={H:null,A:null,T:null,S:null,V:null},ze=Object.prototype.hasOwnProperty;function V(x,J,ie,W,he,Re){return ie=Re.ref,{$$typeof:s,type:x,key:J,ref:ie!==void 0?ie:null,props:Re}}function R(x,J){return V(x.type,J,void 0,void 0,void 0,x.props)}function C(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function O(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ie){return J[ie]})}var M=/\/+/g;function P(x,J){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):J.toString(36)}function N(){}function kt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function at(x,J,ie,W,he){var Re=typeof x;(Re==="undefined"||Re==="boolean")&&(x=null);var ve=!1;if(x===null)ve=!0;else switch(Re){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(x.$$typeof){case s:case e:ve=!0;break;case T:return ve=x._init,at(ve(x._payload),J,ie,W,he)}}if(ve)return he=he(x),ve=W===""?"."+P(x,0):W,He(he)?(ie="",ve!=null&&(ie=ve.replace(M,"$&/")+"/"),at(he,J,ie,"",function(Fn){return Fn})):he!=null&&(C(he)&&(he=R(he,ie+(he.key==null||x&&x.key===he.key?"":(""+he.key).replace(M,"$&/")+"/")+ve)),J.push(he)),1;ve=0;var Nt=W===""?".":W+":";if(He(x))for(var Ze=0;Ze<x.length;Ze++)W=x[Ze],Re=Nt+P(W,Ze),ve+=at(W,J,ie,Re,he);else if(Ze=b(x),typeof Ze=="function")for(x=Ze.call(x),Ze=0;!(W=x.next()).done;)W=W.value,Re=Nt+P(W,Ze++),ve+=at(W,J,ie,Re,he);else if(Re==="object"){if(typeof x.then=="function")return at(kt(x),J,ie,W,he);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ve}function G(x,J,ie){if(x==null)return x;var W=[],he=0;return at(x,W,"","",function(Re){return J.call(ie,Re,he++)}),W}function ne(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(ie){(x._status===0||x._status===-1)&&(x._status=1,x._result=ie)},function(ie){(x._status===0||x._status===-1)&&(x._status=2,x._result=ie)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var ue=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ue(){}return be.Children={map:G,forEach:function(x,J,ie){G(x,function(){J.apply(this,arguments)},ie)},count:function(x){var J=0;return G(x,function(){J++}),J},toArray:function(x){return G(x,function(J){return J})||[]},only:function(x){if(!C(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},be.Component=Z,be.Fragment=n,be.Profiler=o,be.PureComponent=_e,be.StrictMode=r,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Se,be.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Se.H.useMemoCache(x)}},be.cache=function(x){return function(){return x.apply(null,arguments)}},be.cloneElement=function(x,J,ie){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var W=B({},x.props),he=x.key,Re=void 0;if(J!=null)for(ve in J.ref!==void 0&&(Re=void 0),J.key!==void 0&&(he=""+J.key),J)!ze.call(J,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&J.ref===void 0||(W[ve]=J[ve]);var ve=arguments.length-2;if(ve===1)W.children=ie;else if(1<ve){for(var Nt=Array(ve),Ze=0;Ze<ve;Ze++)Nt[Ze]=arguments[Ze+2];W.children=Nt}return V(x.type,he,void 0,void 0,Re,W)},be.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},be.createElement=function(x,J,ie){var W,he={},Re=null;if(J!=null)for(W in J.key!==void 0&&(Re=""+J.key),J)ze.call(J,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(he[W]=J[W]);var ve=arguments.length-2;if(ve===1)he.children=ie;else if(1<ve){for(var Nt=Array(ve),Ze=0;Ze<ve;Ze++)Nt[Ze]=arguments[Ze+2];he.children=Nt}if(x&&x.defaultProps)for(W in ve=x.defaultProps,ve)he[W]===void 0&&(he[W]=ve[W]);return V(x,Re,void 0,void 0,null,he)},be.createRef=function(){return{current:null}},be.forwardRef=function(x){return{$$typeof:m,render:x}},be.isValidElement=C,be.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:ne}},be.memo=function(x,J){return{$$typeof:p,type:x,compare:J===void 0?null:J}},be.startTransition=function(x){var J=Se.T,ie={};Se.T=ie;try{var W=x(),he=Se.S;he!==null&&he(ie,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ue,ue)}catch(Re){ue(Re)}finally{Se.T=J}},be.unstable_useCacheRefresh=function(){return Se.H.useCacheRefresh()},be.use=function(x){return Se.H.use(x)},be.useActionState=function(x,J,ie){return Se.H.useActionState(x,J,ie)},be.useCallback=function(x,J){return Se.H.useCallback(x,J)},be.useContext=function(x){return Se.H.useContext(x)},be.useDebugValue=function(){},be.useDeferredValue=function(x,J){return Se.H.useDeferredValue(x,J)},be.useEffect=function(x,J,ie){var W=Se.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(x,J)},be.useId=function(){return Se.H.useId()},be.useImperativeHandle=function(x,J,ie){return Se.H.useImperativeHandle(x,J,ie)},be.useInsertionEffect=function(x,J){return Se.H.useInsertionEffect(x,J)},be.useLayoutEffect=function(x,J){return Se.H.useLayoutEffect(x,J)},be.useMemo=function(x,J){return Se.H.useMemo(x,J)},be.useOptimistic=function(x,J){return Se.H.useOptimistic(x,J)},be.useReducer=function(x,J,ie){return Se.H.useReducer(x,J,ie)},be.useRef=function(x){return Se.H.useRef(x)},be.useState=function(x){return Se.H.useState(x)},be.useSyncExternalStore=function(x,J,ie){return Se.H.useSyncExternalStore(x,J,ie)},be.useTransition=function(){return Se.H.useTransition()},be.version="19.1.0",be}var O_;function bm(){return O_||(O_=1,Od.exports=gA()),Od.exports}var oe=bm(),Md={exports:{}},_l={},Vd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function pA(){return M_||(M_=1,function(s){function e(G,ne){var ue=G.length;G.push(ne);e:for(;0<ue;){var Ue=ue-1>>>1,x=G[Ue];if(0<o(x,ne))G[Ue]=ne,G[ue]=x,ue=Ue;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ne=G[0],ue=G.pop();if(ue!==ne){G[0]=ue;e:for(var Ue=0,x=G.length,J=x>>>1;Ue<J;){var ie=2*(Ue+1)-1,W=G[ie],he=ie+1,Re=G[he];if(0>o(W,ue))he<x&&0>o(Re,W)?(G[Ue]=Re,G[he]=ue,Ue=he):(G[Ue]=W,G[ie]=ue,Ue=ie);else if(he<x&&0>o(Re,ue))G[Ue]=Re,G[he]=ue,Ue=he;else break e}}return ne}function o(G,ne){var ue=G.sortIndex-ne.sortIndex;return ue!==0?ue:G.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],p=[],T=1,w=null,b=3,z=!1,B=!1,te=!1,Z=!1,Ee=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function He(G){for(var ne=n(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=G)r(p),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=n(p)}}function Se(G){if(te=!1,He(G),!B)if(n(y)!==null)B=!0,ze||(ze=!0,P());else{var ne=n(p);ne!==null&&at(Se,ne.startTime-G)}}var ze=!1,V=-1,R=5,C=-1;function O(){return Z?!0:!(s.unstable_now()-C<R)}function M(){if(Z=!1,ze){var G=s.unstable_now();C=G;var ne=!0;try{e:{B=!1,te&&(te=!1,_e(V),V=-1),z=!0;var ue=b;try{t:{for(He(G),w=n(y);w!==null&&!(w.expirationTime>G&&O());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,b=w.priorityLevel;var x=Ue(w.expirationTime<=G);if(G=s.unstable_now(),typeof x=="function"){w.callback=x,He(G),ne=!0;break t}w===n(y)&&r(y),He(G)}else r(y);w=n(y)}if(w!==null)ne=!0;else{var J=n(p);J!==null&&at(Se,J.startTime-G),ne=!1}}break e}finally{w=null,b=ue,z=!1}ne=void 0}}finally{ne?P():ze=!1}}}var P;if(typeof fe=="function")P=function(){fe(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,kt=N.port2;N.port1.onmessage=M,P=function(){kt.postMessage(null)}}else P=function(){Ee(M,0)};function at(G,ne){V=Ee(function(){G(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(G){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var ue=b;b=ne;try{return G()}finally{b=ue}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=b;b=G;try{return ne()}finally{b=ue}},s.unstable_scheduleCallback=function(G,ne,ue){var Ue=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ue+ue:Ue):ue=Ue,G){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ue+x,G={id:T++,callback:ne,priorityLevel:G,startTime:ue,expirationTime:x,sortIndex:-1},ue>Ue?(G.sortIndex=ue,e(p,G),n(y)===null&&G===n(p)&&(te?(_e(V),V=-1):te=!0,at(Se,ue-Ue))):(G.sortIndex=x,e(y,G),B||z||(B=!0,ze||(ze=!0,P()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var ne=b;return function(){var ue=b;b=ne;try{return G.apply(this,arguments)}finally{b=ue}}}}(kd)),kd}var V_;function yA(){return V_||(V_=1,Vd.exports=pA()),Vd.exports}var Pd={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function _A(){if(k_)return Qt;k_=1;var s=bm();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:p,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Qt.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,T)},Qt.flushSync=function(y){var p=f.T,T=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=p,r.p=T,r.d.f()}},Qt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},Qt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Qt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,z=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:z}):T==="script"&&r.d.X(y,{crossOrigin:w,integrity:b,fetchPriority:z,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Qt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},Qt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin);r.d.L(y,T,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Qt.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=m(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},Qt.requestFormReset=function(y){r.d.r(y)},Qt.unstable_batchedUpdates=function(y,p){return y(p)},Qt.useFormState=function(y,p,T){return f.H.useFormState(y,p,T)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var P_;function vA(){if(P_)return Pd.exports;P_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pd.exports=_A(),Pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function EA(){if(j_)return _l;j_=1;var s=yA(),e=bm(),n=vA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,A=h.child;A;){if(A===a){E=!0,a=h,l=d;break}if(A===l){E=!0,l=h,a=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===a){E=!0,a=d,l=h;break}if(A===l){E=!0,l=d,a=h;break}A=A.sibling}if(!E)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),_e=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function kt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case Z:return"Profiler";case te:return"StrictMode";case Se:return"Suspense";case ze:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case fe:return(t.displayName||"Context")+".Provider";case _e:return(t._context.displayName||"Context")+".Consumer";case He:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:kt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return kt(t(i))}catch{}}return null}var at=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ue=[],x=-1;function J(t){return{current:t}}function ie(t){0>x||(t.current=Ue[x],Ue[x]=null,x--)}function W(t,i){x++,Ue[x]=t.current,t.current=i}var he=J(null),Re=J(null),ve=J(null),Nt=J(null);function Ze(t,i){switch(W(ve,i),W(Re,t),W(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?i_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=i_(i),t=s_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(he),W(he,t)}function Fn(){ie(he),ie(Re),ie(ve)}function Ji(t){t.memoizedState!==null&&W(Nt,t);var i=he.current,a=s_(i,t.type);i!==a&&(W(Re,t),W(he,a))}function pi(t){Re.current===t&&(ie(he),ie(Re)),Nt.current===t&&(ie(Nt),fl._currentValue=ue)}var Qs=Object.prototype.hasOwnProperty,Ys=s.unstable_scheduleCallback,Xs=s.unstable_cancelCallback,lo=s.unstable_shouldYield,tu=s.unstable_requestPaint,vn=s.unstable_now,xh=s.unstable_getCurrentPriorityLevel,uo=s.unstable_ImmediatePriority,Hr=s.unstable_UserBlockingPriority,$s=s.unstable_NormalPriority,Dh=s.unstable_LowPriority,Fr=s.unstable_IdlePriority,co=s.log,nu=s.unstable_setDisableYieldValue,ot=null,Fe=null;function un(t){if(typeof co=="function"&&nu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Gt=Math.clz32?Math.clz32:Js,iu=Math.log,Oh=Math.LN2;function Js(t){return t>>>=0,t===0?32:31-(iu(t)/Oh|0)|0}var Zs=256,Ws=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gr(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=Vn(l):(E&=A,E!==0?h=Vn(E):a||(a=A&~t,a!==0&&(h=Vn(a))))):(A=l&~d,A!==0?h=Vn(A):E!==0?h=Vn(E):a||(a=l&~t,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function er(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ho(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var t=Zs;return Zs<<=1,(Zs&4194048)===0&&(Zs=256),t}function mo(){var t=Ws;return Ws<<=1,(Ws&62914560)===0&&(Ws=4194304),t}function yi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function _i(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function go(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,I=t.expirationTimes,L=t.hiddenUpdates;for(a=E&~a;0<a;){var K=31-Gt(a),X=1<<K;A[K]=0,I[K]=-1;var q=L[K];if(q!==null)for(L[K]=null,K=0;K<q.length;K++){var H=q[K];H!==null&&(H.lane&=-536870913)}a&=~X}l!==0&&Gn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Gn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function po(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Zi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wi(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:S_(t.type))}function su(t,i){var a=ne.p;try{return ne.p=t,i()}finally{ne.p=a}}var nt=Math.random().toString(36).slice(2),At="__reactFiber$"+nt,gt="__reactProps$"+nt,En="__reactContainer$"+nt,yo="__reactEvents$"+nt,Mh="__reactListeners$"+nt,es="__reactHandles$"+nt,ru="__reactResources$"+nt,tr="__reactMarker$"+nt;function ts(t){delete t[At],delete t[gt],delete t[yo],delete t[Mh],delete t[es]}function vi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[En]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=l_(t);t!==null;){if(a=t[At])return a;t=l_(t)}return i}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[At]||t[En]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Qn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Zt(t){var i=t[ru];return i||(i=t[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[tr]=!0}var _o=new Set,Qr={};function kn(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Qr[t]=i,t=0;t<i.length;t++)_o.add(i[t])}var au=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ou={},nr={};function lu(t){return Qs.call(nr,t)?!0:Qs.call(ou,t)?!1:au.test(t)?nr[t]=!0:(ou[t]=!0,!1)}function ns(t,i,a){if(lu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ir,uu;function Ti(t){if(ir===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ir=i&&i[1]||"",uu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ir+t+uu}var Yr=!1;function Xr(t,i){if(!t||Yr)return"";Yr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var q=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){q=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){q=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],A=d[1];if(E&&A){var I=E.split(`
`),L=A.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===L.length)for(l=I.length-1,h=L.length-1;1<=l&&0<=h&&I[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==L[h]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Yr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ti(a):""}function vo(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return Xr(t.type,!1);case 11:return Xr(t.type.render,!1);case 1:return Xr(t.type,!0);case 31:return Ti("Activity");default:return""}}function $r(t){try{var i="";do i+=vo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Eo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Vh(t){var i=Eo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Jr(t){t._valueTracker||(t._valueTracker=Vh(t))}function To(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Eo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kh=/[\n"\\]/g;function pt(t){return t.replace(kh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function cn(t,i,a,l,h,d,E,A){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Wt(i)):t.value!==""+Wt(i)&&(t.value=""+Wt(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?is(t,E,Wt(i)):a!=null?is(t,E,Wt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Wt(A):t.removeAttribute("name")}function rr(t,i,a,l,h,d,E,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Wt(a):"",i=i!=null?""+Wt(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function is(t,i,a){i==="number"&&sr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ai(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+Wt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Wt(a):""}function ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(at(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Wt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var or=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||or.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ao(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&cu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&cu(t,d,i[d])}function So(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zr(t){return jh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Si=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bi=null,wi=null;function bo(t){var i=Kn(t);if(i&&(t=i.stateNode)){var a=t[gt]||null;e:switch(t=i.stateNode,i.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[gt]||null;if(!h)throw Error(r(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&To(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ai(t,!!a.multiple,i,!1)}}}var Xn=!1;function hu(t,i,a){if(Xn)return t(i,a);Xn=!0;try{var l=t(i);return l}finally{if(Xn=!1,(bi!==null||wi!==null)&&(sc(),bi&&(i=bi,t=wi,wi=bi=null,bo(i),t)))for(i=0;i<t.length;i++)bo(t[i])}}function lr(t,i){var a=t.stateNode;if(a===null)return null;var l=a[gt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Pn)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{Sn=!1}var $n=null,ss=null,Ri=null;function wo(){if(Ri)return Ri;var t,i=ss,a=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Ri=h.slice(t,1<l?1-l:void 0)}function Jn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Ro(){return!1}function Ct(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zn:Ro,this.isPropagationStopped=Ro,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),i}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=Ct(Be),cr=T({},Be,{view:0,detail:0}),fu=Ct(cr),ea,ta,Wn,hr=T({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(ea=t.screenX-Wn.screenX,ta=t.screenY-Wn.screenY):ta=ea=0,Wn=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:ta}}),bn=Ct(hr),du=T({},hr,{dataTransfer:0}),Uh=Ct(du),fr=T({},cr,{relatedTarget:0}),na=Ct(fr),Io=T({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Ct(Io),mu=T({},Be,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sa=Ct(mu),Lh=T({},Be,{data:0}),No=Ct(Lh),dr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=pu[t])?!!i[t]:!1}function mr(){return Co}var yu=T({},cr,{key:function(t){if(t.key){var i=dr[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mr,charCode:function(t){return t.type==="keypress"?Jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ra=Ct(yu),_u=T({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xo=Ct(_u),Ii=T({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mr}),vu=Ct(Ii),Eu=T({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=Ct(Eu),Au=T({},hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=Ct(Au),en=T({},Be,{newState:0,oldState:0}),Su=Ct(en),bu=[9,13,27,32],ei=Pn&&"CompositionEvent"in window,u=null;Pn&&"documentMode"in document&&(u=document.documentMode);var g=Pn&&"TextEvent"in window&&!u,v=Pn&&(!ei||u&&8<u&&11>=u),S=" ",j=!1;function F(t,i){switch(t){case"keyup":return bu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ee(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function St(t,i){switch(t){case"compositionend":return ee(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return t=i.data,t===S&&j?null:t;default:return null}}function Ve(t,i){if(Me)return t==="compositionend"||!ei&&F(t,i)?(t=wo(),Ri=ss=$n=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xt[t.type]:i==="textarea"}function Ni(t,i,a,l){bi?wi?wi.push(l):wi=[l]:bi=l,i=cc(i,"onChange"),0<i.length&&(a=new Wr("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var jt=null,ti=null;function Do(t){Zy(t,0)}function wu(t){var i=Qn(t);if(To(i))return t}function vg(t,i){if(t==="change")return i}var Eg=!1;if(Pn){var zh;if(Pn){var Bh="oninput"in document;if(!Bh){var Tg=document.createElement("div");Tg.setAttribute("oninput","return;"),Bh=typeof Tg.oninput=="function"}zh=Bh}else zh=!1;Eg=zh&&(!document.documentMode||9<document.documentMode)}function Ag(){jt&&(jt.detachEvent("onpropertychange",Sg),ti=jt=null)}function Sg(t){if(t.propertyName==="value"&&wu(ti)){var i=[];Ni(i,ti,t,An(t)),hu(Do,i)}}function HT(t,i,a){t==="focusin"?(Ag(),jt=i,ti=a,jt.attachEvent("onpropertychange",Sg)):t==="focusout"&&Ag()}function FT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(ti)}function GT(t,i){if(t==="click")return wu(i)}function KT(t,i){if(t==="input"||t==="change")return wu(i)}function QT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:QT;function Oo(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Qs.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wg(t,i){var a=bg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bg(a)}}function Rg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Rg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=sr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=sr(t.document)}return i}function qh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var YT=Pn&&"documentMode"in document&&11>=document.documentMode,oa=null,Hh=null,Mo=null,Fh=!1;function Ng(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fh||oa==null||oa!==sr(l)||(l=oa,"selectionStart"in l&&qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Mo&&Oo(Mo,l)||(Mo=l,l=cc(Hh,"onSelect"),0<l.length&&(i=new Wr("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=oa)))}function gr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var la={animationend:gr("Animation","AnimationEnd"),animationiteration:gr("Animation","AnimationIteration"),animationstart:gr("Animation","AnimationStart"),transitionrun:gr("Transition","TransitionRun"),transitionstart:gr("Transition","TransitionStart"),transitioncancel:gr("Transition","TransitionCancel"),transitionend:gr("Transition","TransitionEnd")},Gh={},Cg={};Pn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function pr(t){if(Gh[t])return Gh[t];if(!la[t])return t;var i=la[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Cg)return Gh[t]=i[a];return t}var xg=pr("animationend"),Dg=pr("animationiteration"),Og=pr("animationstart"),XT=pr("transitionrun"),$T=pr("transitionstart"),JT=pr("transitioncancel"),Mg=pr("transitionend"),Vg=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function jn(t,i){Vg.set(t,i),kn(i,[t])}var kg=new WeakMap;function wn(t,i){if(typeof t=="object"&&t!==null){var a=kg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:$r(i)},kg.set(t,i),i)}return{value:t,source:i,stack:$r(i)}}var Rn=[],ua=0,Qh=0;function Ru(){for(var t=ua,i=Qh=ua=0;i<t;){var a=Rn[i];Rn[i++]=null;var l=Rn[i];Rn[i++]=null;var h=Rn[i];Rn[i++]=null;var d=Rn[i];if(Rn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Pg(a,h,d)}}function Iu(t,i,a,l){Rn[ua++]=t,Rn[ua++]=i,Rn[ua++]=a,Rn[ua++]=l,Qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yh(t,i,a,l){return Iu(t,i,a,l),Nu(t)}function ca(t,i){return Iu(t,null,null,i),Nu(t)}function Pg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Nu(t){if(50<sl)throw sl=0,td=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ha={};function ZT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,i,a,l){return new ZT(t,i,a,l)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,i){var a=t.alternate;return a===null?(a=fn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Cu(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")Xh(t)&&(E=1);else if(typeof t=="string")E=eA(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=fn(31,a,i,h),t.elementType=C,t.lanes=d,t;case B:return yr(a.children,h,d,i);case te:E=8,h|=24;break;case Z:return t=fn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case Se:return t=fn(13,a,i,h),t.elementType=Se,t.lanes=d,t;case ze:return t=fn(19,a,i,h),t.elementType=ze,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:case fe:E=10;break e;case _e:E=9;break e;case He:E=11;break e;case V:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=fn(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function yr(t,i,a,l){return t=fn(7,t,l,i),t.lanes=a,t}function $h(t,i,a){return t=fn(6,t,null,i),t.lanes=a,t}function Jh(t,i,a){return i=fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var fa=[],da=0,xu=null,Du=0,In=[],Nn=0,_r=null,xi=1,Di="";function vr(t,i){fa[da++]=Du,fa[da++]=xu,xu=t,Du=i}function Ug(t,i,a){In[Nn++]=xi,In[Nn++]=Di,In[Nn++]=_r,_r=t;var l=xi;t=Di;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,xi=1<<32-Gt(i)+h|a<<h|l,Di=d+t}else xi=1<<d|a<<h|l,Di=t}function Zh(t){t.return!==null&&(vr(t,1),Ug(t,1,0))}function Wh(t){for(;t===xu;)xu=fa[--da],fa[da]=null,Du=fa[--da],fa[da]=null;for(;t===_r;)_r=In[--Nn],In[Nn]=null,Di=In[--Nn],In[Nn]=null,xi=In[--Nn],In[Nn]=null}var tn=null,lt=null,Le=!1,Er=null,ni=!1,ef=Error(r(519));function Tr(t){var i=Error(r(418,""));throw Po(wn(i,t)),ef}function Lg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[gt]=l,a){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(a=0;a<al.length;a++)Ce(al[a],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),rr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Jr(i);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),ar(i,l.value,l.defaultValue,l.children),Jr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||n_(i.textContent,a)?(l.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),l.onScroll!=null&&Ce("scroll",i),l.onScrollEnd!=null&&Ce("scrollend",i),l.onClick!=null&&(i.onclick=hc),i=!0):i=!1,i||Tr(t)}function zg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:tn=tn.return}}function Vo(t){if(t!==tn)return!1;if(!Le)return zg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yd(t.type,t.memoizedProps)),a=!a),a&&lt&&Tr(t),zg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=Ln(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,Es(t.type)?(t=Td,Td=null,lt=t):lt=i):lt=tn?Ln(t.stateNode.nextSibling):null;return!0}function ko(){lt=tn=null,Le=!1}function Bg(){var t=Er;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Er=null),t}function Po(t){Er===null?Er=[t]:Er.push(t)}var tf=J(null),Ar=null,Oi=null;function rs(t,i,a){W(tf,i._currentValue),i._currentValue=a}function Mi(t){t._currentValue=tf.current,ie(tf)}function nf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function sf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var I=0;I<i.length;I++)if(A.context===i[I]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),nf(d.return,a,t),l||(E=null);break e}d=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(r(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),nf(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function jo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var A=h.type;hn(h.pendingProps.value,E.value)||(t!==null?t.push(A):t=[A])}}else if(h===Nt.current){if(E=h.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(fl):t=[fl])}h=h.return}t!==null&&sf(i,t,a,l),i.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sr(t){Ar=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return qg(Ar,t)}function Mu(t,i){return Ar===null&&Sr(t),qg(t,i)}function qg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(t===null)throw Error(r(308));Oi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Oi=Oi.next=i;return a}var WT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},e1=s.unstable_scheduleCallback,t1=s.unstable_NormalPriority,wt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new WT,data:new Map,refCount:0}}function Uo(t){t.refCount--,t.refCount===0&&e1(t1,function(){t.controller.abort()})}var Lo=null,af=0,ma=0,ga=null;function n1(t,i){if(Lo===null){var a=Lo=[];af=0,ma=ld(),ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return af++,i.then(Hg,Hg),i}function Hg(){if(--af===0&&Lo!==null){ga!==null&&(ga.status="fulfilled");var t=Lo;Lo=null,ma=0,ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function i1(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fg=G.S;G.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&n1(t,i),Fg!==null&&Fg(t,i)};var br=J(null);function of(){var t=br.current;return t!==null?t:We.pooledCache}function Vu(t,i){i===null?W(br,br.current):W(br,i.pool)}function Gg(){var t=of();return t===null?null:{parent:wt._currentValue,pool:t}}var zo=Error(r(460)),Kg=Error(r(474)),ku=Error(r(542)),lf={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pu(){}function Yg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Pu,Pu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t;default:if(typeof i.status=="string")i.then(Pu,Pu);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t}throw Bo=i,zo}}var Bo=null;function Xg(){if(Bo===null)throw Error(r(459));var t=Bo;return Bo=null,t}function $g(t){if(t===zo||t===ku)throw Error(r(483))}var as=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ls(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Nu(t),Pg(t,null,a),i}return Iu(t,l,i,a),Nu(t)}function qo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,po(t,a)}}function hf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ff=!1;function Ho(){if(ff){var t=ga;if(t!==null)throw t}}function Fo(t,i,a,l){ff=!1;var h=t.updateQueue;as=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var I=A,L=I.next;I.next=null,E===null?d=L:E.next=L,E=I;var K=t.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==E&&(A===null?K.firstBaseUpdate=L:A.next=L,K.lastBaseUpdate=I))}if(d!==null){var X=h.baseState;E=0,K=L=I=null,A=d;do{var q=A.lane&-536870913,H=q!==A.lane;if(H?(ke&q)===q:(l&q)===q){q!==0&&q===ma&&(ff=!0),K!==null&&(K=K.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ye=t,de=A;q=i;var $e=a;switch(de.tag){case 1:if(ye=de.payload,typeof ye=="function"){X=ye.call($e,X,q);break e}X=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=de.payload,q=typeof ye=="function"?ye.call($e,X,q):ye,q==null)break e;X=T({},X,q);break e;case 2:as=!0}}q=A.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(L=K=H,I=X):K=K.next=H,E|=q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;H=A,A=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(I=X),h.baseState=I,h.firstBaseUpdate=L,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),ps|=E,t.lanes=E,t.memoizedState=X}}function Jg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Zg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jg(a[t],i)}var pa=J(null),ju=J(0);function Wg(t,i){t=zi,W(ju,t),W(pa,i),zi=t|i.baseLanes}function df(){W(ju,zi),W(pa,pa.current)}function mf(){zi=ju.current,ie(pa),ie(ju)}var us=0,we=null,Ye=null,yt=null,Uu=!1,ya=!1,wr=!1,Lu=0,Go=0,_a=null,s1=0;function ht(){throw Error(r(321))}function gf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function pf(t,i,a,l,h,d){return us=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Pp:jp,wr=!1,d=a(l,h),wr=!1,ya&&(d=tp(i,a,l,h)),ep(t),d}function ep(t){G.H=Gu;var i=Ye!==null&&Ye.next!==null;if(us=0,yt=Ye=we=null,Uu=!1,Go=0,_a=null,i)throw Error(r(300));t===null||Dt||(t=t.dependencies,t!==null&&Ou(t)&&(Dt=!0))}function tp(t,i,a,l){we=t;var h=0;do{if(ya&&(_a=null),Go=0,ya=!1,25<=h)throw Error(r(301));if(h+=1,yt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=h1,d=i(a,l)}while(ya);return d}function r1(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Ko(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(we.flags|=1024),i}function yf(){var t=Lu!==0;return Lu=0,t}function _f(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function vf(t){if(Uu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Uu=!1}us=0,yt=Ye=we=null,ya=!1,Go=Lu=0,_a=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?we.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Ye===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=yt===null?we.memoizedState:yt.next;if(i!==null)yt=i,Ye=t;else{if(t===null)throw we.alternate===null?Error(r(467)):Error(r(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?we.memoizedState=yt=t:yt=yt.next=t}return yt}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(t){var i=Go;return Go+=1,_a===null&&(_a=[]),t=Yg(_a,t,i),i=we,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Pp:jp),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ko(t);if(t.$$typeof===fe)return Kt(t)}throw Error(r(438,String(t)))}function Tf(t){var i=null,a=we.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ef(),we.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function Vi(t,i){return typeof i=="function"?i(t):i}function Bu(t){var i=_t();return Af(i,Ye,t)}function Af(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=E=null,I=null,L=i,K=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(ke&X)===X:(us&X)===X){var q=L.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===ma&&(K=!0);else if((us&q)===q){L=L.next,q===ma&&(K=!0);continue}else X={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(A=I=X,E=d):I=I.next=X,we.lanes|=q,ps|=q;X=L.action,wr&&a(d,X),d=L.hasEagerState?L.eagerState:a(d,X)}else q={lane:X,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(A=I=q,E=d):I=I.next=q,we.lanes|=X,ps|=X;L=L.next}while(L!==null&&L!==i);if(I===null?E=d:I.next=A,!hn(d,t.memoizedState)&&(Dt=!0,K&&(a=ga,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sf(t){var i=_t(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);hn(d,i.memoizedState)||(Dt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function np(t,i,a){var l=we,h=_t(),d=Le;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var E=!hn((Ye||h).memoizedState,a);E&&(h.memoizedState=a,Dt=!0),h=h.queue;var A=rp.bind(null,l,h,t);if(Qo(2048,8,A,[t]),h.getSnapshot!==i||E||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,va(9,qu(),sp.bind(null,l,h,a,i),null),We===null)throw Error(r(349));d||(us&124)!==0||ip(l,i,a)}return a}function ip(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=we.updateQueue,i===null?(i=Ef(),we.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function sp(t,i,a,l){i.value=a,i.getSnapshot=l,ap(i)&&op(t)}function rp(t,i,a){return a(function(){ap(i)&&op(t)})}function ap(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function op(t){var i=ca(t,2);i!==null&&yn(i,t,2)}function bf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),wr){un(!0);try{a()}finally{un(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},i}function lp(t,i,a,l){return t.baseState=a,Af(t,Ye,typeof l=="function"?l:Vi)}function a1(t,i,a,l,h){if(Fu(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,up(i,d)):(d.next=a.next,i.pending=a.next=d)}}function up(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,E={};G.T=E;try{var A=a(h,l),I=G.S;I!==null&&I(E,A),cp(t,i,A)}catch(L){wf(t,i,L)}finally{G.T=d}}else try{d=a(h,l),cp(t,i,d)}catch(L){wf(t,i,L)}}function cp(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hp(t,i,l)},function(l){return wf(t,i,l)}):hp(t,i,a)}function hp(t,i,a){i.status="fulfilled",i.value=a,fp(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,up(t,a)))}function wf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fp(i),i=i.next;while(i!==l)}t.action=null}function fp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dp(t,i){return i}function mp(t,i){if(Le){var a=We.formState;if(a!==null){e:{var l=we;if(Le){if(lt){t:{for(var h=lt,d=ni;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Ln(h.nextSibling),l=h.data==="F!";break e}}Tr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dp,lastRenderedState:i},a.queue=l,a=Mp.bind(null,we,l),l.dispatch=a,l=bf(!1),d=xf.bind(null,we,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=a1.bind(null,we,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function gp(t){var i=_t();return pp(i,Ye,t)}function pp(t,i,a){if(i=Af(t,i,dp)[0],t=Bu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Ko(i)}catch(E){throw E===zo?ku:E}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(we.flags|=2048,va(9,qu(),o1.bind(null,h,a),null)),[l,d,t]}function o1(t,i){t.action=i}function yp(t){var i=_t(),a=Ye;if(a!==null)return pp(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function va(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=we.updateQueue,i===null&&(i=Ef(),we.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function qu(){return{destroy:void 0,resource:void 0}}function _p(){return _t().memoizedState}function Hu(t,i,a,l){var h=nn();l=l===void 0?null:l,we.flags|=t,h.memoizedState=va(1|i,qu(),a,l)}function Qo(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&gf(l,Ye.memoizedState.deps)?h.memoizedState=va(i,d,a,l):(we.flags|=t,h.memoizedState=va(1|i,d,a,l))}function vp(t,i){Hu(8390656,8,t,i)}function Ep(t,i){Qo(2048,8,t,i)}function Tp(t,i){return Qo(4,2,t,i)}function Ap(t,i){return Qo(4,4,t,i)}function Sp(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function bp(t,i,a){a=a!=null?a.concat([t]):null,Qo(4,4,Sp.bind(null,i,t),a)}function Rf(){}function wp(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&gf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Rp(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&gf(i,l[1]))return l[0];if(l=t(),wr){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l}function If(t,i,a){return a===void 0||(us&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Cy(),we.lanes|=t,ps|=t,a)}function Ip(t,i,a,l){return hn(a,i)?a:pa.current!==null?(t=If(t,a,l),hn(t,i)||(Dt=!0),t):(us&42)===0?(Dt=!0,t.memoizedState=a):(t=Cy(),we.lanes|=t,ps|=t,i)}function Np(t,i,a,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var E=G.T,A={};G.T=A,xf(t,!1,i,a);try{var I=h(),L=G.S;if(L!==null&&L(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=i1(I,l);Yo(t,i,K,pn(t))}else Yo(t,i,l,pn(t))}catch(X){Yo(t,i,{then:function(){},status:"rejected",reason:X},pn())}finally{ne.p=d,G.T=E}}function l1(){}function Nf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=Cp(t).queue;Np(t,h,i,ue,a===null?l1:function(){return xp(t),a(l)})}function Cp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xp(t){var i=Cp(t).next.queue;Yo(t,i,{},pn())}function Cf(){return Kt(fl)}function Dp(){return _t().memoizedState}function Op(){return _t().memoizedState}function u1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();t=os(a);var l=ls(i,t,a);l!==null&&(yn(l,i,a),qo(l,i,a)),i={cache:rf()},t.payload=i;return}i=i.return}}function c1(t,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Fu(t)?Vp(i,a):(a=Yh(t,i,a,l),a!==null&&(yn(a,t,l),kp(a,i,l)))}function Mp(t,i,a){var l=pn();Yo(t,i,a,l)}function Yo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Fu(t))Vp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,A=d(E,a);if(h.hasEagerState=!0,h.eagerState=A,hn(A,E))return Iu(t,i,h,0),We===null&&Ru(),!1}catch{}finally{}if(a=Yh(t,i,h,l),a!==null)return yn(a,t,l),kp(a,i,l),!0}return!1}function xf(t,i,a,l){if(l={lane:2,revertLane:ld(),action:l,hasEagerState:!1,eagerState:null,next:null},Fu(t)){if(i)throw Error(r(479))}else i=Yh(t,a,l,2),i!==null&&yn(i,t,2)}function Fu(t){var i=t.alternate;return t===we||i!==null&&i===we}function Vp(t,i){ya=Uu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function kp(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,po(t,a)}}var Gu={readContext:Kt,use:zu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Pp={readContext:Kt,use:zu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:vp,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Hu(4194308,4,Sp.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Hu(4194308,4,t,i)},useInsertionEffect:function(t,i){Hu(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(wr){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(wr){un(!0);try{a(i)}finally{un(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=c1.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=bf(t);var i=t.queue,a=Mp.bind(null,we,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(t,i){var a=nn();return If(a,t,i)},useTransition:function(){var t=bf(!1);return t=Np.bind(null,we,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=we,h=nn();if(Le){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),We===null)throw Error(r(349));(ke&124)!==0||ip(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vp(rp.bind(null,l,d,t),[t]),l.flags|=2048,va(9,qu(),sp.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=We.identifierPrefix;if(Le){var a=Di,l=xi;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Lu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=s1++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Cf,useFormState:mp,useActionState:mp,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xf.bind(null,we,!0,a),a.dispatch=i,[t,i]},useMemoCache:Tf,useCacheRefresh:function(){return nn().memoizedState=u1.bind(null,we)}},jp={readContext:Kt,use:zu,useCallback:wp,useContext:Kt,useEffect:Ep,useImperativeHandle:bp,useInsertionEffect:Tp,useLayoutEffect:Ap,useMemo:Rp,useReducer:Bu,useRef:_p,useState:function(){return Bu(Vi)},useDebugValue:Rf,useDeferredValue:function(t,i){var a=_t();return Ip(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Bu(Vi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Ko(t),i]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:Cf,useFormState:gp,useActionState:gp,useOptimistic:function(t,i){var a=_t();return lp(a,Ye,t,i)},useMemoCache:Tf,useCacheRefresh:Op},h1={readContext:Kt,use:zu,useCallback:wp,useContext:Kt,useEffect:Ep,useImperativeHandle:bp,useInsertionEffect:Tp,useLayoutEffect:Ap,useMemo:Rp,useReducer:Sf,useRef:_p,useState:function(){return Sf(Vi)},useDebugValue:Rf,useDeferredValue:function(t,i){var a=_t();return Ye===null?If(a,t,i):Ip(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Sf(Vi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Ko(t),i]},useSyncExternalStore:np,useId:Dp,useHostTransitionStatus:Cf,useFormState:yp,useActionState:yp,useOptimistic:function(t,i){var a=_t();return Ye!==null?lp(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Op},Ea=null,Xo=0;function Ku(t){var i=Xo;return Xo+=1,Ea===null&&(Ea=[]),Yg(Ea,t,i)}function $o(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Qu(t,i){throw i.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Up(t){var i=t._init;return i(t._payload)}function Lp(t){function i(k,D){if(t){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Ci(k,D),k.index=0,k.sibling=null,k}function d(k,D,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function E(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function A(k,D,U,Q){return D===null||D.tag!==6?(D=$h(U,k.mode,Q),D.return=k,D):(D=h(D,U),D.return=k,D)}function I(k,D,U,Q){var ae=U.type;return ae===B?K(k,D,U.props.children,Q,U.key):D!==null&&(D.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===R&&Up(ae)===D.type)?(D=h(D,U.props),$o(D,U),D.return=k,D):(D=Cu(U.type,U.key,U.props,null,k.mode,Q),$o(D,U),D.return=k,D)}function L(k,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Jh(U,k.mode,Q),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function K(k,D,U,Q,ae){return D===null||D.tag!==7?(D=yr(U,k.mode,Q,ae),D.return=k,D):(D=h(D,U),D.return=k,D)}function X(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=$h(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return U=Cu(D.type,D.key,D.props,null,k.mode,U),$o(U,D),U.return=k,U;case z:return D=Jh(D,k.mode,U),D.return=k,D;case R:var Q=D._init;return D=Q(D._payload),X(k,D,U)}if(at(D)||P(D))return D=yr(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return X(k,Ku(D),U);if(D.$$typeof===fe)return X(k,Mu(k,D),U);Qu(k,D)}return null}function q(k,D,U,Q){var ae=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ae!==null?null:A(k,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===ae?I(k,D,U,Q):null;case z:return U.key===ae?L(k,D,U,Q):null;case R:return ae=U._init,U=ae(U._payload),q(k,D,U,Q)}if(at(U)||P(U))return ae!==null?null:K(k,D,U,Q,null);if(typeof U.then=="function")return q(k,D,Ku(U),Q);if(U.$$typeof===fe)return q(k,D,Mu(k,U),Q);Qu(k,U)}return null}function H(k,D,U,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(U)||null,A(D,k,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return k=k.get(Q.key===null?U:Q.key)||null,I(D,k,Q,ae);case z:return k=k.get(Q.key===null?U:Q.key)||null,L(D,k,Q,ae);case R:var Ie=Q._init;return Q=Ie(Q._payload),H(k,D,U,Q,ae)}if(at(Q)||P(Q))return k=k.get(U)||null,K(D,k,Q,ae,null);if(typeof Q.then=="function")return H(k,D,U,Ku(Q),ae);if(Q.$$typeof===fe)return H(k,D,U,Mu(D,Q),ae);Qu(D,Q)}return null}function ye(k,D,U,Q){for(var ae=null,Ie=null,le=D,me=D=0,Mt=null;le!==null&&me<U.length;me++){le.index>me?(Mt=le,le=null):Mt=le.sibling;var je=q(k,le,U[me],Q);if(je===null){le===null&&(le=Mt);break}t&&le&&je.alternate===null&&i(k,le),D=d(je,D,me),Ie===null?ae=je:Ie.sibling=je,Ie=je,le=Mt}if(me===U.length)return a(k,le),Le&&vr(k,me),ae;if(le===null){for(;me<U.length;me++)le=X(k,U[me],Q),le!==null&&(D=d(le,D,me),Ie===null?ae=le:Ie.sibling=le,Ie=le);return Le&&vr(k,me),ae}for(le=l(le);me<U.length;me++)Mt=H(le,k,me,U[me],Q),Mt!==null&&(t&&Mt.alternate!==null&&le.delete(Mt.key===null?me:Mt.key),D=d(Mt,D,me),Ie===null?ae=Mt:Ie.sibling=Mt,Ie=Mt);return t&&le.forEach(function(ws){return i(k,ws)}),Le&&vr(k,me),ae}function de(k,D,U,Q){if(U==null)throw Error(r(151));for(var ae=null,Ie=null,le=D,me=D=0,Mt=null,je=U.next();le!==null&&!je.done;me++,je=U.next()){le.index>me?(Mt=le,le=null):Mt=le.sibling;var ws=q(k,le,je.value,Q);if(ws===null){le===null&&(le=Mt);break}t&&le&&ws.alternate===null&&i(k,le),D=d(ws,D,me),Ie===null?ae=ws:Ie.sibling=ws,Ie=ws,le=Mt}if(je.done)return a(k,le),Le&&vr(k,me),ae;if(le===null){for(;!je.done;me++,je=U.next())je=X(k,je.value,Q),je!==null&&(D=d(je,D,me),Ie===null?ae=je:Ie.sibling=je,Ie=je);return Le&&vr(k,me),ae}for(le=l(le);!je.done;me++,je=U.next())je=H(le,k,me,je.value,Q),je!==null&&(t&&je.alternate!==null&&le.delete(je.key===null?me:je.key),D=d(je,D,me),Ie===null?ae=je:Ie.sibling=je,Ie=je);return t&&le.forEach(function(fA){return i(k,fA)}),Le&&vr(k,me),ae}function $e(k,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===B&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:e:{for(var ae=U.key;D!==null;){if(D.key===ae){if(ae=U.type,ae===B){if(D.tag===7){a(k,D.sibling),Q=h(D,U.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===R&&Up(ae)===D.type){a(k,D.sibling),Q=h(D,U.props),$o(Q,U),Q.return=k,k=Q;break e}a(k,D);break}else i(k,D);D=D.sibling}U.type===B?(Q=yr(U.props.children,k.mode,Q,U.key),Q.return=k,k=Q):(Q=Cu(U.type,U.key,U.props,null,k.mode,Q),$o(Q,U),Q.return=k,k=Q)}return E(k);case z:e:{for(ae=U.key;D!==null;){if(D.key===ae)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(k,D.sibling),Q=h(D,U.children||[]),Q.return=k,k=Q;break e}else{a(k,D);break}else i(k,D);D=D.sibling}Q=Jh(U,k.mode,Q),Q.return=k,k=Q}return E(k);case R:return ae=U._init,U=ae(U._payload),$e(k,D,U,Q)}if(at(U))return ye(k,D,U,Q);if(P(U)){if(ae=P(U),typeof ae!="function")throw Error(r(150));return U=ae.call(U),de(k,D,U,Q)}if(typeof U.then=="function")return $e(k,D,Ku(U),Q);if(U.$$typeof===fe)return $e(k,D,Mu(k,U),Q);Qu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(k,D.sibling),Q=h(D,U),Q.return=k,k=Q):(a(k,D),Q=$h(U,k.mode,Q),Q.return=k,k=Q),E(k)):a(k,D)}return function(k,D,U,Q){try{Xo=0;var ae=$e(k,D,U,Q);return Ea=null,ae}catch(le){if(le===zo||le===ku)throw le;var Ie=fn(29,le,null,k.mode);return Ie.lanes=Q,Ie.return=k,Ie}finally{}}}var Ta=Lp(!0),zp=Lp(!1),Cn=J(null),ii=null;function cs(t){var i=t.alternate;W(Rt,Rt.current&1),W(Cn,t),ii===null&&(i===null||pa.current!==null||i.memoizedState!==null)&&(ii=t)}function Bp(t){if(t.tag===22){if(W(Rt,Rt.current),W(Cn,t),ii===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ii=t)}}else hs()}function hs(){W(Rt,Rt.current),W(Cn,Cn.current)}function ki(t){ie(Cn),ii===t&&(ii=null),ie(Rt)}var Rt=J(0);function Yu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ed(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Df(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Of={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=pn(),h=os(l);h.payload=i,a!=null&&(h.callback=a),i=ls(t,h,l),i!==null&&(yn(i,t,l),qo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=pn(),h=os(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ls(t,h,l),i!==null&&(yn(i,t,l),qo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pn(),l=os(a);l.tag=2,i!=null&&(l.callback=i),i=ls(t,l,a),i!==null&&(yn(i,t,a),qo(i,t,a))}};function qp(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Oo(a,l)||!Oo(h,d):!0}function Hp(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Of.enqueueReplaceState(i,i.state,null)}function Rr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Xu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fp(t){Xu(t)}function Gp(t){console.error(t)}function Kp(t){Xu(t)}function $u(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Qp(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,i,a){return a=os(a),a.tag=3,a.payload={element:null},a.callback=function(){$u(t,i)},a}function Yp(t){return t=os(t),t.tag=3,t}function Xp(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Qp(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Qp(i,a,l),typeof h!="function"&&(ys===null?ys=new Set([this]):ys.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function f1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&jo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ii===null?id():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),rd(t,l,h)),!1;case 22:return a.flags|=65536,l===lf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),rd(t,l,h)),!1}throw Error(r(435,a.tag))}return rd(t,l,h),id(),!1}if(Le)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==ef&&(t=Error(r(422),{cause:l}),Po(wn(t,a)))):(l!==ef&&(i=Error(r(423),{cause:l}),Po(wn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=wn(l,a),h=Mf(t.stateNode,l,h),hf(t,h),ut!==4&&(ut=2)),!1;var d=Error(r(520),{cause:l});if(d=wn(d,a),il===null?il=[d]:il.push(d),ut!==4&&(ut=2),i===null)return!0;l=wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Mf(a.stateNode,l,t),hf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ys===null||!ys.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yp(h),Xp(h,t,a,l),hf(a,h),!1}a=a.return}while(a!==null);return!1}var $p=Error(r(461)),Dt=!1;function Ut(t,i,a,l){i.child=t===null?zp(i,null,a,l):Ta(i,t.child,a,l)}function Jp(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return Sr(i),l=pf(t,i,a,E,d,h),A=yf(),t!==null&&!Dt?(_f(t,i,h),Pi(t,i,h)):(Le&&A&&Zh(i),i.flags|=1,Ut(t,i,l,h),i.child)}function Zp(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Xh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Wp(t,i,d,l,h)):(t=Cu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Bf(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(E,l)&&t.ref===i.ref)return Pi(t,i,h)}return i.flags|=1,t=Ci(d,l),t.ref=i.ref,t.return=i,i.child=t}function Wp(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Oo(d,l)&&t.ref===i.ref)if(Dt=!1,i.pendingProps=l=d,Bf(t,h))(t.flags&131072)!==0&&(Dt=!0);else return i.lanes=t.lanes,Pi(t,i,h)}return Vf(t,i,a,l,h)}function ey(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ty(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(i,d!==null?d.cachePool:null),d!==null?Wg(i,d):df(),Bp(i);else return i.lanes=i.childLanes=536870912,ty(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Vu(i,d.cachePool),Wg(i,d),hs(),i.memoizedState=null):(t!==null&&Vu(i,null),df(),hs());return Ut(t,i,h,a),i.child}function ty(t,i,a,l){var h=of();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Vu(i,null),df(),Bp(i),t!==null&&jo(t,i,l,!0),null}function Ju(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Vf(t,i,a,l,h){return Sr(i),a=pf(t,i,a,l,void 0,h),l=yf(),t!==null&&!Dt?(_f(t,i,h),Pi(t,i,h)):(Le&&l&&Zh(i),i.flags|=1,Ut(t,i,a,h),i.child)}function ny(t,i,a,l,h,d){return Sr(i),i.updateQueue=null,a=tp(i,l,a,h),ep(t),l=yf(),t!==null&&!Dt?(_f(t,i,d),Pi(t,i,d)):(Le&&l&&Zh(i),i.flags|=1,Ut(t,i,a,d),i.child)}function iy(t,i,a,l,h){if(Sr(i),i.stateNode===null){var d=ha,E=a.contextType;typeof E=="object"&&E!==null&&(d=Kt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Of,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},uf(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Kt(E):ha,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Df(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Of.enqueueReplaceState(d,d.state,null),Fo(i,l,d,h),Ho(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,I=Rr(a,A);d.props=I;var L=d.context,K=a.contextType;E=ha,typeof K=="object"&&K!==null&&(E=Kt(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||L!==E)&&Hp(i,d,l,E),as=!1;var q=i.memoizedState;d.state=q,Fo(i,l,d,h),Ho(),L=i.memoizedState,A||q!==L||as?(typeof X=="function"&&(Df(i,a,X,l),L=i.memoizedState),(I=as||qp(i,a,I,l,q,L,E))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,cf(t,i),E=i.memoizedProps,K=Rr(a,E),d.props=K,X=i.pendingProps,q=d.context,L=a.contextType,I=ha,typeof L=="object"&&L!==null&&(I=Kt(L)),A=a.getDerivedStateFromProps,(L=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==X||q!==I)&&Hp(i,d,l,I),as=!1,q=i.memoizedState,d.state=q,Fo(i,l,d,h),Ho();var H=i.memoizedState;E!==X||q!==H||as||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof A=="function"&&(Df(i,a,A,l),H=i.memoizedState),(K=as||qp(i,a,K,l,q,H,I)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Ju(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ta(i,t.child,null,h),i.child=Ta(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Pi(t,i,h),t}function sy(t,i,a,l){return ko(),i.flags|=256,Ut(t,i,a,l),i.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:Gg()}}function jf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function ry(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?cs(i):hs(),Le){var A=lt,I;if(I=A){e:{for(I=A,A=ni;I.nodeType!==8;){if(!A){A=null;break e}if(I=Ln(I.nextSibling),I===null){A=null;break e}}A=I}A!==null?(i.memoizedState={dehydrated:A,treeContext:_r!==null?{id:xi,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},I=fn(18,null,null,0),I.stateNode=A,I.return=i,i.child=I,tn=i,lt=null,I=!0):I=!1}I||Tr(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Ed(A)?i.lanes=32:i.lanes=536870912,null;ki(i)}return A=l.children,l=l.fallback,h?(hs(),h=i.mode,A=Zu({mode:"hidden",children:A},h),l=yr(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=Pf(a),h.childLanes=jf(t,E,a),i.memoizedState=kf,l):(cs(i),Uf(i,A))}if(I=t.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(d)i.flags&256?(cs(i),i.flags&=-257,i=Lf(t,i,a)):i.memoizedState!==null?(hs(),i.child=t.child,i.flags|=128,i=null):(hs(),h=l.fallback,A=i.mode,l=Zu({mode:"visible",children:l.children},A),h=yr(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ta(i,t.child,null,a),l=i.child,l.memoizedState=Pf(a),l.childLanes=jf(t,E,a),i.memoizedState=kf,i=h);else if(cs(i),Ed(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var L=E.dgst;E=L,l=Error(r(419)),l.stack="",l.digest=E,Po({value:l,source:null,stack:null}),i=Lf(t,i,a)}else if(Dt||jo(t,i,a,!1),E=(a&t.childLanes)!==0,Dt||E){if(E=We,E!==null&&(l=a&-a,l=(l&42)!==0?1:Zi(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ca(t,l),yn(E,t,l),$p;A.data==="$?"||id(),i=Lf(t,i,a)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,lt=Ln(A.nextSibling),tn=i,Le=!0,Er=null,ni=!1,t!==null&&(In[Nn++]=xi,In[Nn++]=Di,In[Nn++]=_r,xi=t.id,Di=t.overflow,_r=i),i=Uf(i,l.children),i.flags|=4096);return i}return h?(hs(),h=l.fallback,A=i.mode,I=t.child,L=I.sibling,l=Ci(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,L!==null?h=Ci(L,h):(h=yr(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=Pf(a):(I=A.cachePool,I!==null?(L=wt._currentValue,I=I.parent!==L?{parent:L,pool:L}:I):I=Gg(),A={baseLanes:A.baseLanes|a,cachePool:I}),h.memoizedState=A,h.childLanes=jf(t,E,a),i.memoizedState=kf,l):(cs(i),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function Uf(t,i){return i=Zu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Zu(t,i){return t=fn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Lf(t,i,a){return Ta(i,t.child,null,a),t=Uf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ay(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),nf(t.return,i,a)}function zf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function oy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=Rt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ay(t,a,i);else if(t.tag===19)ay(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(Rt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Yu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),zf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Yu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}zf(i,!0,a,null,d);break;case"together":zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),ps|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(jo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Ci(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Bf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function d1(t,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),rs(i,wt,t.memoizedState.cache),ko();break;case 27:case 5:Ji(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:rs(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(cs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ry(t,i,a):(cs(i),t=Pi(t,i,a),t!==null?t.sibling:null);cs(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(jo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return oy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,ey(t,i,a);case 24:rs(i,wt,t.memoizedState.cache)}return Pi(t,i,a)}function ly(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Bf(t,a)&&(i.flags&128)===0)return Dt=!1,d1(t,i,a);Dt=(t.flags&131072)!==0}else Dt=!1,Le&&(i.flags&1048576)!==0&&Ug(i,Du,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Xh(l)?(t=Rr(l,t),i.tag=1,i=iy(null,i,l,t,a)):(i.tag=0,i=Vf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===He){i.tag=11,i=Jp(null,i,l,t,a);break e}else if(h===V){i.tag=14,i=Zp(null,i,l,t,a);break e}}throw i=kt(l)||l,Error(r(306,i,""))}}return i;case 0:return Vf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Rr(l,i.pendingProps),iy(t,i,l,h,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,cf(t,i),Fo(i,l,null,a);var E=i.memoizedState;if(l=E.cache,rs(i,wt,l),l!==d.cache&&sf(i,[wt],a,!0),Ho(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=sy(t,i,l,a);break e}else if(l!==h){h=wn(Error(r(424)),i),Po(h),i=sy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Ln(t.firstChild),tn=i,Le=!0,Er=null,ni=!0,a=zp(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ko(),l===h){i=Pi(t,i,a);break e}Ut(t,i,l,a)}i=i.child}return i;case 26:return Ju(t,i),t===null?(a=f_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=fc(ve.current).createElement(a),l[At]=i,l[gt]=t,zt(l,a,t),ct(l),i.stateNode=l):i.memoizedState=f_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ji(i),t===null&&Le&&(l=i.stateNode=u_(i.type,i.pendingProps,ve.current),tn=i,ni=!0,h=lt,Es(i.type)?(Td=h,lt=Ln(l.firstChild)):lt=h),Ut(t,i,i.pendingProps.children,a),Ju(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=lt)&&(l=B1(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,tn=i,lt=Ln(l.firstChild),ni=!1,h=!0):h=!1),h||Tr(i)),Ji(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,yd(h,d)?l=null:E!==null&&yd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=pf(t,i,r1,null,null,a),fl._currentValue=h),Ju(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=lt)&&(a=q1(a,i.pendingProps,ni),a!==null?(i.stateNode=a,tn=i,lt=null,t=!0):t=!1),t||Tr(i)),null;case 13:return ry(t,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ta(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return Jp(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,rs(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Sr(i),h=Kt(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return Zp(t,i,i.type,i.pendingProps,a);case 15:return Wp(t,i,i.type,i.pendingProps,a);case 19:return oy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Zu(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ci(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ey(t,i,a);case 24:return Sr(i),l=Kt(wt),t===null?(h=of(),h===null&&(h=We,d=rf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},uf(i),rs(i,wt,h)):((t.lanes&a)!==0&&(cf(t,i),Fo(i,null,null,a),Ho()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),rs(i,wt,l)):(l=d.cache,rs(i,wt,l),l!==h.cache&&sf(i,[wt],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ji(t){t.flags|=4}function uy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!y_(i)){if(i=Cn.current,i!==null&&((ke&4194048)===ke?ii!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==ii))throw Bo=lf,Kg;t.flags|=8192}}function Wu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?mo():536870912,t.lanes|=i,wa|=i)}function Jo(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function st(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function m1(t,i,a){var l=i.pendingProps;switch(Wh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(i),null;case 1:return st(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(wt),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Vo(i)?ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bg())),st(i),null;case 26:return a=i.memoizedState,t===null?(ji(i),a!==null?(st(i),uy(i,a)):(st(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ji(i),st(i),uy(i,a)):(st(i),i.flags&=-16777217):(t.memoizedProps!==l&&ji(i),st(i),i.flags&=-16777217),null;case 27:pi(i),a=ve.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return st(i),null}t=he.current,Vo(i)?Lg(i):(t=u_(h,l,a),i.stateNode=t,ji(i))}return st(i),null;case 5:if(pi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return st(i),null}if(t=he.current,Vo(i))Lg(i);else{switch(h=fc(ve.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[At]=i,t[gt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ji(i)}}return st(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=ve.current,Vo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||n_(t.nodeValue,a)),t||Tr(i)}else t=fc(t).createTextNode(l),t[At]=i,i.stateNode=t}return st(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Vo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[At]=i}else ko(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;st(i),h=!1}else h=Bg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Wu(i,i.updateQueue),st(i),null;case 4:return Fn(),t===null&&fd(i.stateNode.containerInfo),st(i),null;case 10:return Mi(i.type),st(i),null;case 19:if(ie(Rt),h=i.memoizedState,h===null)return st(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Jo(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Yu(t),d!==null){for(i.flags|=128,Jo(h,!1),t=d.updateQueue,i.updateQueue=t,Wu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)jg(a,t),a=a.sibling;return W(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&vn()>nc&&(i.flags|=128,l=!0,Jo(h,!1),i.lanes=4194304)}else{if(!l)if(t=Yu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Wu(i,t),Jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Le)return st(i),null}else 2*vn()-h.renderingStartTime>nc&&a!==536870912&&(i.flags|=128,l=!0,Jo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,t=Rt.current,W(Rt,l?t&1|2:t&1),i):(st(i),null);case 22:case 23:return ki(i),mf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(st(i),i.subtreeFlags&6&&(i.flags|=8192)):st(i),a=i.updateQueue,a!==null&&Wu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ie(br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(wt),st(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function g1(t,i){switch(Wh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Mi(wt),Fn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pi(i),null;case 13:if(ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ko()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ie(Rt),null;case 4:return Fn(),null;case 10:return Mi(i.type),null;case 22:case 23:return ki(i),mf(),t!==null&&ie(br),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Mi(wt),null;case 25:return null;default:return null}}function cy(t,i){switch(Wh(i),i.tag){case 3:Mi(wt),Fn();break;case 26:case 27:case 5:pi(i);break;case 4:Fn();break;case 13:ki(i);break;case 19:ie(Rt);break;case 10:Mi(i.type);break;case 22:case 23:ki(i),mf(),t!==null&&ie(br);break;case 24:Mi(wt)}}function Zo(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(A){Je(i,i.return,A)}}function fs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=i;var I=a,L=A;try{L()}catch(K){Je(h,I,K)}}}l=l.next}while(l!==d)}}catch(K){Je(i,i.return,K)}}function hy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Zg(i,a)}catch(l){Je(t,t.return,l)}}}function fy(t,i,a){a.props=Rr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function Wo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function dy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function qf(t,i,a){try{var l=t.stateNode;P1(l,t.type,a,i),l[gt]=i}catch(h){Je(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Es(t.type)||t.tag===4}function Hf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Es(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ff(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=hc));else if(l!==4&&(l===27&&Es(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ff(t,i,a),t=t.sibling;t!==null;)Ff(t,i,a),t=t.sibling}function ec(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Es(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ec(t,i,a),t=t.sibling;t!==null;)ec(t,i,a),t=t.sibling}function gy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);zt(i,l,a),i[At]=t,i[gt]=a}catch(d){Je(t,t.return,d)}}var Ui=!1,ft=!1,Gf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function p1(t,i){if(t=t.containerInfo,gd=_c,t=Ig(t),qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,A=-1,I=-1,L=0,K=0,X=t,q=null;t:for(;;){for(var H;X!==a||h!==0&&X.nodeType!==3||(A=E+h),X!==d||l!==0&&X.nodeType!==3||(I=E+l),X.nodeType===3&&(E+=X.nodeValue.length),(H=X.firstChild)!==null;)q=X,X=H;for(;;){if(X===t)break t;if(q===a&&++L===h&&(A=E),q===d&&++K===l&&(I=E),(H=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=H}a=A===-1||I===-1?null:{start:A,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(pd={focusedElem:t,selectionRange:a},_c=!1,Ot=i;Ot!==null;)if(i=Ot,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ot=t;else for(;Ot!==null;){switch(i=Ot,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ye=Rr(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(de){Je(a,a.return,de)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Ot=t;break}Ot=i.return}}function yy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ds(t,a),l&4&&Zo(5,a);break;case 1:if(ds(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){Je(a,a.return,E)}else{var h=Rr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Je(a,a.return,E)}}l&64&&hy(a),l&512&&Wo(a,a.return);break;case 3:if(ds(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Zg(t,i)}catch(E){Je(a,a.return,E)}}break;case 27:i===null&&l&4&&gy(a);case 26:case 5:ds(t,a),i===null&&l&4&&dy(a),l&512&&Wo(a,a.return);break;case 12:ds(t,a);break;case 13:ds(t,a),l&4&&Ey(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=w1.bind(null,a),H1(t,a))));break;case 22:if(l=a.memoizedState!==null||Ui,!l){i=i!==null&&i.memoizedState!==null||ft,h=Ui;var d=ft;Ui=l,(ft=i)&&!d?ms(t,a,(a.subtreeFlags&8772)!==0):ds(t,a),Ui=h,ft=d}break;case 30:break;default:ds(t,a)}}function _y(t){var i=t.alternate;i!==null&&(t.alternate=null,_y(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ts(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var it=null,sn=!1;function Li(t,i,a){for(a=a.child;a!==null;)vy(t,i,a),a=a.sibling}function vy(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||si(a,i),Li(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||si(a,i);var l=it,h=sn;Es(a.type)&&(it=a.stateNode,sn=!1),Li(t,i,a),ll(a.stateNode),it=l,sn=h;break;case 5:ft||si(a,i);case 6:if(l=it,h=sn,it=null,Li(t,i,a),it=l,sn=h,it!==null)if(sn)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{it.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:it!==null&&(sn?(t=it,o_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),pl(t)):o_(it,a.stateNode));break;case 4:l=it,h=sn,it=a.stateNode.containerInfo,sn=!0,Li(t,i,a),it=l,sn=h;break;case 0:case 11:case 14:case 15:ft||fs(2,a,i),ft||fs(4,a,i),Li(t,i,a);break;case 1:ft||(si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fy(a,i,l)),Li(t,i,a);break;case 21:Li(t,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Li(t,i,a),ft=l;break;default:Li(t,i,a)}}function Ey(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pl(t)}catch(a){Je(i,i.return,a)}}function y1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new py),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new py),i;default:throw Error(r(435,t.tag))}}function Kf(t,i){var a=y1(t);i.forEach(function(l){var h=R1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Es(A.type)){it=A.stateNode,sn=!1;break e}break;case 5:it=A.stateNode,sn=!1;break e;case 3:case 4:it=A.stateNode.containerInfo,sn=!0;break e}A=A.return}if(it===null)throw Error(r(160));vy(d,E,h),it=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ty(i,t),i=i.sibling}var Un=null;function Ty(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(fs(3,t,t.return),Zo(3,t),fs(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(ft||a===null||si(a,a.return)),l&64&&Ui&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(dn(i,t),mn(t),l&512&&(ft||a===null||si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[tr]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[At]=t,ct(d),l=d;break e;case"link":var E=g_("link","href",h).get(l+(a.href||""));if(E){for(var A=0;A<E.length;A++)if(d=E[A],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(A,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(E=g_("meta","content",h).get(l+(a.content||""))){for(A=0;A<E.length;A++)if(d=E[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(A,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[At]=t,ct(d),l=d}t.stateNode=l}else p_(h,t.type,t.stateNode);else t.stateNode=m_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?p_(h,t.type,t.stateNode):m_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&qf(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(ft||a===null||si(a,a.return)),a!==null&&l&4&&qf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(ft||a===null||si(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(H){Je(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,qf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Gf=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){Je(t,t.return,H)}}break;case 3:if(gc=null,h=Un,Un=dc(i.containerInfo),dn(i,t),Un=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{pl(i.containerInfo)}catch(H){Je(t,t.return,H)}Gf&&(Gf=!1,Ay(t));break;case 4:l=Un,Un=dc(t.stateNode.containerInfo),dn(i,t),mn(t),Un=l;break;case 12:dn(i,t),mn(t);break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zf=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kf(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,L=Ui,K=ft;if(Ui=L||h,ft=K||I,dn(i,t),ft=K,Ui=L,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Ui||ft||Ir(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=I.stateNode;var X=I.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Je(I,I.return,H)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){Je(I,I.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Kf(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kf(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(my(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Hf(t);ec(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Tn(E,""),a.flags&=-33);var A=Hf(t);ec(t,A,E);break;case 3:case 4:var I=a.stateNode.containerInfo,L=Hf(t);Ff(t,L,I);break;default:throw Error(r(161))}}catch(K){Je(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ay(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ds(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yy(t,i.alternate,i),i=i.sibling}function Ir(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:fs(4,i,i.return),Ir(i);break;case 1:si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&fy(i,i.return,a),Ir(i);break;case 27:ll(i.stateNode);case 26:case 5:si(i,i.return),Ir(i);break;case 22:i.memoizedState===null&&Ir(i);break;case 30:Ir(i);break;default:Ir(i)}t=t.sibling}}function ms(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:ms(h,d,a),Zo(4,d);break;case 1:if(ms(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Je(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Jg(I[h],A)}catch(L){Je(l,l.return,L)}}a&&E&64&&hy(d),Wo(d,d.return);break;case 27:gy(d);case 26:case 5:ms(h,d,a),a&&l===null&&E&4&&dy(d),Wo(d,d.return);break;case 12:ms(h,d,a);break;case 13:ms(h,d,a),a&&E&4&&Ey(h,d);break;case 22:d.memoizedState===null&&ms(h,d,a),Wo(d,d.return);break;case 30:break;default:ms(h,d,a)}i=i.sibling}}function Qf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Uo(a))}function Yf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Uo(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sy(t,i,a,l),i=i.sibling}function Sy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&Zo(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Uo(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,A=d.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):el(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,Aa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Qf(E,i);break;case 24:ri(t,i,a,l),h&2048&&Yf(i.alternate,i);break;default:ri(t,i,a,l)}}function Aa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,A=a,I=l,L=E.flags;switch(E.tag){case 0:case 11:case 15:Aa(d,E,A,I,h),Zo(8,E);break;case 23:break;case 22:var K=E.stateNode;E.memoizedState!==null?K._visibility&2?Aa(d,E,A,I,h):el(d,E):(K._visibility|=2,Aa(d,E,A,I,h)),h&&L&2048&&Qf(E.alternate,E);break;case 24:Aa(d,E,A,I,h),h&&L&2048&&Yf(E.alternate,E);break;default:Aa(d,E,A,I,h)}i=i.sibling}}function el(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:el(a,l),h&2048&&Qf(l.alternate,l);break;case 24:el(a,l),h&2048&&Yf(l.alternate,l);break;default:el(a,l)}i=i.sibling}}var tl=8192;function Sa(t){if(t.subtreeFlags&tl)for(t=t.child;t!==null;)by(t),t=t.sibling}function by(t){switch(t.tag){case 26:Sa(t),t.flags&tl&&t.memoizedState!==null&&nA(Un,t.memoizedState,t.memoizedProps);break;case 5:Sa(t);break;case 3:case 4:var i=Un;Un=dc(t.stateNode.containerInfo),Sa(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=tl,tl=16777216,Sa(t),tl=i):Sa(t));break;default:Sa(t)}}function wy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,Iy(l,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:nl(t),t.flags&2048&&fs(9,t,t.return);break;case 3:nl(t);break;case 12:nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,tc(t)):nl(t);break;default:nl(t)}}function tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ot=l,Iy(l,t)}wy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:fs(8,i,i.return),tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,tc(i));break;default:tc(i)}t=t.sibling}}function Iy(t,i){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:fs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Uo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(_y(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var _1={getCacheForType:function(t){var i=Kt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},v1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,We=null,Ne=null,ke=0,Ke=0,gn=null,gs=!1,ba=!1,Xf=!1,zi=0,ut=0,ps=0,Nr=0,$f=0,xn=0,wa=0,il=null,rn=null,Jf=!1,Zf=0,nc=1/0,ic=null,ys=null,Lt=0,_s=null,Ra=null,Ia=0,Wf=0,ed=null,Ny=null,sl=0,td=null;function pn(){if((Ge&2)!==0&&ke!==0)return ke&-ke;if(G.T!==null){var t=ma;return t!==0?t:ld()}return Wi()}function Cy(){xn===0&&(xn=(ke&536870912)===0||Le?fo():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),xn}function yn(t,i,a){(t===We&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Na(t,0),vs(t,ke,xn,!1)),_i(t,a),((Ge&2)===0||t!==We)&&(t===We&&((Ge&2)===0&&(Nr|=a),ut===4&&vs(t,ke,xn,!1)),ai(t))}function xy(t,i,a){if((Ge&6)!==0)throw Error(r(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||er(t,i),h=l?A1(t,i):sd(t,i,!0),d=l;do{if(h===0){ba&&!l&&vs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!E1(a)){h=sd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var A=t;h=il;var I=A.current.memoizedState.isDehydrated;if(I&&(Na(A,E).flags|=256),E=sd(A,E,!1),E!==2){if(Xf&&!I){A.errorRecoveryDisabledLanes|=d,Nr|=d,h=4;break e}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Na(t,0),vs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:vs(l,i,xn,!gs);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=Zf+300-vn(),10<h)){if(vs(l,i,xn,!gs),Gr(l,0,!0)!==0)break e;l.timeoutHandle=r_(Dy.bind(null,l,a,rn,ic,Jf,i,xn,Nr,wa,gs,d,2,-0,0),h);break e}Dy(l,a,rn,ic,Jf,i,xn,Nr,wa,gs,d,0,-0,0)}}break}while(!0);ai(t)}function Dy(t,i,a,l,h,d,E,A,I,L,K,X,q,H){if(t.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(hl={stylesheets:null,count:0,unsuspend:tA},by(i),X=iA(),X!==null)){t.cancelPendingCommit=X(Uy.bind(null,t,i,d,a,l,h,E,A,I,K,1,q,H)),vs(t,d,E,!L);return}Uy(t,i,d,a,l,h,E,A,I)}function E1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vs(t,i,a,l){i&=~$f,i&=~Nr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Gt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Gn(t,a,i)}function sc(){return(Ge&6)===0?(rl(0),!1):!0}function nd(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Oi=Ar=null,vf(t),Ea=null,Xo=0,t=Ne;for(;t!==null;)cy(t.alternate,t),t=t.return;Ne=null}}function Na(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,U1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),nd(),We=t,Ne=a=Ci(t.current,null),ke=i,Ke=0,gn=null,gs=!1,ba=er(t,i),Xf=!1,wa=xn=$f=Nr=ps=ut=0,rn=il=null,Jf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Gt(l),d=1<<h;i|=t[h],l&=~d}return zi=i,Ru(),a}function Oy(t,i){we=null,G.H=Gu,i===zo||i===ku?(i=Xg(),Ke=3):i===Kg?(i=Xg(),Ke=4):Ke=i===$p?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,Ne===null&&(ut=1,$u(t,wn(i,t.current)))}function My(){var t=G.H;return G.H=Gu,t===null?Gu:t}function Vy(){var t=G.A;return G.A=_1,t}function id(){ut=4,gs||(ke&4194048)!==ke&&Cn.current!==null||(ba=!0),(ps&134217727)===0&&(Nr&134217727)===0||We===null||vs(We,ke,xn,!1)}function sd(t,i,a){var l=Ge;Ge|=2;var h=My(),d=Vy();(We!==t||ke!==i)&&(ic=null,Na(t,i)),i=!1;var E=ut;e:do try{if(Ke!==0&&Ne!==null){var A=Ne,I=gn;switch(Ke){case 8:nd(),E=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var L=Ke;if(Ke=0,gn=null,Ca(t,A,I,L),a&&ba){E=0;break e}break;default:L=Ke,Ke=0,gn=null,Ca(t,A,I,L)}}T1(),E=ut;break}catch(K){Oy(t,K)}while(!0);return i&&t.shellSuspendCounter++,Oi=Ar=null,Ge=l,G.H=h,G.A=d,Ne===null&&(We=null,ke=0,Ru()),E}function T1(){for(;Ne!==null;)ky(Ne)}function A1(t,i){var a=Ge;Ge|=2;var l=My(),h=Vy();We!==t||ke!==i?(ic=null,nc=vn()+500,Na(t,i)):ba=er(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=gn;t:switch(Ke){case 1:Ke=0,gn=null,Ca(t,i,d,1);break;case 2:case 9:if(Qg(d)){Ke=0,gn=null,Py(i);break}i=function(){Ke!==2&&Ke!==9||We!==t||(Ke=7),ai(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Qg(d)?(Ke=0,gn=null,Py(i)):(Ke=0,gn=null,Ca(t,i,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var A=Ne;if(!E||y_(E)){Ke=0,gn=null;var I=A.sibling;if(I!==null)Ne=I;else{var L=A.return;L!==null?(Ne=L,rc(L)):Ne=null}break t}}Ke=0,gn=null,Ca(t,i,d,5);break;case 6:Ke=0,gn=null,Ca(t,i,d,6);break;case 8:nd(),ut=6;break e;default:throw Error(r(462))}}S1();break}catch(K){Oy(t,K)}while(!0);return Oi=Ar=null,G.H=l,G.A=h,Ge=a,Ne!==null?0:(We=null,ke=0,Ru(),ut)}function S1(){for(;Ne!==null&&!lo();)ky(Ne)}function ky(t){var i=ly(t.alternate,t,zi);t.memoizedProps=t.pendingProps,i===null?rc(t):Ne=i}function Py(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ny(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=ny(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:vf(i);default:cy(a,i),i=Ne=jg(i,zi),i=ly(a,i,zi)}t.memoizedProps=t.pendingProps,i===null?rc(t):Ne=i}function Ca(t,i,a,l){Oi=Ar=null,vf(i),Ea=null,Xo=0;var h=i.return;try{if(f1(t,h,i,a,ke)){ut=1,$u(t,wn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ut=1,$u(t,wn(a,t.current)),Ne=null;return}i.flags&32768?(Le||l===1?t=!0:ba||(ke&536870912)!==0?t=!1:(gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),jy(i,t)):rc(i)}function rc(t){var i=t;do{if((i.flags&32768)!==0){jy(i,gs);return}t=i.return;var a=m1(i.alternate,i,zi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ut===0&&(ut=5)}function jy(t,i){do{var a=g1(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ut=6,Ne=null}function Uy(t,i,a,l,h,d,E,A,I){t.cancelPendingCommit=null;do ac();while(Lt!==0);if((Ge&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Qh,go(t,a,d,E,A,I),t===We&&(Ne=We=null,ke=0),Ra=i,_s=t,Ia=a,Wf=d,ed=h,Ny=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,I1($s,function(){return Hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ne.p,ne.p=2,E=Ge,Ge|=4;try{p1(t,i,a)}finally{Ge=E,ne.p=h,G.T=l}}Lt=1,Ly(),zy(),By()}}function Ly(){if(Lt===1){Lt=0;var t=_s,i=Ra,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=ne.p;ne.p=2;var h=Ge;Ge|=4;try{Ty(i,t);var d=pd,E=Ig(t.containerInfo),A=d.focusedElem,I=d.selectionRange;if(E!==A&&A&&A.ownerDocument&&Rg(A.ownerDocument.documentElement,A)){if(I!==null&&qh(A)){var L=I.start,K=I.end;if(K===void 0&&(K=L),"selectionStart"in A)A.selectionStart=L,A.selectionEnd=Math.min(K,A.value.length);else{var X=A.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var H=q.getSelection(),ye=A.textContent.length,de=Math.min(I.start,ye),$e=I.end===void 0?de:Math.min(I.end,ye);!H.extend&&de>$e&&(E=$e,$e=de,de=E);var k=wg(A,de),D=wg(A,$e);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=X.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),de>$e?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(X=[],H=A;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<X.length;A++){var Q=X[A];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}_c=!!gd,pd=gd=null}finally{Ge=h,ne.p=l,G.T=a}}t.current=i,Lt=2}}function zy(){if(Lt===2){Lt=0;var t=_s,i=Ra,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=ne.p;ne.p=2;var h=Ge;Ge|=4;try{yy(t,i.alternate,i)}finally{Ge=h,ne.p=l,G.T=a}}Lt=3}}function By(){if(Lt===4||Lt===3){Lt=0,tu();var t=_s,i=Ra,a=Ia,l=Ny;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,Ra=_s=null,qy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ys=null),Kr(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var A=l[E];d(A.value,{componentStack:A.stack})}}finally{G.T=i,ne.p=h}}(Ia&3)!==0&&ac(),ai(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===td?sl++:(sl=0,td=t):sl=0,rl(0)}}function qy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Uo(i)))}function ac(t){return Ly(),zy(),By(),Hy()}function Hy(){if(Lt!==5)return!1;var t=_s,i=Wf;Wf=0;var a=Kr(Ia),l=G.T,h=ne.p;try{ne.p=32>a?32:a,G.T=null,a=ed,ed=null;var d=_s,E=Ia;if(Lt=0,Ra=_s=null,Ia=0,(Ge&6)!==0)throw Error(r(331));var A=Ge;if(Ge|=4,Ry(d.current),Sy(d,d.current,E,a),Ge=A,rl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ne.p=h,G.T=l,qy(t,i)}}function Fy(t,i,a){i=wn(a,i),i=Mf(t.stateNode,i,2),t=ls(t,i,2),t!==null&&(_i(t,2),ai(t))}function Je(t,i,a){if(t.tag===3)Fy(t,t,a);else for(;i!==null;){if(i.tag===3){Fy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ys===null||!ys.has(l))){t=wn(a,t),a=Yp(2),l=ls(i,a,2),l!==null&&(Xp(a,l,i,t),_i(l,2),ai(l));break}}i=i.return}}function rd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new v1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Xf=!0,h.add(a),t=b1.bind(null,t,i,a),i.then(t,t))}function b1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(ke&a)===a&&(ut===4||ut===3&&(ke&62914560)===ke&&300>vn()-Zf?(Ge&2)===0&&Na(t,0):$f|=a,wa===ke&&(wa=0)),ai(t)}function Gy(t,i){i===0&&(i=mo()),t=ca(t,i),t!==null&&(_i(t,i),ai(t))}function w1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gy(t,a)}function R1(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Gy(t,a)}function I1(t,i){return Ys(t,i)}var oc=null,xa=null,ad=!1,lc=!1,od=!1,Cr=0;function ai(t){t!==xa&&t.next===null&&(xa===null?oc=xa=t:xa=xa.next=t),lc=!0,ad||(ad=!0,C1())}function rl(t,i){if(!od&&lc){od=!0;do for(var a=!1,l=oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(E&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Xy(l,d))}else d=ke,d=Gr(l,l===We?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||er(l,d)||(a=!0,Xy(l,d));l=l.next}while(a);od=!1}}function N1(){Ky()}function Ky(){lc=ad=!1;var t=0;Cr!==0&&(j1()&&(t=Cr),Cr=0);for(var i=vn(),a=null,l=oc;l!==null;){var h=l.next,d=Qy(l,i);d===0?(l.next=null,a===null?oc=h:a.next=h,h===null&&(xa=a)):(a=l,(t!==0||(d&3)!==0)&&(lc=!0)),l=h}rl(t)}function Qy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Gt(d),A=1<<E,I=h[E];I===-1?((A&a)===0||(A&l)!==0)&&(h[E]=ho(A,i)):I<=i&&(t.expiredLanes|=A),d&=~A}if(i=We,a=ke,a=Gr(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Xs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||er(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Xs(l),Kr(a)){case 2:case 8:a=Hr;break;case 32:a=$s;break;case 268435456:a=Fr;break;default:a=$s}return l=Yy.bind(null,t),a=Ys(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Xs(l),t.callbackPriority=2,t.callbackNode=null,2}function Yy(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ac()&&t.callbackNode!==a)return null;var l=ke;return l=Gr(t,t===We?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(xy(t,l,i),Qy(t,vn()),t.callbackNode!=null&&t.callbackNode===a?Yy.bind(null,t):null)}function Xy(t,i){if(ac())return null;xy(t,i,!0)}function C1(){L1(function(){(Ge&6)!==0?Ys(uo,N1):Ky()})}function ld(){return Cr===0&&(Cr=fo()),Cr}function $y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zr(""+t)}function Jy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function x1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=$y((h[gt]||null).action),E=l.submitter;E&&(i=(i=E[gt]||null)?$y(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var A=new Wr("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cr!==0){var I=E?Jy(h,E):new FormData(h);Nf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(A.preventDefault(),I=E?Jy(h,E):new FormData(h),Nf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var ud=0;ud<Kh.length;ud++){var cd=Kh[ud],D1=cd.toLowerCase(),O1=cd[0].toUpperCase()+cd.slice(1);jn(D1,"on"+O1)}jn(xg,"onAnimationEnd"),jn(Dg,"onAnimationIteration"),jn(Og,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(XT,"onTransitionRun"),jn($T,"onTransitionStart"),jn(JT,"onTransitionCancel"),jn(Mg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(al));function Zy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var A=l[E],I=A.instance,L=A.currentTarget;if(A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=L;try{d(h)}catch(K){Xu(K)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(A=l[E],I=A.instance,L=A.currentTarget,A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=L;try{d(h)}catch(K){Xu(K)}h.currentTarget=null,d=I}}}}function Ce(t,i){var a=i[yo];a===void 0&&(a=i[yo]=new Set);var l=t+"__bubble";a.has(l)||(Wy(i,t,2,!1),a.add(l))}function hd(t,i,a){var l=0;i&&(l|=4),Wy(a,t,l,i)}var uc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[uc]){t[uc]=!0,_o.forEach(function(a){a!=="selectionchange"&&(M1.has(a)||hd(a,!1,t),hd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[uc]||(i[uc]=!0,hd("selectionchange",!1,i))}}function Wy(t,i,a,l){switch(S_(i)){case 2:var h=aA;break;case 8:h=oA;break;default:h=Rd}a=h.bind(null,i,a,t),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function dd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;A!==null;){if(E=vi(A),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}A=A.parentNode}}l=l.return}hu(function(){var L=d,K=An(a),X=[];e:{var q=Vg.get(t);if(q!==void 0){var H=Wr,ye=t;switch(t){case"keypress":if(Jn(a)===0)break e;case"keydown":case"keyup":H=ra;break;case"focusin":ye="focus",H=na;break;case"focusout":ye="blur",H=na;break;case"beforeblur":case"afterblur":H=na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=vu;break;case xg:case Dg:case Og:H=ia;break;case Mg:H=Tu;break;case"scroll":case"scrollend":H=fu;break;case"wheel":H=aa;break;case"copy":case"cut":case"paste":H=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=xo;break;case"toggle":case"beforetoggle":H=Su}var de=(i&4)!==0,$e=!de&&(t==="scroll"||t==="scrollend"),k=de?q!==null?q+"Capture":null:q;de=[];for(var D=L,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||k===null||(Q=lr(D,k),Q!=null&&de.push(ol(D,Q,U))),$e)break;D=D.return}0<de.length&&(q=new H(q,ye,null,a,K),X.push({event:q,listeners:de}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==Si&&(ye=a.relatedTarget||a.fromElement)&&(vi(ye)||ye[En]))break e;if((H||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ye=a.relatedTarget||a.toElement,H=L,ye=ye?vi(ye):null,ye!==null&&($e=c(ye),de=ye.tag,ye!==$e||de!==5&&de!==27&&de!==6)&&(ye=null)):(H=null,ye=L),H!==ye)){if(de=bn,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(de=xo,Q="onPointerLeave",k="onPointerEnter",D="pointer"),$e=H==null?q:Qn(H),U=ye==null?q:Qn(ye),q=new de(Q,D+"leave",H,a,K),q.target=$e,q.relatedTarget=U,Q=null,vi(K)===L&&(de=new de(k,D+"enter",ye,a,K),de.target=U,de.relatedTarget=$e,Q=de),$e=Q,H&&ye)t:{for(de=H,k=ye,D=0,U=de;U;U=Da(U))D++;for(U=0,Q=k;Q;Q=Da(Q))U++;for(;0<D-U;)de=Da(de),D--;for(;0<U-D;)k=Da(k),U--;for(;D--;){if(de===k||k!==null&&de===k.alternate)break t;de=Da(de),k=Da(k)}de=null}else de=null;H!==null&&e_(X,q,H,de,!1),ye!==null&&$e!==null&&e_(X,$e,ye,de,!0)}}e:{if(q=L?Qn(L):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ae=vg;else if(bt(q))if(Eg)ae=KT;else{ae=FT;var Ie=HT}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&So(L.elementType)&&(ae=vg):ae=GT;if(ae&&(ae=ae(t,L))){Ni(X,ae,a,K);break e}Ie&&Ie(t,q,L),t==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&is(q,"number",q.value)}switch(Ie=L?Qn(L):window,t){case"focusin":(bt(Ie)||Ie.contentEditable==="true")&&(oa=Ie,Hh=L,Mo=null);break;case"focusout":Mo=Hh=oa=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Ng(X,a,K);break;case"selectionchange":if(YT)break;case"keydown":case"keyup":Ng(X,a,K)}var le;if(ei)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Me?F(t,a)&&(me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(me="onCompositionStart");me&&(v&&a.locale!=="ko"&&(Me||me!=="onCompositionStart"?me==="onCompositionEnd"&&Me&&(le=wo()):($n=K,ss="value"in $n?$n.value:$n.textContent,Me=!0)),Ie=cc(L,me),0<Ie.length&&(me=new No(me,t,null,a,K),X.push({event:me,listeners:Ie}),le?me.data=le:(le=ee(a),le!==null&&(me.data=le)))),(le=g?St(t,a):Ve(t,a))&&(me=cc(L,"onBeforeInput"),0<me.length&&(Ie=new No("onBeforeInput","beforeinput",null,a,K),X.push({event:Ie,listeners:me}),Ie.data=le)),x1(X,t,L,a,K)}Zy(X,i)})}function ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function cc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=lr(t,a),h!=null&&l.unshift(ol(t,h,d)),h=lr(t,i),h!=null&&l.push(ol(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function e_(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var A=a,I=A.alternate,L=A.stateNode;if(A=A.tag,I!==null&&I===l)break;A!==5&&A!==26&&A!==27||L===null||(I=L,h?(L=lr(a,d),L!=null&&E.unshift(ol(a,L,I))):h||(L=lr(a,d),L!=null&&E.push(ol(a,L,I)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var V1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function t_(t){return(typeof t=="string"?t:""+t).replace(V1,`
`).replace(k1,"")}function n_(t,i){return i=t_(i),t_(t)===i}function hc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Tn(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":Ao(t,l,d);break;case"data":if(i!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Zr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=hc);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Zr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),ns(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ns(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ph.get(a)||a,ns(t,a,l))}}function md(t,i,a,l,h,d){switch(a){case"style":Ao(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"onClick":l!=null&&(t.onclick=hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qr.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ns(t,a,l)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Xe(t,i,d,E,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":Ce("invalid",t);var A=d=E=h=null,I=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":E=K;break;case"checked":I=K;break;case"defaultChecked":L=K;break;case"value":d=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:Xe(t,i,l,K,a,null)}}rr(t,d,A,I,L,E,h,!1),Jr(t);return;case"select":Ce("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:Xe(t,i,h,A,a,null)}i=d,a=E,t.multiple=!!l,i!=null?Ai(t,!!l,i,!1):a!=null&&Ai(t,!!l,a,!0);return;case"textarea":Ce("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(A=a[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:Xe(t,i,E,A,a,null)}ar(t,l,h,d),Jr(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,I,l,a,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(l=0;l<al.length;l++)Ce(al[l],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Xe(t,i,L,l,a,null)}return;default:if(So(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&md(t,i,K,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&Xe(t,i,A,l,a,null))}function P1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,A=null,I=null,L=null,K=null;for(H in a){var X=a[H];if(a.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||Xe(t,i,H,null,l,X)}}for(var q in l){var H=l[q];if(X=a[q],l.hasOwnProperty(q)&&(H!=null||X!=null))switch(q){case"type":d=H;break;case"name":h=H;break;case"checked":L=H;break;case"defaultChecked":K=H;break;case"value":E=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==X&&Xe(t,i,q,H,l,X)}}cn(t,E,A,I,L,K,d,h);return;case"select":H=E=A=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":E=d;default:d!==I&&Xe(t,i,h,d,l,I)}i=A,a=E,l=H,q!=null?Ai(t,!!a,q,!1):!!l!=!!a&&(i!=null?Ai(t,!!a,i,!0):Ai(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Xe(t,i,A,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Xe(t,i,E,h,l,d)}Qe(t,q,H);return;case"option":for(var ye in a)if(q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:Xe(t,i,ye,null,l,q)}for(I in l)if(q=l[I],H=a[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Xe(t,i,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)q=a[de],a.hasOwnProperty(de)&&q!=null&&!l.hasOwnProperty(de)&&Xe(t,i,de,null,l,q);for(L in l)if(q=l[L],H=a[L],l.hasOwnProperty(L)&&q!==H&&(q!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:Xe(t,i,L,q,l,H)}return;default:if(So(i)){for(var $e in a)q=a[$e],a.hasOwnProperty($e)&&q!==void 0&&!l.hasOwnProperty($e)&&md(t,i,$e,void 0,l,q);for(K in l)q=l[K],H=a[K],!l.hasOwnProperty(K)||q===H||q===void 0&&H===void 0||md(t,i,K,q,l,H);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&Xe(t,i,k,null,l,q);for(X in l)q=l[X],H=a[X],!l.hasOwnProperty(X)||q===H||q==null&&H==null||Xe(t,i,X,q,l,H)}var gd=null,pd=null;function fc(t){return t.nodeType===9?t:t.ownerDocument}function i_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function yd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var _d=null;function j1(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,U1=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,L1=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(z1)}:r_;function z1(t){setTimeout(function(){throw t})}function Es(t){return t==="head"}function o_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&ll(E.documentElement),a&2&&ll(E.body),a&4)for(a=E.head,ll(a),E=a.firstChild;E;){var A=E.nextSibling,I=E.nodeName;E[tr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=A}}if(h===0){t.removeChild(d),pl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);pl(i)}function vd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vd(a),ts(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function B1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[tr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function q1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function H1(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Td=null;function l_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function u_(t,i,a){switch(i=fc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ts(t)}var Dn=new Map,c_=new Set;function dc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=ne.d;ne.d={f:F1,r:G1,D:K1,C:Q1,L:Y1,m:X1,X:J1,S:$1,M:Z1};function F1(){var t=Bi.f(),i=sc();return t||i}function G1(t){var i=Kn(t);i!==null&&i.tag===5&&i.type==="form"?xp(i):Bi.r(t)}var Oa=typeof document>"u"?null:document;function h_(t,i,a){var l=Oa;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),c_.has(h)||(c_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function K1(t){Bi.D(t),h_("dns-prefetch",t,null)}function Q1(t,i){Bi.C(t,i),h_("preconnect",t,i)}function Y1(t,i,a){Bi.L(t,i,a);var l=Oa;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=Ma(t);break;case"script":d=Va(t)}Dn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Dn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ul(d))||i==="script"&&l.querySelector(cl(d))||(i=l.createElement("link"),zt(i,"link",t),ct(i),l.head.appendChild(i)))}}function X1(t,i){Bi.m(t,i);var a=Oa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Va(t)}if(!Dn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Dn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(cl(d)))return}l=a.createElement("link"),zt(l,"link",t),ct(l),a.head.appendChild(l)}}}function $1(t,i,a){Bi.S(t,i,a);var l=Oa;if(l&&t){var h=Zt(l).hoistableStyles,d=Ma(t);i=i||"default";var E=h.get(d);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(ul(d)))A.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Dn.get(d))&&Ad(t,a);var I=E=l.createElement("link");ct(I),zt(I,"link",t),I._p=new Promise(function(L,K){I.onload=L,I.onerror=K}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,mc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(d,E)}}}function J1(t,i){Bi.X(t,i);var a=Oa;if(a&&t){var l=Zt(a).hoistableScripts,h=Va(t),d=l.get(h);d||(d=a.querySelector(cl(h)),d||(t=T({src:t,async:!0},i),(i=Dn.get(h))&&Sd(t,i),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Z1(t,i){Bi.M(t,i);var a=Oa;if(a&&t){var l=Zt(a).hoistableScripts,h=Va(t),d=l.get(h);d||(d=a.querySelector(cl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Dn.get(h))&&Sd(t,i),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function f_(t,i,a,l){var h=(h=ve.current)?dc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ma(a.href),a=Zt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ma(a.href);var d=Zt(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(ul(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Dn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Dn.set(t,a),d||W1(h,t,a,E.state))),i&&l===null)throw Error(r(528,""));return E}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Va(a),a=Zt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ma(t){return'href="'+pt(t)+'"'}function ul(t){return'link[rel="stylesheet"]['+t+"]"}function d_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function W1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),ct(i),t.head.appendChild(i))}function Va(t){return'[src="'+pt(t)+'"]'}function cl(t){return"script[async]"+t}function m_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),zt(l,"style",h),mc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ma(a.href);var d=t.querySelector(ul(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=d_(a),(h=Dn.get(h))&&Ad(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var E=d;return E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),zt(d,"link",l),i.state.loading|=4,mc(d,a.precedence,t),i.instance=d;case"script":return d=Va(a.src),(h=t.querySelector(cl(d)))?(i.instance=h,ct(h),h):(l=a,(h=Dn.get(d))&&(l=T({},a),Sd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,mc(l,a.precedence,t));return i.instance}function mc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ad(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Sd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var gc=null;function g_(t,i,a){if(gc===null){var l=new Map,h=gc=new Map;h.set(a,l)}else h=gc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[tr]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var A=l.get(E);A?A.push(d):l.set(E,[d])}}return l}function p_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function eA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var hl=null;function tA(){}function nA(t,i,a){if(hl===null)throw Error(r(475));var l=hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ma(a.href),d=t.querySelector(ul(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=pc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,a=d_(a),(h=Dn.get(h))&&Ad(a,h),d=d.createElement("link"),ct(d);var E=d;E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=pc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function iA(){if(hl===null)throw Error(r(475));var t=hl;return t.stylesheets&&t.count===0&&bd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&bd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function pc(){if(this.count--,this.count===0){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yc=null;function bd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yc=new Map,i.forEach(sA,t),yc=null,pc.call(t))}function sA(t,i){if(!(i.state.loading&4)){var a=yc.get(t);if(a)var l=a.get(null);else{a=new Map,yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var fl={$$typeof:fe,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function rA(t,i,a,l,h,d,E,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function __(t,i,a,l,h,d,E,A,I,L,K,X){return t=new rA(t,i,a,E,A,I,L,X),i=1,d===!0&&(i|=24),d=fn(3,null,null,i),t.current=d,d.stateNode=t,i=rf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},uf(d),t}function v_(t){return t?(t=ha,t):ha}function E_(t,i,a,l,h,d){h=v_(h),l.context===null?l.context=h:l.pendingContext=h,l=os(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ls(t,l,i),a!==null&&(yn(a,t,i),qo(a,t,i))}function T_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function wd(t,i){T_(t,i),(t=t.alternate)&&T_(t,i)}function A_(t){if(t.tag===13){var i=ca(t,67108864);i!==null&&yn(i,t,67108864),wd(t,67108864)}}var _c=!0;function aA(t,i,a,l){var h=G.T;G.T=null;var d=ne.p;try{ne.p=2,Rd(t,i,a,l)}finally{ne.p=d,G.T=h}}function oA(t,i,a,l){var h=G.T;G.T=null;var d=ne.p;try{ne.p=8,Rd(t,i,a,l)}finally{ne.p=d,G.T=h}}function Rd(t,i,a,l){if(_c){var h=Id(l);if(h===null)dd(t,i,l,vc,a),b_(t,l);else if(uA(h,t,i,a,l))l.stopPropagation();else if(b_(t,l),i&4&&-1<lA.indexOf(t)){for(;h!==null;){var d=Kn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Vn(d.pendingLanes);if(E!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var I=1<<31-Gt(E);A.entanglements[1]|=I,E&=~I}ai(d),(Ge&6)===0&&(nc=vn()+500,rl(0))}}break;case 13:A=ca(d,2),A!==null&&yn(A,d,2),sc(),wd(d,2)}if(d=Id(l),d===null&&dd(t,i,l,vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else dd(t,i,l,null,a)}}function Id(t){return t=An(t),Nd(t)}var vc=null;function Nd(t){if(vc=null,t=vi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return vc=t,null}function S_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xh()){case uo:return 2;case Hr:return 8;case $s:case Dh:return 32;case Fr:return 268435456;default:return 32}default:return 32}}var Cd=!1,Ts=null,As=null,Ss=null,dl=new Map,ml=new Map,bs=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function b_(t,i){switch(t){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(i.pointerId)}}function gl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Kn(i),i!==null&&A_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function uA(t,i,a,l,h){switch(i){case"focusin":return Ts=gl(Ts,t,i,a,l,h),!0;case"dragenter":return As=gl(As,t,i,a,l,h),!0;case"mouseover":return Ss=gl(Ss,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return dl.set(d,gl(dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ml.set(d,gl(ml.get(d)||null,t,i,a,l,h)),!0}return!1}function w_(t){var i=vi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,su(t.priority,function(){if(a.tag===13){var l=pn();l=Zi(l);var h=ca(a,l);h!==null&&yn(h,a,l),wd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ec(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Id(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Si=l,a.target.dispatchEvent(l),Si=null}else return i=Kn(a),i!==null&&A_(i),t.blockedOn=a,!1;i.shift()}return!0}function R_(t,i,a){Ec(t)&&a.delete(i)}function cA(){Cd=!1,Ts!==null&&Ec(Ts)&&(Ts=null),As!==null&&Ec(As)&&(As=null),Ss!==null&&Ec(Ss)&&(Ss=null),dl.forEach(R_),ml.forEach(R_)}function Tc(t,i){t.blockedOn===i&&(t.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cA)))}var Ac=null;function I_(t){Ac!==t&&(Ac=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===t&&(Ac=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Nd(l||a)===null)continue;break}var d=Kn(a);d!==null&&(t.splice(i,3),i-=3,Nf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function pl(t){function i(I){return Tc(I,t)}Ts!==null&&Tc(Ts,t),As!==null&&Tc(As,t),Ss!==null&&Tc(Ss,t),dl.forEach(i),ml.forEach(i);for(var a=0;a<bs.length;a++){var l=bs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<bs.length&&(a=bs[0],a.blockedOn===null);)w_(a),a.blockedOn===null&&bs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[gt]||null;if(typeof d=="function")E||I_(a);else if(E){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[gt]||null)A=E.formAction;else if(Nd(h)!==null)continue}else A=E.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),I_(a)}}}function xd(t){this._internalRoot=t}Sc.prototype.render=xd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=pn();E_(a,l,t,i,null,null)},Sc.prototype.unmount=xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;E_(t.current,2,null,t,null,null),sc(),i[En]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Wi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<bs.length&&i!==0&&i<bs[a].priority;a++);bs.splice(a,0,t),a===0&&w_(t)}};var N_=e.version;if(N_!=="19.1.0")throw Error(r(527,N_,"19.1.0"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var hA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{ot=bc.inject(hA),Fe=bc}catch{}}return _l.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Fp,d=Gp,E=Kp,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=__(t,1,!1,null,null,a,l,h,d,E,A,null),t[En]=i.current,fd(t),new xd(i)},_l.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Fp,E=Gp,A=Kp,I=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=__(t,1,!0,i,a??null,l,h,d,E,A,I,L),i.context=v_(null),a=i.current,l=pn(),l=Zi(l),h=os(l),h.callback=null,ls(a,h,l),a=l,i.current.lanes=a,_i(i,a),ai(i),t[En]=i.current,fd(t),new Sc(i)},_l.version="19.1.0",_l}var U_;function TA(){if(U_)return Md.exports;U_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Md.exports=EA(),Md.exports}var AA=TA();const mE=oe.createContext(void 0),SA=()=>{};var L_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},bA=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],m=s[n++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,m=f?s[o+1]:0,y=o+2<s.length,p=y?s[o+2]:0,T=c>>2,w=(c&3)<<4|m>>4;let b=(m&15)<<2|p>>6,z=p&63;y||(z=64,f||(b=64)),r.push(n[T],n[w],n[b],n[z])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(gE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):bA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||p==null||w==null)throw new wA;const b=c<<2|m>>4;if(r.push(b),p!==64){const z=m<<4&240|p>>2;if(r.push(z),w!==64){const B=p<<6&192|w;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(s){const e=gE(s);return pE.encodeByteArray(e,!0)},Hc=function(s){return RA(s).replace(/\./g,"")},yE=function(s){try{return pE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=()=>IA().__FIREBASE_DEFAULTS__,CA=()=>{if(typeof process>"u"||typeof L_>"u")return;const s=L_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},xA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&yE(s[1]);return e&&JSON.parse(e)},uh=()=>{try{return SA()||NA()||CA()||xA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},_E=s=>uh()?.emulatorHosts?.[s],DA=s=>{const e=_E(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vE=()=>uh()?.config,EE=s=>uh()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(n)),Hc(JSON.stringify(f)),""].join(".")}const Il={};function VA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?s.emulator.push(e):s.prod.push(e);return s}function kA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let z_=!1;function AE(s,e){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||Il[s]===e||Il[s]||z_)return;Il[s]=e;function n(b){return`__firebase__banner__${b}`}const r="__firebase__banner",c=VA().prod.length>0;function f(){const b=document.getElementById(r);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,z){b.setAttribute("width","24"),b.setAttribute("id",z),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{z_=!0,f()},b}function T(b,z){b.setAttribute("id",z),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=kA(r),z=n("text"),B=document.getElementById(z)||document.createElement("span"),te=n("learnmore"),Z=document.getElementById(te)||document.createElement("a"),Ee=n("preprendIcon"),_e=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const fe=b.element;m(fe),T(Z,te);const He=p();y(_e,Ee),fe.append(_e,B,Z,He),document.body.appendChild(fe)}c?(B.innerText="Preview backend disconnected.",_e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function jA(){const s=uh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BA(){const s=Jt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qA(){return!jA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HA(){try{return typeof indexedDB=="object"}catch{return!1}}function FA(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="FirebaseError";class $i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GA,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?KA(c,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new $i(o,m,r)}}function KA(s,e){return s.replace(QA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const QA=/\{\$([^}]+)}/g;function YA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Vr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(B_(c)&&B_(f)){if(!Vr(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function B_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Al(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function XA(s,e){const n=new $A(s,e);return n.subscribe.bind(n)}class $A{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(s){return s&&s._delegate?s._delegate:s}class kr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eS(e))try{this.getOrInitializeService({instanceIdentifier:xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xr){return this.instances.has(e)}getOptions(e=xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xr){return this.component?this.component.multipleInstances?e:xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WA(s){return s===xr?void 0:s}function eS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xe||(xe={}));const nS={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},iS=xe.INFO,sS={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},rS=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=sS[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=iS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const aS=(s,e)=>e.some(n=>s instanceof n);let q_,H_;function oS(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return H_||(H_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,$d=new WeakMap,bE=new WeakMap,Ud=new WeakMap,Rm=new WeakMap;function uS(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(Os(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&SE.set(n,s)}).catch(()=>{}),Rm.set(e,s),e}function cS(s){if($d.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});$d.set(s,e)}let Jd={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return $d.get(s);if(e==="objectStoreNames")return s.objectStoreNames||bE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Os(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function hS(s){Jd=s(Jd)}function fS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Ld(this),e,...n);return bE.set(r,e.sort?e.sort():[e]),Os(r)}:lS().includes(s)?function(...e){return s.apply(Ld(this),e),Os(SE.get(this))}:function(...e){return Os(s.apply(Ld(this),e))}}function dS(s){return typeof s=="function"?fS(s):(s instanceof IDBTransaction&&cS(s),aS(s,oS())?new Proxy(s,Jd):s)}function Os(s){if(s instanceof IDBRequest)return uS(s);if(Ud.has(s))return Ud.get(s);const e=dS(s);return e!==s&&(Ud.set(s,e),Rm.set(e,s)),e}const Ld=s=>Rm.get(s);function mS(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),m=Os(f);return r&&f.addEventListener("upgradeneeded",y=>{r(Os(f.result),y.oldVersion,y.newVersion,Os(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const gS=["get","getKey","getAll","getAllKeys","count"],pS=["put","add","delete","clear"],zd=new Map;function F_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=pS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||gS.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&y.done]))[0]};return zd.set(e,c),c}hS(s=>({...s,get:(e,n,r)=>F_(e,n)||s.get(e,n,r),has:(e,n)=>!!F_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_S(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _S(s){return s.getComponent()?.type==="VERSION"}const Zd="@firebase/app",G_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new wm("@firebase/app"),vS="@firebase/app-compat",ES="@firebase/analytics-compat",TS="@firebase/analytics",AS="@firebase/app-check-compat",SS="@firebase/app-check",bS="@firebase/auth",wS="@firebase/auth-compat",RS="@firebase/database",IS="@firebase/data-connect",NS="@firebase/database-compat",CS="@firebase/functions",xS="@firebase/functions-compat",DS="@firebase/installations",OS="@firebase/installations-compat",MS="@firebase/messaging",VS="@firebase/messaging-compat",kS="@firebase/performance",PS="@firebase/performance-compat",jS="@firebase/remote-config",US="@firebase/remote-config-compat",LS="@firebase/storage",zS="@firebase/storage-compat",BS="@firebase/firestore",qS="@firebase/ai",HS="@firebase/firestore-compat",FS="firebase",GS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="[DEFAULT]",KS={[Zd]:"fire-core",[vS]:"fire-core-compat",[TS]:"fire-analytics",[ES]:"fire-analytics-compat",[SS]:"fire-app-check",[AS]:"fire-app-check-compat",[bS]:"fire-auth",[wS]:"fire-auth-compat",[RS]:"fire-rtdb",[IS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[CS]:"fire-fn",[xS]:"fire-fn-compat",[DS]:"fire-iid",[OS]:"fire-iid-compat",[MS]:"fire-fcm",[VS]:"fire-fcm-compat",[kS]:"fire-perf",[PS]:"fire-perf-compat",[jS]:"fire-rc",[US]:"fire-rc-compat",[LS]:"fire-gcs",[zS]:"fire-gcs-compat",[BS]:"fire-fst",[HS]:"fire-fst-compat",[qS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Map,QS=new Map,em=new Map;function K_(s,e){try{s.container.addComponent(e)}catch(n){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ga(s){const e=s.name;if(em.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,s);for(const n of Fc.values())K_(n,s);for(const n of QS.values())K_(n,s);return!0}function Im(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function On(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new ql("app","Firebase",YS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=GS;function wE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Wd,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ms.create("bad-app-name",{appName:String(o)});if(n||(n=vE()),!n)throw Ms.create("no-options");const c=Fc.get(o);if(c){if(Vr(n,c.options)&&Vr(r,c.config))return c;throw Ms.create("duplicate-app",{appName:o})}const f=new tS(o);for(const y of em.values())f.addComponent(y);const m=new XS(n,r,f);return Fc.set(o,m),m}function RE(s=Wd){const e=Fc.get(s);if(!e&&s===Wd&&vE())return wE();if(!e)throw Ms.create("no-app",{appName:s});return e}function Vs(s,e,n){let r=KS[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(f.join(" "));return}Ga(new kr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebase-heartbeat-database",JS=1,Ml="firebase-heartbeat-store";let Bd=null;function IE(){return Bd||(Bd=mS($S,JS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ms.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function ZS(s){try{const n=(await IE()).transaction(Ml),r=await n.objectStore(Ml).get(NE(s));return await n.done,r}catch(e){if(e instanceof $i)Ki.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(n.message)}}}async function Q_(s,e){try{const r=(await IE()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(e,NE(s)),await r.done}catch(n){if(n instanceof $i)Ki.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n?.message});Ki.warn(r.message)}}}function NE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=1024,eb=30;class tb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ib(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>eb){const o=sb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Y_(),{heartbeatsToSend:n,unsentEntries:r}=nb(this._heartbeatsCache.heartbeats),o=Hc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ki.warn(e),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function nb(s,e=WS){const n=[];let r=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),X_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),X_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class ib{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HA()?FA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function X_(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function sb(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(s){Ga(new kr("platform-logger",e=>new yS(e),"PRIVATE")),Ga(new kr("heartbeat",e=>new tb(e),"PRIVATE")),Vs(Zd,G_,s),Vs(Zd,G_,"esm2020"),Vs("fire-js","")}rb("");function CE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ab=CE,xE=new ql("auth","Firebase",CE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new wm("@firebase/auth");function ob(s,...e){Gc.logLevel<=xe.WARN&&Gc.warn(`Auth (${Wa}): ${s}`,...e)}function Mc(s,...e){Gc.logLevel<=xe.ERROR&&Gc.error(`Auth (${Wa}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(s,...e){throw Nm(s,...e)}function li(s,...e){return Nm(s,...e)}function DE(s,e,n){const r={...ab(),[e]:n};return new ql("auth","Firebase",r).create(e,{appName:s.name})}function Fi(s){return DE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return xE.create(s,...e)}function ge(s,e,...n){if(!s)throw Nm(e,...n)}function qi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Mc(e),new Error(e)}function Qi(s,e){s||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){return typeof self<"u"&&self.location?.href||""}function lb(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lb()||LA()||"connection"in navigator)?navigator.onLine:!0}function cb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qi(n>e,"Short delay should be less than long delay!"),this.isMobile=PA()||zA()}get(){return ub()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(s,e){Qi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],db=new Fl(3e4,6e4);function Hs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Fs(s,e,n,r,o={}){return ME(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const m=Hl({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:y,...c};return UA()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Za(s.emulatorConfig.host)&&(p.credentials="include"),OE.fetch()(await VE(s,s.config.apiHost,n,m),p)})}async function ME(s,e,n){s._canInitEmulator=!1;const r={...hb,...e};try{const o=new gb(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw wc(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[y,p]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw wc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw wc(s,"user-disabled",f);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw DE(s,T,p);qn(s,T)}}catch(o){if(o instanceof $i)throw o;qn(s,"network-request-failed",{message:String(o)})}}async function Gl(s,e,n,r,o={}){const c=await Fs(s,e,n,r,o);return"mfaPendingCredential"in c&&qn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function VE(s,e,n,r){const o=`${e}${n}?${r}`,c=s,f=c.config.emulator?Cm(s.config,o):`${s.config.apiScheme}://${o}`;return fb.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function mb(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(li(this.auth,"network-request-failed")),db.get())})}}function wc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=li(s,e,r);return o.customData._tokenResponse=n,o}function J_(s){return s!==void 0&&s.enterprise!==void 0}class pb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yb(s,e){return Fs(s,"GET","/v2/recaptchaConfig",Hs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(s,e){return Fs(s,"POST","/v1/accounts:delete",e)}async function Kc(s,e){return Fs(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vb(s,e=!1){const n=Ht(s),r=await n.getIdToken(e),o=xm(r);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:r,authTime:Nl(qd(o.auth_time)),issuedAtTime:Nl(qd(o.iat)),expirationTime:Nl(qd(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function xm(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=yE(n);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Z_(s){const e=xm(s);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $i&&Eb(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function Eb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(s){const e=s.auth,n=await s.getIdToken(),r=await Vl(s,Kc(e,{idToken:n}));ge(r?.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?kE(o.providerUserInfo):[],f=Sb(s.providerData,c),m=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!f?.length,p=m?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function Ab(s){const e=Ht(s);await Qc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Sb(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function kE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bb(s,e){const n=await ME(s,{},async()=>{const r=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await VE(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return s.emulatorConfig&&Za(s.emulatorConfig.host)&&(y.credentials="include"),OE.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wb(s,e){return Fs(s,"POST","/v2/accounts:revokeToken",Hs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=Z_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await bb(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,f=new za;return r&&(ge(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(ge(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(ge(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(s,e){ge(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class zn{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Tb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Vl(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vb(this,e)}reload(){return Ab(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(Fi(this.auth));const e=await this.getIdToken();return await Vl(this,_b(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:b,isAnonymous:z,providerData:B,stsTokenManager:te}=n;ge(w&&te,e,"internal-error");const Z=za.fromJSON(this.name,te);ge(typeof w=="string",e,"internal-error"),Rs(r,e.name),Rs(o,e.name),ge(typeof b=="boolean",e,"internal-error"),ge(typeof z=="boolean",e,"internal-error"),Rs(c,e.name),Rs(f,e.name),Rs(m,e.name),Rs(y,e.name),Rs(p,e.name),Rs(T,e.name);const Ee=new zn({uid:w,auth:e,email:o,emailVerified:b,displayName:r,isAnonymous:z,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:Z,createdAt:p,lastLoginAt:T});return B&&Array.isArray(B)&&(Ee.providerData=B.map(_e=>({..._e}))),y&&(Ee._redirectEventId=y),Ee}static async _fromIdTokenResponse(e,n,r=!1){const o=new za;o.updateFromServerResponse(n);const c=new zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Qc(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?kE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new za;m.updateFromIdToken(r);const y=new zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,p),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=new Map;function Hi(s){Qi(s instanceof Function,"Expected a class definition");let e=W_.get(s);return e?(Qi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,W_.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PE.type="NONE";const ev=PE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(s,e,n){return`firebase:${s}:${e}:${n}`}class Ba{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kc(this.auth,{idToken:e}).catch(()=>{});return n?zn._fromGetAccountInfoResponse(this.auth,n,e):null}return zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ba(Hi(ev),e,r);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||Hi(ev);const f=Vc(r,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(f);if(T){let w;if(typeof T=="string"){const b=await Kc(e,{idToken:T}).catch(()=>{});if(!b)break;w=await zn._fromGetAccountInfoResponse(e,b,T)}else w=zn._fromJSON(e,T);p!==c&&(m=w),c=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ba(c,e,r):(c=y[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(f)}catch{}})),new Ba(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qE(e))return"Blackberry";if(HE(e))return"Webos";if(UE(e))return"Safari";if((e.includes("chrome/")||LE(e))&&!e.includes("edge/"))return"Chrome";if(BE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function jE(s=Jt()){return/firefox\//i.test(s)}function UE(s=Jt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LE(s=Jt()){return/crios\//i.test(s)}function zE(s=Jt()){return/iemobile/i.test(s)}function BE(s=Jt()){return/android/i.test(s)}function qE(s=Jt()){return/blackberry/i.test(s)}function HE(s=Jt()){return/webos/i.test(s)}function Dm(s=Jt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Rb(s=Jt()){return Dm(s)&&!!window.navigator?.standalone}function Ib(){return BA()&&document.documentMode===10}function FE(s=Jt()){return Dm(s)||BE(s)||HE(s)||qE(s)||/windows phone/i.test(s)||zE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(s,e=[]){let n;switch(s){case"Browser":n=tv(Jt());break;case"Worker":n=`${tv(Jt())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,m)=>{try{const y=e(c);f(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(s,e={}){return Fs(s,"GET","/v2/passwordPolicy",Hs(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb=6;class Db{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??xb,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new Nb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ba.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kc(this,{idToken:e}),r=await zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(On(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(Fi(this));const n=e?Ht(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(Fi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(Fi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Cb(this),n=new Db(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wb(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Hi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(On(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ob(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zr(s){return Ht(s)}class nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=XA(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mb(s){ch=s}function KE(s){return ch.loadJS(s)}function Vb(){return ch.recaptchaEnterpriseScript}function kb(){return ch.gapiScript}function Pb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class jb{constructor(){this.enterprise=new Ub}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ub{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Lb="recaptcha-enterprise",QE="NO_RECAPTCHA";class zb{constructor(e){this.type=Lb,this.auth=zr(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{yb(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new pb(y);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,f(p.siteKey)}}).catch(y=>{m(y)})})}function o(c,f,m){const y=window.grecaptcha;J_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(p=>{f(p)}).catch(()=>{f(QE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jb().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{r(this.auth).then(m=>{if(!n&&J_(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=Vb();y.length!==0&&(y+=m),KE(y).then(()=>{o(m,c,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function iv(s,e,n,r=!1,o=!1){const c=new zb(s);let f;if(o)f=QE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function im(s,e,n,r,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await iv(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await iv(s,e,n,n==="getOobCode");return r(s,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(s,e){const n=Im(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Vr(c,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function qb(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function Hb(s,e,n){const r=zr(s);ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=YE(e),{host:f,port:m}=Fb(e),y=m===null?"":`:${m}`,p={url:`${c}//${f}${y}/`},T=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ge(Vr(p,r.config.emulator)&&Vr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Za(f)?(TE(`${c}//${f}${y}`),AE("Auth",!0)):Gb()}function YE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Fb(s){const e=YE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:sv(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:sv(f)}}}function sv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Gb(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,n){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}async function Kb(s,e){return Fs(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qb(s,e){return Gl(s,"POST","/v1/accounts:signInWithPassword",Hs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(s,e){return Gl(s,"POST","/v1/accounts:signInWithEmailLink",Hs(s,e))}async function Xb(s,e){return Gl(s,"POST","/v1/accounts:signInWithEmailLink",Hs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Om{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new kl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,n,"signInWithPassword",Qb);case"emailLink":return Yb(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(e,r,"signUpPassword",Kb);case"emailLink":return Xb(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(s,e){return Gl(s,"POST","/v1/accounts:signInWithIdp",Hs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b="http://localhost";class Pr extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const f=new Pr(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return qa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,qa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,qa(e,n)}buildRequest(){const e={requestUri:$b,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Zb(s){const e=Tl(Al(s)).link,n=e?Tl(Al(e)).deep_link_id:null,r=Tl(Al(s)).deep_link_id;return(r?Tl(Al(r)).link:null)||r||n||e||s}class Mm{constructor(e){const n=Tl(Al(e)),r=n.apiKey??null,o=n.oobCode??null,c=Jb(n.mode??null);ge(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Zb(e);try{return new Mm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(e,n){return kl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Mm.parseLink(n);return ge(r,"argument-error"),kl._fromEmailAndCode(e,r.code,r.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends XE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is extends Kl{constructor(){super("facebook.com")}static credential(e){return Pr._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Is.credentialFromTaggedObject(e)}static credentialFromError(e){return Is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Is.credential(e.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pr._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.GOOGLE_SIGN_IN_METHOD="google.com";Ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Kl{constructor(){super("github.com")}static credential(e){return Pr._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cs.credential(e.oauthAccessToken)}catch{return null}}}Cs.GITHUB_SIGN_IN_METHOD="github.com";Cs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Kl{constructor(){super("twitter.com")}static credential(e,n){return Pr._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.TWITTER_SIGN_IN_METHOD="twitter.com";xs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wb(s,e){return Gl(s,"POST","/v1/accounts:signUp",Hs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await zn._fromIdTokenResponse(e,r,o),f=rv(r);return new jr({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=rv(r);return new jr({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function rv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends $i{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Yc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Yc(e,n,r,o)}}function $E(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yc._fromErrorAndOperation(s,c,e,r):c})}async function ew(s,e,n=!1){const r=await Vl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return jr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(s,e,n=!1){const{auth:r}=s;if(On(r.app))return Promise.reject(Fi(r));const o="reauthenticate";try{const c=await Vl(s,$E(r,o,e,s),n);ge(c.idToken,r,"internal-error");const f=xm(c.idToken);ge(f,r,"internal-error");const{sub:m}=f;return ge(s.uid===m,r,"user-mismatch"),jr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&qn(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(s,e,n=!1){if(On(s.app))return Promise.reject(Fi(s));const r="signIn",o=await $E(s,r,e),c=await jr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function nw(s,e){return JE(zr(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(s){const e=zr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function iw(s,e,n){if(On(s.app))return Promise.reject(Fi(s));const r=zr(s),f=await im(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wb).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&ZE(s),y}),m=await jr._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function sw(s,e,n){return On(s.app)?Promise.reject(Fi(s)):nw(Ht(s),eo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZE(s),r})}function rw(s,e,n,r){return Ht(s).onIdTokenChanged(e,n,r)}function aw(s,e,n){return Ht(s).beforeAuthStateChanged(e,n)}function ow(s){return Ht(s).signOut()}const Xc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xc,"1"),this.storage.removeItem(Xc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=1e3,uw=10;class e0 extends WE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);Ib()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,uw):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}e0.type="LOCAL";const cw=e0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0 extends WE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}t0.type="SESSION";const n0=t0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new hh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,c)),y=await hw(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,y)=>{const p=Vm("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(b.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function dw(s){ui().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function mw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gw(){return navigator?.serviceWorker?.controller||null}function pw(){return i0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="firebaseLocalStorageDb",yw=1,$c="firebaseLocalStorage",r0="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fh(s,e){return s.transaction([$c],e?"readwrite":"readonly").objectStore($c)}function _w(){const s=indexedDB.deleteDatabase(s0);return new Ql(s).toPromise()}function sm(){const s=indexedDB.open(s0,yw);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore($c,{keyPath:r0})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains($c)?e(r):(r.close(),await _w(),e(await sm()))})})}async function av(s,e,n){const r=fh(s,!0).put({[r0]:e,value:n});return new Ql(r).toPromise()}async function vw(s,e){const n=fh(s,!1).get(e),r=await new Ql(n).toPromise();return r===void 0?null:r.value}function ov(s,e){const n=fh(s,!0).delete(e);return new Ql(n).toPromise()}const Ew=800,Tw=3;class a0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Tw)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(pw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mw(),!this.activeServiceWorker)return;this.sender=new fw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sm();return await av(e,Xc,"1"),await ov(e,Xc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>av(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vw(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ov(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=fh(o,!1).getAll();return new Ql(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a0.type="LOCAL";const Aw=a0;new Fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(s,e){return e?Hi(e):(ge(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return qa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bw(s){return JE(s.auth,new km(s),s.bypassAuthState)}function ww(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),tw(n,new km(s),s.bypassAuthState)}async function Rw(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),ew(n,new km(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bw;case"linkViaPopup":case"linkViaRedirect":return Rw;case"reauthViaPopup":case"reauthViaRedirect":return ww;default:qn(this.auth,"internal-error")}}resolve(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=new Fl(2e3,1e4);class La extends o0{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Qi(this.filter.length===1,"Popup operations only handle one event");const e=Vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Iw.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="pendingRedirect",kc=new Map;class Cw extends o0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const r=await xw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xw(s,e){const n=Mw(e),r=Ow(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function Dw(s,e){kc.set(s._key(),e)}function Ow(s){return Hi(s._redirectPersistence)}function Mw(s){return Vc(Nw,s.config.apiKey,s.name)}async function Vw(s,e,n=!1){if(On(s.app))return Promise.reject(Fi(s));const r=zr(s),o=Sw(r,e),f=await new Cw(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=600*1e3;class Pw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!l0(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(li(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(e))}saveEventToCache(e){this.cachedEventUids.add(lv(e)),this.lastProcessedEventTime=Date.now()}}function lv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function l0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function jw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(s,e={}){return Fs(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zw=/^https?/;async function Bw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Uw(s);for(const n of e)try{if(qw(n))return}catch{}qn(s,"unauthorized-domain")}function qw(s){const e=tm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!zw.test(n))return!1;if(Lw.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Fl(3e4,6e4);function uv(){const s=ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Fw(s){return new Promise((e,n)=>{function r(){uv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uv(),n(li(s,"network-request-failed"))},timeout:Hw.get()})}if(ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ui().gapi?.load)r();else{const o=Pb("iframefcb");return ui()[o]=()=>{gapi.load?r():n(li(s,"network-request-failed"))},KE(`${kb()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function Gw(s){return Pc=Pc||Fw(s),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Fl(5e3,15e3),Qw="__/auth/iframe",Yw="emulator/auth/iframe",Xw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$w=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jw(s){const e=s.config;ge(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Cm(e,Yw):`https://${s.config.authDomain}/${Qw}`,r={apiKey:e.apiKey,appName:s.name,v:Wa},o=$w.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Hl(r).slice(1)}`}async function Zw(s){const e=await Gw(s),n=ui().gapi;return ge(n,s,"internal-error"),e.open({where:document.body,url:Jw(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xw,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=li(s,"network-request-failed"),m=ui().setTimeout(()=>{c(f)},Kw.get());function y(){ui().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e2=500,t2=600,n2="_blank",i2="http://localhost";class cv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s2(s,e,n,r=e2,o=t2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...Ww,width:r.toString(),height:o.toString(),top:c,left:f},p=Jt().toLowerCase();n&&(m=LE(p)?n2:n),jE(p)&&(e=e||i2,y.scrollbars="yes");const T=Object.entries(y).reduce((b,[z,B])=>`${b}${z}=${B},`,"");if(Rb(p)&&m!=="_self")return r2(e||"",m),new cv(null);const w=window.open(e||"",m,T);ge(w,s,"popup-blocked");try{w.focus()}catch{}return new cv(w)}function r2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="__/auth/handler",o2="emulator/auth/handler",l2=encodeURIComponent("fac");async function hv(s,e,n,r,o,c){ge(s.config.authDomain,s,"auth-domain-config-required"),ge(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Wa,eventId:o};if(e instanceof XE){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",YA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof Kl){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const y=await s._getAppCheckToken(),p=y?`#${l2}=${encodeURIComponent(y)}`:"";return`${u2(s)}?${Hl(m).slice(1)}${p}`}function u2({config:s}){return s.emulator?Cm(s,o2):`https://${s.authDomain}/${a2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="webStorageSupport";class c2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n0,this._completeRedirectFn=Vw,this._overrideRedirectResult=Dw}async _openPopup(e,n,r,o){Qi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await hv(e,n,r,tm(),o);return s2(e,c,Vm())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await hv(e,n,r,tm(),o);return dw(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Qi(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Zw(e),r=new Pw(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&n(!!c),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Bw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FE()||UE()||Dm()}}const h2=c2;var fv="@firebase/auth",dv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m2(s){Ga(new kr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GE(s)},p=new Ob(r,o,c,y);return qb(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new kr("auth-internal",e=>{const n=zr(e.getProvider("auth").getImmediate());return(r=>new f2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(fv,dv,d2(s)),Vs(fv,dv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=300,p2=EE("authIdTokenMaxAge")||g2;let mv=null;const y2=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>p2)return;const o=n?.token;mv!==o&&(mv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _2(s=RE()){const e=Im(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Bb(s,{popupRedirectResolver:h2,persistence:[Aw,cw,n0]}),r=EE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=y2(c.toString());aw(n,f,()=>f(n.currentUser)),rw(n,m=>f(m))}}const o=_E("auth");return o&&Hb(n,`http://${o}`),n}function v2(){return document.getElementsByTagName("head")?.[0]??document}Mb({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=li("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",v2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m2("Browser");var E2="firebase",T2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(E2,T2,"app");var gv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,u0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function C(){}C.prototype=R.prototype,V.D=R.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(O,M,P){for(var N=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)N[kt-2]=arguments[kt];return R.prototype[M].apply(O,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,C){C||(C=0);var O=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)O[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;16>M;++M)O[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=V.g[0],C=V.g[1],M=V.g[2];var P=V.g[3],N=R+(P^C&(M^P))+O[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+O[1]+3905402710&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+O[2]+606105819&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+O[3]+3250441966&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(P^C&(M^P))+O[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+O[5]+1200080426&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+O[6]+2821735955&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+O[7]+4249261313&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(P^C&(M^P))+O[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+O[9]+2336552879&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+O[10]+4294925233&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+O[11]+2304563134&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(P^C&(M^P))+O[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+O[13]+4254626195&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+O[14]+2792965006&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+O[15]+1236535329&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(M^P&(C^M))+O[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+O[6]+3225465664&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+O[11]+643717713&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+O[0]+3921069994&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^P&(C^M))+O[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+O[10]+38016083&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+O[15]+3634488961&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+O[4]+3889429448&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^P&(C^M))+O[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+O[14]+3275163606&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+O[3]+4107603335&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+O[8]+1163531501&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^P&(C^M))+O[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+O[2]+4243563512&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+O[7]+1735328473&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+O[12]+2368359562&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(C^M^P)+O[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+O[8]+2272392833&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+O[11]+1839030562&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+O[14]+4259657740&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^P)+O[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+O[4]+1272893353&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+O[7]+4139469664&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+O[10]+3200236656&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^P)+O[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+O[0]+3936430074&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+O[3]+3572445317&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+O[6]+76029189&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^P)+O[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+O[12]+3873151461&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+O[15]+530742520&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+O[2]+3299628645&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(M^(C|~P))+O[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+O[7]+1126891415&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+O[14]+2878612391&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+O[5]+4237533241&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~P))+O[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+O[3]+2399980690&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+O[10]+4293915773&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+O[1]+2240044497&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~P))+O[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+O[15]+4264355552&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+O[6]+2734768916&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+O[13]+1309151649&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~P))+O[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+O[11]+3174756917&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+O[2]+718787259&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}r.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var C=R-this.blockSize,O=this.B,M=this.h,P=0;P<R;){if(M==0)for(;P<=C;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<R;)if(O[M++]=V.charCodeAt(P++),M==this.blockSize){o(this,O),M=0;break}}else for(;P<R;)if(O[M++]=V[P++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=R},r.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var C=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=C&255,C/=256;for(this.u(V),V=Array(16),R=C=0;4>R;++R)for(var O=0;32>O;O+=8)V[C++]=this.g[R]>>>O&255;return V};function c(V,R){var C=m;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=R(V)}function f(V,R){this.h=R;for(var C=[],O=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;O&&P==R||(C[M]=P,O=!1)}this.g=C}var m={};function y(V){return-128<=V&&128>V?c(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return Z(p(-V));for(var R=[],C=1,O=0;V>=C;O++)R[O]=V/C|0,C*=4294967296;return new f(R,0)}function T(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return Z(T(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(R,8)),O=w,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),N=parseInt(V.substring(M,M+P),R);8>P?(P=p(Math.pow(R,P)),O=O.j(P).add(p(N))):(O=O.j(C),O=O.add(p(N)))}return O}var w=y(0),b=y(1),z=y(16777216);s=f.prototype,s.m=function(){if(te(this))return-Z(this).m();for(var V=0,R=1,C=0;C<this.g.length;C++){var O=this.i(C);V+=(0<=O?O:4294967296+O)*R,R*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(B(this))return"0";if(te(this))return"-"+Z(this).toString(V);for(var R=p(Math.pow(V,6)),C=this,O="";;){var M=He(C,R).g;C=Ee(C,M.j(R));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=M,B(C))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function B(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function te(V){return V.h==-1}s.l=function(V){return V=Ee(this,V),te(V)?-1:B(V)?0:1};function Z(V){for(var R=V.g.length,C=[],O=0;O<R;O++)C[O]=~V.g[O];return new f(C,~V.h).add(b)}s.abs=function(){return te(this)?Z(this):this},s.add=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0,M=0;M<=R;M++){var P=O+(this.i(M)&65535)+(V.i(M)&65535),N=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=N>>>16,P&=65535,N&=65535,C[M]=N<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Ee(V,R){return V.add(Z(R))}s.j=function(V){if(B(this)||B(V))return w;if(te(this))return te(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(te(V))return Z(this.j(Z(V)));if(0>this.l(z)&&0>V.l(z))return p(this.m()*V.m());for(var R=this.g.length+V.g.length,C=[],O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var P=this.i(O)>>>16,N=this.i(O)&65535,kt=V.i(M)>>>16,at=V.i(M)&65535;C[2*O+2*M]+=N*at,_e(C,2*O+2*M),C[2*O+2*M+1]+=P*at,_e(C,2*O+2*M+1),C[2*O+2*M+1]+=N*kt,_e(C,2*O+2*M+1),C[2*O+2*M+2]+=P*kt,_e(C,2*O+2*M+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new f(C,0)};function _e(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function fe(V,R){this.g=V,this.h=R}function He(V,R){if(B(R))throw Error("division by zero");if(B(V))return new fe(w,w);if(te(V))return R=He(Z(V),R),new fe(Z(R.g),Z(R.h));if(te(R))return R=He(V,Z(R)),new fe(Z(R.g),R.h);if(30<V.g.length){if(te(V)||te(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=R;0>=O.l(V);)C=Se(C),O=Se(O);var M=ze(C,1),P=ze(O,1);for(O=ze(O,2),C=ze(C,2);!B(O);){var N=P.add(O);0>=N.l(V)&&(M=M.add(C),P=N),O=ze(O,1),C=ze(C,1)}return R=Ee(V,M.j(R)),new fe(M,R)}for(M=w;0<=V.l(R);){for(C=Math.max(1,Math.floor(V.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=p(C),N=P.j(R);te(N)||0<N.l(V);)C-=O,P=p(C),N=P.j(R);B(P)&&(P=b),M=M.add(P),V=Ee(V,N)}return new fe(M,V)}s.A=function(V){return He(this,V).h},s.and=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)&V.i(O);return new f(C,this.h&V.h)},s.or=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)|V.i(O);return new f(C,this.h|V.h)},s.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)^V.i(O);return new f(C,this.h^V.h)};function Se(V){for(var R=V.g.length+1,C=[],O=0;O<R;O++)C[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(C,V.h)}function ze(V,R){var C=R>>5;R%=32;for(var O=V.g.length-C,M=[],P=0;P<O;P++)M[P]=0<R?V.i(P+C)>>>R|V.i(P+C+1)<<32-R:V.i(P+C);return new f(M,V.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=T,ks=f}).apply(typeof gv<"u"?gv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c0,Sl,h0,jc,rm,f0,d0,m0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(u,g){if(g)e:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var j=u[S];if(!(j in v))break e;v=v[j]}u=u[u.length-1],S=v[u],g=g(S),g!=S&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,S=!1,j={next:function(){if(!S&&v<u.length){var F=v++;return{value:g(F,u[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function T(u,g,v){return u.call.apply(u.bind,arguments)}function w(u,g,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),u.apply(g,j)}}return function(){return u.apply(g,arguments)}}function b(u,g,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,b.apply(null,arguments)}function z(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function B(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,j,F){for(var ee=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ee[Me-2]=arguments[Me];return g.prototype[j].apply(S,ee)}}function te(u){const g=u.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=u[S];return v}return[]}function Z(u,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(y(S)){const j=u.length||0,F=S.length||0;u.length=j+F;for(let ee=0;ee<F;ee++)u[j+ee]=S[ee]}else u.push(S)}}class Ee{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function _e(u){return/^[\s\xa0]*$/.test(u)}function fe(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function He(u){return He[" "](u),u}He[" "]=function(){};var Se=fe().indexOf("Gecko")!=-1&&!(fe().toLowerCase().indexOf("webkit")!=-1&&fe().indexOf("Edge")==-1)&&!(fe().indexOf("Trident")!=-1||fe().indexOf("MSIE")!=-1)&&fe().indexOf("Edge")==-1;function ze(u,g,v){for(const S in u)g.call(v,u[S],S,u)}function V(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function R(u){const g={};for(const v in u)g[v]=u[v];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,g){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)u[v]=S[v];for(let F=0;F<C.length;F++)v=C[F],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function M(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function P(u){m.setTimeout(()=>{throw u},0)}function N(){var u=Ue;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class kt{constructor(){this.h=this.g=null}add(g,v){const S=at.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var at=new Ee(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ue=!1,Ue=new kt,x=()=>{const u=m.Promise.resolve(void 0);ne=()=>{u.then(J)}};var J=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){P(v)}var g=at;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ue=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function Re(u,g){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(Se){e:{try{He(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}B(Re,W);var ve={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Nt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Fn(u,g,v,S,j){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=j,this.key=++Ze,this.da=this.fa=!1}function Ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pi(u){this.src=u,this.g={},this.h=0}pi.prototype.add=function(u,g,v,S,j){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var ee=Ys(u,g,S,j);return-1<ee?(g=u[ee],v||(g.fa=!1)):(g=new Fn(g,this.src,F,!!S,j),g.fa=v,u.push(g)),g};function Qs(u,g){var v=g.type;if(v in u.g){var S=u.g[v],j=Array.prototype.indexOf.call(S,g,void 0),F;(F=0<=j)&&Array.prototype.splice.call(S,j,1),F&&(Ji(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ys(u,g,v,S){for(var j=0;j<u.length;++j){var F=u[j];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==S)return j}return-1}var Xs="closure_lm_"+(1e6*Math.random()|0),lo={};function tu(u,g,v,S,j){if(Array.isArray(g)){for(var F=0;F<g.length;F++)tu(u,g[F],v,S,j);return null}return v=nu(v),u&&u[Nt]?u.K(g,v,p(S)?!!S.capture:!1,j):vn(u,g,v,!1,S,j)}function vn(u,g,v,S,j,F){if(!g)throw Error("Invalid event type");var ee=p(j)?!!j.capture:!!j,Me=Fr(u);if(Me||(u[Xs]=Me=new pi(u)),v=Me.add(g,v,S,ee,F),v.proxy)return v;if(S=xh(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)he||(j=ee),j===void 0&&(j=!1),u.addEventListener(g.toString(),S,j);else if(u.attachEvent)u.attachEvent($s(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xh(){function u(v){return g.call(u.src,u.listener,v)}const g=Dh;return u}function uo(u,g,v,S,j){if(Array.isArray(g))for(var F=0;F<g.length;F++)uo(u,g[F],v,S,j);else S=p(S)?!!S.capture:!!S,v=nu(v),u&&u[Nt]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],v=Ys(F,v,S,j),-1<v&&(Ji(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=Fr(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ys(g,v,S,j)),(v=-1<u?g[u]:null)&&Hr(v))}function Hr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Nt])Qs(g.i,u);else{var v=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(v,S,u.capture):g.detachEvent?g.detachEvent($s(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Fr(g))?(Qs(v,u),v.h==0&&(v.src=null,g[Xs]=null)):Ji(u)}}}function $s(u){return u in lo?lo[u]:lo[u]="on"+u}function Dh(u,g){if(u.da)u=!0;else{g=new Re(g,this);var v=u.listener,S=u.ha||u.src;u.fa&&Hr(u),u=v.call(S,g)}return u}function Fr(u){return u=u[Xs],u instanceof pi?u:null}var co="__closure_events_fn_"+(1e9*Math.random()>>>0);function nu(u){return typeof u=="function"?u:(u[co]||(u[co]=function(g){return u.handleEvent(g)}),u[co])}function ot(){ie.call(this),this.i=new pi(this),this.M=this,this.F=null}B(ot,ie),ot.prototype[Nt]=!0,ot.prototype.removeEventListener=function(u,g,v,S){uo(this,u,g,v,S)};function Fe(u,g){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new W(g,u);else if(g instanceof W)g.target=g.target||u;else{var j=g;g=new W(S,u),O(g,j)}if(j=!0,v)for(var F=v.length-1;0<=F;F--){var ee=g.g=v[F];j=un(ee,S,!0,g)&&j}if(ee=g.g=u,j=un(ee,S,!0,g)&&j,j=un(ee,S,!1,g)&&j,v)for(F=0;F<v.length;F++)ee=g.g=v[F],j=un(ee,S,!1,g)&&j}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],S=0;S<v.length;S++)Ji(v[S]);delete u.g[g],u.h--}}this.F=null},ot.prototype.K=function(u,g,v,S){return this.i.add(String(u),g,!1,v,S)},ot.prototype.L=function(u,g,v,S){return this.i.add(String(u),g,!0,v,S)};function un(u,g,v,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,F=0;F<g.length;++F){var ee=g[F];if(ee&&!ee.da&&ee.capture==v){var Me=ee.listener,St=ee.ha||ee.src;ee.fa&&Qs(u.i,ee),j=Me.call(St,S)!==!1&&j}}return j&&!S.defaultPrevented}function Gt(u,g,v){if(typeof u=="function")v&&(u=b(u,v));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function iu(u){u.g=Gt(()=>{u.g=null,u.i&&(u.i=!1,iu(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Oh extends ie{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:iu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(u){ie.call(this),this.h=u,this.g={}}B(Js,ie);var Zs=[];function Ws(u){ze(u.g,function(g,v){this.g.hasOwnProperty(v)&&Hr(g)},u),u.g={}}Js.prototype.N=function(){Js.aa.N.call(this),Ws(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,Gr=m.JSON.parse,er=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function ho(){}ho.prototype.h=null;function fo(u){return u.h||(u.h=u.i())}function mo(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){W.call(this,"d")}B(_i,W);function go(){W.call(this,"c")}B(go,W);var Gn={},po=null;function Zi(){return po=po||new ot}Gn.La="serverreachability";function Kr(u){W.call(this,Gn.La,u)}B(Kr,W);function Wi(u){const g=Zi();Fe(g,new Kr(g))}Gn.STAT_EVENT="statevent";function su(u,g){W.call(this,Gn.STAT_EVENT,u),this.stat=g}B(su,W);function nt(u){const g=Zi();Fe(g,new su(g,u))}Gn.Ma="timingevent";function At(u,g){W.call(this,Gn.Ma,u),this.size=g}B(At,W);function gt(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function yo(u,g,v,S,j,F){u.info(function(){if(u.g)if(F)for(var ee="",Me=F.split("&"),St=0;St<Me.length;St++){var Ve=Me[St].split("=");if(1<Ve.length){var xt=Ve[0];Ve=Ve[1];var bt=xt.split("_");ee=2<=bt.length&&bt[1]=="type"?ee+(xt+"="+Ve+"&"):ee+(xt+"=redacted&")}}else ee=null;else ee=F;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+v+`
`+ee})}function Mh(u,g,v,S,j,F,ee){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+v+`
`+F+" "+ee})}function es(u,g,v,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+tr(u,v)+(S?" "+S:"")})}function ru(u,g){u.info(function(){return"TIMEOUT: "+g})}En.prototype.info=function(){};function tr(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ee=1;ee<j.length;ee++)j[ee]=""}}}}return Vn(v)}catch{return g}}var ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Qn(){}B(Qn,ho),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Kn=new Qn;function Zt(u,g,v,S){this.j=u,this.i=g,this.l=v,this.R=S||1,this.U=new Js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var _o={},Qr={};function kn(u,g,v){u.L=1,u.v=ar(cn(g)),u.m=v,u.P=!0,Ei(u,null)}function Ei(u,g){u.F=Date.now(),nr(u),u.A=cn(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),bo(v.i,"t",S),u.C=0,v=u.j.J,u.h=new ct,u.g=Tu(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Oh(b(u.Y,u,u.g),u.O)),g=u.U,v=u.g,S=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Zs[0]=j.toString()),j=Zs);for(var F=0;F<j.length;F++){var ee=tu(v,j[F],S||g.handleEvent,!1,g.h||g);if(!ee)break;g.g[ee.key]=ee}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Wi(),yo(u.i,u.u,u.A,u.l,u.R,u.m)}Zt.prototype.ca=function(u){u=u.target;const g=this.M;g&&bn(u)==3?g.j():this.Y(u)},Zt.prototype.Y=function(u){try{if(u==this.g)e:{const bt=bn(this.g);var g=this.g.Ba();const Ni=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||bt!=4||g==7||(g==8||0>=Ni?Wi(3):Wi(2)),ns(this);var v=this.g.Z();this.X=v;t:if(au(this)){var S=du(this.g);u="";var j=S.length,F=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Yn(this);var ee="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(F&&g==j-1)});S.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=v==200,Mh(this.i,this.u,this.A,this.l,this.R,bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,St=this.g;if((Me=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(Me)){var Ve=Me;break t}}Ve=null}if(v=Ve)es(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ir(this,v);else{this.o=!1,this.s=3,nt(12),Pt(this),Yn(this);break e}}if(this.P){v=!0;let jt;for(;!this.J&&this.C<ee.length;)if(jt=ou(this,ee),jt==Qr){bt==4&&(this.s=4,nt(14),v=!1),es(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==_o){this.s=4,nt(15),es(this.i,this.l,ee,"[Invalid Chunk]"),v=!1;break}else es(this.i,this.l,jt,null),ir(this,jt);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ee.length!=0||this.h.h||(this.s=1,nt(16),v=!1),this.o=this.o&&v,!v)es(this.i,this.l,ee,"[Invalid Chunked Response]"),Pt(this),Yn(this);else if(0<ee.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),mr(xt),xt.M=!0,nt(11))}}else es(this.i,this.l,ee,null),ir(this,ee);bt==4&&Pt(this),this.o&&!this.J&&(bt==4?_u(this.j,this):(this.o=!1,nr(this)))}else Uh(this.g),v==400&&0<ee.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),Pt(this),Yn(this)}}}catch{}finally{}};function au(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ou(u,g){var v=u.C,S=g.indexOf(`
`,v);return S==-1?Qr:(v=Number(g.substring(v,S)),isNaN(v)?_o:(S+=1,S+v>g.length?Qr:(g=g.slice(S,S+v),u.C=S+v,g)))}Zt.prototype.cancel=function(){this.J=!0,Pt(this)};function nr(u){u.S=Date.now()+u.I,lu(u,u.I)}function lu(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=gt(b(u.ba,u),g)}function ns(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Zt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ru(this.i,this.A),this.L!=2&&(Wi(),nt(17)),Pt(this),this.s=2,Yn(this)):lu(this,this.S-u)};function Yn(u){u.j.G==0||u.J||_u(u.j,u)}function Pt(u){ns(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Ws(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function ir(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||vo(v.h,u))){if(!u.K&&vo(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ra(v),ia(v);else break e;Co(v),nt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=gt(b(v.Za,v),6e3));if(1>=Xr(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ii(v,11)}else if((u.K||v.g==u)&&ra(v),!_e(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let Ve=j[g];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const xt=Ve[3];xt!=null&&(v.la=xt,v.j.info("VER="+v.la));const bt=Ve[4];bt!=null&&(v.Aa=bt,v.j.info("SVER="+v.Aa));const Ni=Ve[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(S=1.5*Ni,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const jt=u.g;if(jt){const ti=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var F=S.h;F.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&($r(F,F.h),F.h=null))}if(S.D){const Do=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Do&&(S.ya=Do,Qe(S.I,S.D,Do))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ee=u;if(S.qa=Eu(S,S.J?S.ia:null,S.W),ee.K){Wt(S.h,ee);var Me=ee,St=S.L;St&&(Me.I=St),Me.B&&(ns(Me),nr(Me)),S.g=ee}else pu(S);0<v.i.length&&sa(v)}else Ve[0]!="stop"&&Ve[0]!="close"||Ii(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Ii(v,7):Io(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}Wi(4)}catch{}}var uu=class{constructor(u,g){this.g=u,this.map=g}};function Ti(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yr(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Xr(u){return u.h?1:u.g?u.g.size:0}function vo(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function $r(u,g){u.g?u.g.add(g):u.h=g}function Wt(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ti.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return te(u.i)}function Vh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var g=[],v=u.length,S=0;S<v;S++)g.push(u[S]);return g}g=[],v=0;for(S in u)g[v++]=u[S];return g}function Jr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const S in u)g[v++]=S;return g}}}function To(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=Jr(u),S=Vh(u),j=S.length,F=0;F<j;F++)g.call(void 0,S[F],v&&v[F],u)}var sr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kh(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),j=null;if(0<=S){var F=u[v].substring(0,S);j=u[v].substring(S+1)}else F=u[v];g(F,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pt){this.h=u.h,rr(this,u.j),this.o=u.o,this.g=u.g,is(this,u.s),this.l=u.l;var g=u.i,v=new Si;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ai(this,v),this.m=u.m}else u&&(g=String(u).match(sr))?(this.h=!1,rr(this,g[1]||"",!0),this.o=Tn(g[2]||""),this.g=Tn(g[3]||"",!0),is(this,g[4]),this.l=Tn(g[5]||"",!0),Ai(this,g[6]||"",!0),this.m=Tn(g[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}pt.prototype.toString=function(){var u=[],g=this.j;g&&u.push(or(g,Ao,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(or(g,Ao,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(or(v,v.charAt(0)=="/"?Ph:So,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",or(v,Zr)),u.join("")};function cn(u){return new pt(u)}function rr(u,g,v){u.j=v?Tn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function is(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Ai(u,g,v){g instanceof Si?(u.i=g,hu(u.i,u.h)):(v||(g=or(g,jh)),u.i=new Si(g,u.h))}function Qe(u,g,v){u.i.set(g,v)}function ar(u){return Qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function or(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,cu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ao=/[#\/\?@]/g,So=/[#\?:]/g,Ph=/[#\?]/g,jh=/[#\?@]/g,Zr=/#/g;function Si(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&kh(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=Si.prototype,s.add=function(u,g){An(this),this.i=null,u=Xn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function bi(u,g){An(u),g=Xn(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function wi(u,g){return An(u),g=Xn(u,g),u.g.has(g)}s.forEach=function(u,g){An(this),this.g.forEach(function(v,S){v.forEach(function(j){u.call(g,j,S,this)},this)},this)},s.na=function(){An(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const j=u[S];for(let F=0;F<j.length;F++)v.push(g[S])}return v},s.V=function(u){An(this);let g=[];if(typeof u=="string")wi(this,u)&&(g=g.concat(this.g.get(Xn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},s.set=function(u,g){return An(this),this.i=null,u=Xn(this,u),wi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function bo(u,g,v){bi(u,g),0<v.length&&(u.i=null,u.g.set(Xn(u,g),te(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const F=encodeURIComponent(String(S)),ee=this.V(S);for(S=0;S<ee.length;S++){var j=F;ee[S]!==""&&(j+="="+encodeURIComponent(String(ee[S]))),u.push(j)}}return this.i=u.join("&")};function Xn(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function hu(u,g){g&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(bi(this,S),bo(this,j,v))},u)),u.j=g}function lr(u,g){const v=new En;if(m.Image){const S=new Image;S.onload=z(Sn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=z(Sn,v,"TestLoadImage: error",!1,g,S),S.onabort=z(Sn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=z(Sn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function Pn(u,g){const v=new En,S=new AbortController,j=setTimeout(()=>{S.abort(),Sn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(j),F.ok?Sn(v,"TestPingServer: ok",!0,g):Sn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Sn(v,"TestPingServer: error",!1,g)})}function Sn(u,g,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function ur(){this.g=new er}function $n(u,g,v){const S=v||"";try{To(u,function(j,F){let ee=j;p(j)&&(ee=Vn(j)),g.push(S+F+"="+encodeURIComponent(ee))})}catch(j){throw g.push(S+"type="+encodeURIComponent("_badmap")),j}}function ss(u){this.l=u.Ub||null,this.j=u.eb||!1}B(ss,ho),ss.prototype.g=function(){return new Ri(this.l,this.j)},ss.prototype.i=function(u){return function(){return u}}({});function Ri(u,g){ot.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ri,ot),s=Ri.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Zn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function wo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Jn(this):Zn(this),this.readyState==3&&wo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Jn(this))},s.Qa=function(u){this.g&&(this.response=u,Jn(this))},s.ga=function(){this.g&&Jn(this)};function Jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}s.setRequestHeader=function(u,g){this.u.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ro(u){let g="";return ze(u,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Ct(u,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Ro(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Qe(u,g,v))}function Be(u){ot.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Be,ot);var Wr=/^https?$/i,cr=["POST","PUT"];s=Be.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?fo(this.o):fo(Kn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){fu(this,F);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),j=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(cr,g,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ee]of v)this.g.setRequestHeader(F,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hr(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){fu(this,F)}};function fu(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,ea(u),Wn(u)}function ea(u){u.A||(u.A=!0,Fe(u,"complete"),Fe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Fe(this,"complete"),Fe(this,"abort"),Wn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Be.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},s.bb=function(){ta(this)};function ta(u){if(u.h&&typeof f<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Gt(u.Ea,0,u);else if(Fe(u,"readystatechange"),bn(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ee===0){var j=String(u.D).match(sr)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!Wr.test(j?j.toLowerCase():"")}v=S}if(v)Fe(u,"complete"),Fe(u,"success");else{u.m=6;try{var F=2<bn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",ea(u)}}finally{Wn(u)}}}}function Wn(u,g){if(u.g){hr(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Fe(u,"ready");try{v.onreadystatechange=S}catch{}}}function hr(u){u.I&&(m.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Gr(g)}};function du(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Uh(u){const g={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(_e(u[S]))continue;var v=M(u[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[j]||[];g[j]=F,F.push(v)}V(g,function(S){return S.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fr(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function na(u){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fr("baseRetryDelayMs",5e3,u),this.cb=fr("retryDelaySeedMs",1e4,u),this.Wa=fr("forwardChannelMaxRetries",2,u),this.wa=fr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(u&&u.concurrentRequestLimit),this.Da=new ur,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=na.prototype,s.la=8,s.G=1,s.connect=function(u,g,v,S){nt(0),this.W=u,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Eu(this,null,this.W),sa(this)};function Io(u){if(mu(u),u.G==3){var g=u.U++,v=cn(u.I);if(Qe(v,"SID",u.K),Qe(v,"RID",g),Qe(v,"TYPE","terminate"),dr(u,v),g=new Zt(u,u.j,g),g.L=2,g.v=ar(cn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Tu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nr(g)}vu(u)}function ia(u){u.g&&(mr(u),u.g.cancel(),u.g=null)}function mu(u){ia(u),u.u&&(m.clearTimeout(u.u),u.u=null),ra(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function sa(u){if(!Yr(u.h)&&!u.s){u.s=!0;var g=u.Ga;ne||x(),ue||(ne(),ue=!0),Ue.add(g,u),u.B=0}}function Lh(u,g){return Xr(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=gt(b(u.Ga,u,g),xo(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Zt(this,this.j,u);let F=this.o;if(this.S&&(F?(F=R(F),O(F,this.S)):F=this.S),this.m!==null||this.O||(j.H=F,F=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=gu(this,j,g),v=cn(this.I),Qe(v,"RID",u),Qe(v,"CVER",22),this.D&&Qe(v,"X-HTTP-Session-Id",this.D),dr(this,v),F&&(this.O?g="headers="+encodeURIComponent(String(Ro(F)))+"&"+g:this.m&&Ct(v,this.m,F)),$r(this.h,j),this.Ua&&Qe(v,"TYPE","init"),this.P?(Qe(v,"$req",g),Qe(v,"SID","null"),j.T=!0,kn(j,v,null)):kn(j,v,g),this.G=2}}else this.G==3&&(u?No(this,u):this.i.length==0||Yr(this.h)||No(this))};function No(u,g){var v;g?v=g.l:v=u.U++;const S=cn(u.I);Qe(S,"SID",u.K),Qe(S,"RID",v),Qe(S,"AID",u.T),dr(u,S),u.m&&u.o&&Ct(S,u.m,u.o),v=new Zt(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=gu(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$r(u.h,v),kn(v,S,g)}function dr(u,g){u.H&&ze(u.H,function(v,S){Qe(g,S,v)}),u.l&&To({},function(v,S){Qe(g,S,v)})}function gu(u,g,v){v=Math.min(u.i.length,v);var S=u.l?b(u.l.Na,u.l,u):null;e:{var j=u.i;let F=-1;for(;;){const ee=["count="+v];F==-1?0<v?(F=j[0].g,ee.push("ofs="+F)):F=0:ee.push("ofs="+F);let Me=!0;for(let St=0;St<v;St++){let Ve=j[St].g;const xt=j[St].map;if(Ve-=F,0>Ve)F=Math.max(0,j[St].g-100),Me=!1;else try{$n(xt,ee,"req"+Ve+"_")}catch{S&&S(xt)}}if(Me){S=ee.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,S}function pu(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ne||x(),ue||(ne(),ue=!0),Ue.add(g,u),u.v=0}}function Co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=gt(b(u.Fa,u),xo(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=gt(b(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),ia(this),yu(this))};function mr(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function yu(u){u.g=new Zt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=cn(u.qa);Qe(g,"RID","rpc"),Qe(g,"SID",u.K),Qe(g,"AID",u.T),Qe(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qe(g,"TO",u.ja),Qe(g,"TYPE","xmlhttp"),dr(u,g),u.m&&u.o&&Ct(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=ar(cn(g)),v.m=null,v.P=!0,Ei(v,u)}s.Za=function(){this.C!=null&&(this.C=null,ia(this),Co(this),nt(19))};function ra(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function _u(u,g){var v=null;if(u.g==g){ra(u),mr(u),u.g=null;var S=2}else if(vo(u.h,g))v=g.D,Wt(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=u.B;S=Zi(),Fe(S,new At(S,v)),sa(u)}else pu(u);else if(j=g.s,j==3||j==0&&0<g.X||!(S==1&&Lh(u,g)||S==2&&Co(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),j){case 1:Ii(u,5);break;case 4:Ii(u,10);break;case 3:Ii(u,6);break;default:Ii(u,2)}}}function xo(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function Ii(u,g){if(u.j.info("Error code "+g),g==2){var v=b(u.fb,u),S=u.Xa;const j=!S;S=new pt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||rr(S,"https"),ar(S),j?lr(S.toString(),v):Pn(S.toString(),v)}else nt(2);u.G=0,u.l&&u.l.sa(g),vu(u),mu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function vu(u){if(u.G=0,u.ka=[],u.l){const g=Eo(u.h);(g.length!=0||u.i.length!=0)&&(Z(u.ka,g),Z(u.ka,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.ra()}}function Eu(u,g,v){var S=v instanceof pt?cn(v):new pt(v);if(S.g!="")g&&(S.g=g+"."+S.g),is(S,S.s);else{var j=m.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var F=new pt(null);S&&rr(F,S),g&&(F.g=g),j&&is(F,j),v&&(F.l=v),S=F}return v=u.D,g=u.ya,v&&g&&Qe(S,v,g),Qe(S,"VER",u.la),dr(u,S),S}function Tu(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Be(new ss({eb:v})):new Be(u.pa),g.Ha(u.J),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function aa(){}aa.prototype.g=function(u,g){return new en(u,g)};function en(u,g){ot.call(this),this.g=new na(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!_e(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!_e(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ei(this)}B(en,ot),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Io(this.g)},en.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Vn(u),u=v);g.i.push(new uu(g.Ya++,u)),g.G==3&&sa(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,en.aa.N.call(this)};function Su(u){_i.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}B(Su,_i);function bu(){go.call(this),this.status=1}B(bu,go);function ei(u){this.g=u}B(ei,Au),ei.prototype.ua=function(){Fe(this.g,"a")},ei.prototype.ta=function(u){Fe(this.g,new Su(u))},ei.prototype.sa=function(u){Fe(this.g,new bu)},ei.prototype.ra=function(){Fe(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,m0=function(){return new aa},d0=function(){return Zi()},f0=Gn,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,jc=ts,vi.COMPLETE="complete",h0=vi,mo.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Sl=mo,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,c0=Be}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const pv="@firebase/firestore",yv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let to="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new wm("@firebase/firestore");function ka(){return Ur.logLevel}function re(s,...e){if(Ur.logLevel<=xe.DEBUG){const n=e.map(Pm);Ur.debug(`Firestore (${to}): ${s}`,...n)}}function Yi(s,...e){if(Ur.logLevel<=xe.ERROR){const n=e.map(Pm);Ur.error(`Firestore (${to}): ${s}`,...n)}}function Ka(s,...e){if(Ur.logLevel<=xe.WARN){const n=e.map(Pm);Ur.warn(`Firestore (${to}): ${s}`,...n)}}function Pm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,g0(s,r,n)}function g0(s,e,n){let r=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yi(r),new Error(r)}function qe(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||g0(e,o,r)}function Ae(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class S2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b2{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let c=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new p0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class w2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new w2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _v{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,On(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=c=>{c.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,re("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new _v(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new _v(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=N2(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function De(s,e){return s<e?-1:s>e?1:0}function am(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return Fd(o)===Fd(c)?De(o,c):Fd(o)?1:-1}return De(s.length,e.length)}const C2=55296,x2=57343;function Fd(s){const e=s.charCodeAt(0);return e>=C2&&e<=x2}function Qa(s,e,n){return s.length===e.length&&s.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="__name__";class oi{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&pe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=oi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return De(e.length,n.length)}static compareSegments(e,n){const r=oi.isNumericId(e),o=oi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?oi.extractNumericId(e).compare(oi.extractNumericId(n)):am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class et extends oi{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends oi{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vv}static keyField(){return new qt([vv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(c(),o++)}if(c(),f)throw new se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(et.fromString(e))}static fromName(e){return new ce(et.fromString(e).popFirst(5))}static empty(){return new ce(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new et(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(s,e,n){if(!n)throw new se(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function O2(s,e,n,r){if(e===!0&&r===!0)throw new se(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Ev(s){if(!ce.isDocumentKey(s))throw new se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Tv(s){if(ce.isDocumentKey(s))throw new se(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function _0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function dh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pe(12329,{type:typeof s})}function mi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(s);throw new se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Yl(s,e){if(!_0(s))throw new se(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new se(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=-62135596800,Sv=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Sv);return new tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Av)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yl(e,tt._jsonSchema))return new tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Av;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tt._jsonSchemaVersion="firestore/timestamp/1.0",tt._jsonSchema={type:Tt("string",tt._jsonSchemaVersion),seconds:Tt("number"),nanoseconds:Tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new tt(0,0))}static max(){return new Te(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=-1;function M2(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new js(o,ce.empty(),e)}function V2(s){return new js(s.readTime,s.key,Pl)}class js{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new js(Te.min(),ce.empty(),Pl)}static max(){return new js(Te.max(),ce.empty(),Pl)}}function k2(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(s.documentKey,e.documentKey),n!==0?n:De(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==P2)throw s;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&n()},y=>r(y))}),f=!0,c===o&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(o=>o?$.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,c)=>{r.push(n.call(this,o,c))}),this.waitFor(r)}static mapArray(e,n){return new $((r,o)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const p=y;n(e[p]).next(T=>{f[p]=T,++m,m===c&&r(f)},T=>o(T))}})}static doWhile(e,n){return new $((r,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):r()};c()})}}function U2(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=-1;function gh(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function L2(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="";function z2(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=bv(e)),e=B2(s.get(n),e);return bv(e)}function B2(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case v0:n+="";break;default:n+=c}}return n}function bv(s){return s+v0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Gs(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function E0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=o??Bt.EMPTY,this.right=c??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Bt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(e){return new Rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class Rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new It(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new T0("Invalid base64 string: "+c):c}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(s){if(qe(!!s,39018),typeof s=="string"){let e=0;const n=q2.exec(s);if(qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(s.seconds),nanos:dt(s.nanos)}}function dt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ls(s){return typeof s=="string"?Ft.fromBase64String(s):Ft.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="server_timestamp",S0="__type__",b0="__previous_value__",w0="__local_write_time__";function Lm(s){return(s?.mapValue?.fields||{})[S0]?.stringValue===A0}function ph(s){const e=s.mapValue.fields[b0];return Lm(e)?ph(e):e}function jl(s){const e=Us(s.mapValue.fields[w0].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,r,o,c,f,m,y,p,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T}}const Zc="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||Zc}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="__type__",F2="__max__",Nc={mapValue:{}},I0="__vector__",Wc="value";function zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Lm(s)?4:K2(s)?9007199254740991:G2(s)?10:11:pe(28295,{value:s})}function gi(s,e){if(s===e)return!0;const n=zs(s);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return jl(s).isEqual(jl(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Us(o.timestampValue),m=Us(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,c){return Ls(o.bytesValue).isEqual(Ls(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,c){return dt(o.geoPointValue.latitude)===dt(c.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(c.geoPointValue.longitude)}(s,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return dt(o.integerValue)===dt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=dt(o.doubleValue),m=dt(c.doubleValue);return f===m?Jc(f)===Jc(m):isNaN(f)&&isNaN(m)}return!1}(s,e);case 9:return Qa(s.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(wv(f)!==wv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!gi(f[y],m[y])))return!1;return!0}(s,e);default:return pe(52216,{left:s})}}function Ll(s,e){return(s.values||[]).find(n=>gi(n,e))!==void 0}function Ya(s,e){if(s===e)return 0;const n=zs(s),r=zs(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(s.booleanValue,e.booleanValue);case 2:return function(c,f){const m=dt(c.integerValue||c.doubleValue),y=dt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(s,e);case 3:return Iv(s.timestampValue,e.timestampValue);case 4:return Iv(jl(s),jl(e));case 5:return am(s.stringValue,e.stringValue);case 6:return function(c,f){const m=Ls(c),y=Ls(f);return m.compareTo(y)}(s.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let p=0;p<m.length&&p<y.length;p++){const T=De(m[p],y[p]);if(T!==0)return T}return De(m.length,y.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,f){const m=De(dt(c.latitude),dt(f.latitude));return m!==0?m:De(dt(c.longitude),dt(f.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Nv(s.arrayValue,e.arrayValue);case 10:return function(c,f){const m=c.fields||{},y=f.fields||{},p=m[Wc]?.arrayValue,T=y[Wc]?.arrayValue,w=De(p?.values?.length||0,T?.values?.length||0);return w!==0?w:Nv(p,T)}(s.mapValue,e.mapValue);case 11:return function(c,f){if(c===Nc.mapValue&&f===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(f===Nc.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),p=f.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const b=am(y[w],T[w]);if(b!==0)return b;const z=Ya(m[y[w]],p[T[w]]);if(z!==0)return z}return De(y.length,T.length)}(s.mapValue,e.mapValue);default:throw pe(23264,{he:n})}}function Iv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return De(s,e);const n=Us(s),r=Us(e),o=De(n.seconds,r.seconds);return o!==0?o:De(n.nanos,r.nanos)}function Nv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=Ya(n[o],r[o]);if(c)return c}return De(n.length,r.length)}function Xa(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const r=Us(n);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return Ls(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return ce.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=om(c);return r+"]"}(s.arrayValue):"mapValue"in s?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${om(n.fields[f])}`;return o+"}"}(s.mapValue):pe(61005,{value:s})}function Uc(s){switch(zs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(s);return e?16+Uc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ls(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,c)=>o+Uc(c),0)}(s.arrayValue);case 10:case 11:return function(r){let o=0;return Gs(r.fields,(c,f)=>{o+=c.length+Uc(f)}),o}(s.mapValue);default:throw pe(13486,{value:s})}}function Cv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function lm(s){return!!s&&"integerValue"in s}function zm(s){return!!s&&"arrayValue"in s}function xv(s){return!!s&&"nullValue"in s}function Dv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lc(s){return!!s&&"mapValue"in s}function G2(s){return(s?.mapValue?.fields||{})[R0]?.stringValue===I0}function Cl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Gs(s.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cl(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cl(s.arrayValue.values[n]);return e}return{...s}}function K2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(n)}setAll(e){let n=qt.emptyPath(),r={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Cl(f):o.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());Lc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];Lc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new on(Cl(this.value))}}function N0(s){const e=[];return Gs(s.fields,(n,r)=>{const o=new qt([n]);if(Lc(r)){const c=N0(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,o,c,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,Te.min(),Te.min(),Te.min(),on.empty(),0)}static newFoundDocument(e,n,r,o){return new $t(e,1,n,Te.min(),r,o,0)}static newNoDocument(e,n){return new $t(e,2,n,Te.min(),Te.min(),on.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Te.min(),Te.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.position=e,this.inclusive=n}}function Ov(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?r=ce.comparator(ce.fromName(f.referenceValue),n.key):r=Ya(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!gi(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n="asc"){this.field=e,this.dir=n}}function Q2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{}class Et extends C0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new X2(e,n,r):n==="array-contains"?new Z2(e,r):n==="in"?new W2(e,r):n==="not-in"?new eR(e,r):n==="array-contains-any"?new tR(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $2(e,r):new J2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ya(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(Ya(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends C0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hn(e,n)}matches(e){return x0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x0(s){return s.op==="and"}function D0(s){return Y2(s)&&x0(s)}function Y2(s){for(const e of s.filters)if(e instanceof Hn)return!1;return!0}function um(s){if(s instanceof Et)return s.field.canonicalString()+s.op.toString()+Xa(s.value);if(D0(s))return s.filters.map(e=>um(e)).join(",");{const e=s.filters.map(n=>um(n)).join(",");return`${s.op}(${e})`}}function O0(s,e){return s instanceof Et?function(r,o){return o instanceof Et&&r.op===o.op&&r.field.isEqual(o.field)&&gi(r.value,o.value)}(s,e):s instanceof Hn?function(r,o){return o instanceof Hn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((c,f,m)=>c&&O0(f,o.filters[m]),!0):!1}(s,e):void pe(19439)}function M0(s){return s instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`}(s):s instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(M0).join(" ,")+"}"}(s):"Filter"}class X2 extends Et{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class $2 extends Et{constructor(e,n){super(e,"in",n),this.keys=V0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class J2 extends Et{constructor(e,n){super(e,"not-in",n),this.keys=V0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function V0(s,e){return(e.arrayValue?.values||[]).map(n=>ce.fromName(n.referenceValue))}class Z2 extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zm(n)&&Ll(n.arrayValue,this.value)}}class W2 extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class eR extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ll(this.value.arrayValue,n)}}class tR extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ll(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n=null,r=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function Vv(s,e=null,n=[],r=[],o=null,c=null,f=null){return new nR(s,e,n,r,o,c,f)}function Bm(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>um(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xa(r)).join(",")),e.Te=n}return e.Te}function qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Q2(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!O0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Mv(s.startAt,e.startAt)&&Mv(s.endAt,e.endAt)}function cm(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n=null,r=[],o=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iR(s,e,n,r,o,c,f,m){return new Xl(s,e,n,r,o,c,f,m)}function Hm(s){return new Xl(s)}function kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function k0(s){return s.collectionGroup!==null}function xl(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(qt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new th(c,r))}),n.has(qt.keyField().canonicalString())||e.Ie.push(new th(qt.keyField(),r))}return e.Ie}function ci(s){const e=Ae(s);return e.Ee||(e.Ee=sR(e,xl(s))),e.Ee}function sR(s,e){if(s.limitType==="F")return Vv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new th(o.field,c)});const n=s.endAt?new eh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new eh(s.startAt.position,s.startAt.inclusive):null;return Vv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function hm(s,e){const n=s.filters.concat([e]);return new Xl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function fm(s,e,n){return new Xl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function yh(s,e){return qm(ci(s),ci(e))&&s.limitType===e.limitType}function P0(s){return`${Bm(ci(s))}|lt:${s.limitType}`}function Pa(s){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>M0(o)).join(", ")}]`),gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>Xa(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>Xa(o)).join(",")),`Target(${r})`}(ci(s))}; limitType=${s.limitType})`}function _h(s,e){return e.isFoundDocument()&&function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ce.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(s,e)&&function(r,o){for(const c of xl(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,e)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(s,e)&&function(r,o){return!(r.startAt&&!function(f,m,y){const p=Ov(f,m,y);return f.inclusive?p<=0:p<0}(r.startAt,xl(r),o)||r.endAt&&!function(f,m,y){const p=Ov(f,m,y);return f.inclusive?p>=0:p>0}(r.endAt,xl(r),o))}(s,e)}function rR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function j0(s){return(e,n)=>{let r=!1;for(const o of xl(s)){const c=aR(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function aR(s,e,n){const r=s.field.isKeyField()?ce.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),p=m.data.field(c);return y!==null&&p!==null?Ya(y,p):pe(42886)}(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return E0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new rt(ce.comparator);function Xi(){return oR}const U0=new rt(ce.comparator);function bl(...s){let e=U0;for(const n of s)e=e.insert(n.key,n);return e}function L0(s){let e=U0;return s.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Or(){return Dl()}function z0(){return Dl()}function Dl(){return new Br(s=>s.toString(),(s,e)=>s.isEqual(e))}const lR=new rt(ce.comparator),uR=new It(ce.comparator);function Oe(...s){let e=uR;for(const n of s)e=e.add(n);return e}const cR=new It(De);function hR(){return cR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(e)?"-0":e}}function B0(s){return{integerValue:""+s}}function fR(s,e){return L2(e)?B0(e):Fm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function dR(s,e,n){return s instanceof nh?function(o,c){const f={fields:{[S0]:{stringValue:A0},[w0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lm(c)&&(c=ph(c)),c&&(f.fields[b0]=c),{mapValue:f}}(n,e):s instanceof zl?H0(s,e):s instanceof Bl?F0(s,e):function(o,c){const f=q0(o,c),m=Pv(f)+Pv(o.Ae);return lm(f)&&lm(o.Ae)?B0(m):Fm(o.serializer,m)}(s,e)}function mR(s,e,n){return s instanceof zl?H0(s,e):s instanceof Bl?F0(s,e):n}function q0(s,e){return s instanceof ih?function(r){return lm(r)||function(c){return!!c&&"doubleValue"in c}(r)}(e)?e:{integerValue:0}:null}class nh extends vh{}class zl extends vh{constructor(e){super(),this.elements=e}}function H0(s,e){const n=G0(e);for(const r of s.elements)n.some(o=>gi(o,r))||n.push(r);return{arrayValue:{values:n}}}class Bl extends vh{constructor(e){super(),this.elements=e}}function F0(s,e){let n=G0(e);for(const r of s.elements)n=n.filter(o=>!gi(o,r));return{arrayValue:{values:n}}}class ih extends vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Pv(s){return dt(s.integerValue||s.doubleValue)}function G0(s){return zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function gR(s,e){return s.field.isEqual(e.field)&&function(r,o){return r instanceof zl&&o instanceof zl||r instanceof Bl&&o instanceof Bl?Qa(r.elements,o.elements,gi):r instanceof ih&&o instanceof ih?gi(r.Ae,o.Ae):r instanceof nh&&o instanceof nh}(s.transform,e.transform)}class pR{constructor(e,n){this.version=e,this.transformResults=n}}class Bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Eh{}function K0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Gm(s.key,Bn.none()):new $l(s.key,s.data,Bn.none());{const n=s.data,r=on.empty();let o=new It(qt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Ks(s.key,r,new _n(o.toArray()),Bn.none())}}function yR(s,e,n){s instanceof $l?function(o,c,f){const m=o.value.clone(),y=Uv(o.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(s,e,n):s instanceof Ks?function(o,c,f){if(!zc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Uv(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(Q0(o)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(s,e,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ol(s,e,n,r){return s instanceof $l?function(c,f,m,y){if(!zc(c.precondition,f))return m;const p=c.value.clone(),T=Lv(c.fieldTransforms,y,f);return p.setAll(T),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(s,e,n,r):s instanceof Ks?function(c,f,m,y){if(!zc(c.precondition,f))return m;const p=Lv(c.fieldTransforms,y,f),T=f.data;return T.setAll(Q0(c)),T.setAll(p),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(s,e,n,r):function(c,f,m){return zc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(s,e,n)}function _R(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=q0(r.transform,o||null);c!=null&&(n===null&&(n=on.empty()),n.set(r.field,c))}return n||null}function jv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Qa(r,o,(c,f)=>gR(c,f))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends Eh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ks extends Eh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Q0(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}}),e}function Uv(s,e,n){const r=new Map;qe(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,m=e.data.field(c.field);r.set(c.field,mR(f,m,n[o]))}return r}function Lv(s,e,n){const r=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);r.set(o.field,dR(c,f,e))}return r}class Gm extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vR extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&yR(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ol(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ol(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=z0();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const y=K0(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(n,r)=>jv(n,r))&&Qa(this.baseMutations,e.baseMutations,(n,r)=>jv(n,r))}}class Km{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return lR}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new Km(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Pe;function SR(s){switch(s){case Y.OK:return pe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pe(15467,{code:s})}}function Y0(s){if(s===void 0)return Yi("GRPC error has no .code"),Y.UNKNOWN;switch(s){case vt.OK:return Y.OK;case vt.CANCELLED:return Y.CANCELLED;case vt.UNKNOWN:return Y.UNKNOWN;case vt.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case vt.INTERNAL:return Y.INTERNAL;case vt.UNAVAILABLE:return Y.UNAVAILABLE;case vt.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case vt.NOT_FOUND:return Y.NOT_FOUND;case vt.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case vt.ABORTED:return Y.ABORTED;case vt.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case vt.DATA_LOSS:return Y.DATA_LOSS;default:return pe(39323,{code:s})}}(Pe=vt||(vt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new ks([4294967295,4294967295],0);function zv(s){const e=bR().encode(s),n=new u0;return n.update(e),new Uint8Array(n.digest())}function Bv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ks([n,r],0),new ks([o,c],0)]}class Qm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new wl(`Invalid padding: ${n}`);if(r<0)throw new wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ks.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(ks.fromNumber(r)));return o.compare(wR)===1&&(o=new ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zv(e),[r,o]=Bv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Qm(c,o,n);return r.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=zv(e),[r,o]=Bv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Th(Te.min(),o,new rt(De),Xi(),Oe())}}class Jl{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jl(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class X0{constructor(e,n){this.targetId=e,this.Ce=n}}class $0{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class qv{constructor(){this.ve=0,this.Fe=Hv(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),n=Oe(),r=Oe();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:pe(38017,{changeType:c})}}),new Jl(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Hv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Xi(),this.Je=Cc(),this.He=Cc(),this.Ye=new rt(De)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(cm(c))if(r===0){const f=new ce(c.path);this.et(n,f,$t.newNoDocument(f,Te.min()))}else qe(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=Ls(r).toUint8Array()}catch(y){if(y instanceof T0)return Ka("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Qm(f,o,c)}catch(y){return Ka(y instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach(c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((c,f)=>{const m=this.ot(f);if(m){if(c.current&&cm(m.target)){const y=new ce(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,$t.newNoDocument(y,e))}c.Be&&(n.set(f,c.ke()),c.qe())}});let r=Oe();this.He.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(c))}),this.je.forEach((c,f)=>f.setReadTime(e));const o=new Th(e,n,this.Ye,this.je,r);return this.je=Xi(),this.Je=Cc(),this.He=Cc(),this.Ye=new rt(De),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new qv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new It(De),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new It(De),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new qv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cc(){return new rt(ce.comparator)}function Hv(){return new rt(ce.comparator)}const IR={asc:"ASCENDING",desc:"DESCENDING"},NR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CR={and:"AND",or:"OR"};class xR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dm(s,e){return s.useProto3Json||gh(e)?e:{value:e}}function sh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function DR(s,e){return sh(s,e.toTimestamp())}function hi(s){return qe(!!s,49232),Te.fromTimestamp(function(n){const r=Us(n);return new tt(r.seconds,r.nanos)}(s))}function Ym(s,e){return mm(s,e).canonicalString()}function mm(s,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?n:n.child(e)}function Z0(s){const e=et.fromString(s);return qe(iT(e),10190,{key:e.toString()}),e}function gm(s,e){return Ym(s.databaseId,e.path)}function Gd(s,e){const n=Z0(e);if(n.get(1)!==s.databaseId.projectId)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ce(eT(n))}function W0(s,e){return Ym(s.databaseId,e)}function OR(s){const e=Z0(s);return e.length===4?et.emptyPath():eT(e)}function pm(s){return new et(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function eT(s){return qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Fv(s,e,n){return{name:gm(s,e),fields:n.value.mapValue.fields}}function MR(s,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(p,T){return p.useProto3Json?(qe(T===void 0||typeof T=="string",58123),Ft.fromBase64String(T||"")):(qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ft.fromUint8Array(T||new Uint8Array))}(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const T=p.code===void 0?Y.UNKNOWN:Y0(p.code);return new se(T,p.message||"")}(f);n=new $0(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Gd(s,r.document.name),c=hi(r.document.updateTime),f=r.document.createTime?hi(r.document.createTime):Te.min(),m=new on({mapValue:{fields:r.document.fields}}),y=$t.newFoundDocument(o,c,f,m),p=r.targetIds||[],T=r.removedTargetIds||[];n=new Bc(p,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Gd(s,r.document),c=r.readTime?hi(r.readTime):Te.min(),f=$t.newNoDocument(o,c),m=r.removedTargetIds||[];n=new Bc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Gd(s,r.document),c=r.removedTargetIds||[];n=new Bc([],c,o,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new AR(o,c),m=r.targetId;n=new X0(m,f)}}return n}function VR(s,e){let n;if(e instanceof $l)n={update:Fv(s,e.key,e.value)};else if(e instanceof Gm)n={delete:gm(s,e.key)};else if(e instanceof Ks)n={update:Fv(s,e.key,e.data),updateMask:HR(e.fieldMask)};else{if(!(e instanceof vR))return pe(16599,{Vt:e.type});n={verify:gm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(c,f){const m=f.transform;if(m instanceof nh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Bl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ih)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw pe(20930,{transform:f.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:DR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pe(27497)}(s,e.precondition)),n}function kR(s,e){return s&&s.length>0?(qe(e!==void 0,14353),s.map(n=>function(o,c){let f=o.updateTime?hi(o.updateTime):hi(c);return f.isEqual(Te.min())&&(f=hi(c)),new pR(f,o.transformResults||[])}(n,e))):[]}function PR(s,e){return{documents:[W0(s,e.path)]}}function jR(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=W0(s,o);const c=function(p){if(p.length!==0)return nT(Hn.create(p,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(p){if(p.length!==0)return p.map(T=>function(b){return{field:ja(b.field),direction:zR(b.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=dm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:o}}function UR(s){let e=OR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){qe(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(w){const b=tT(w);return b instanceof Hn&&D0(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(b=>function(B){return new th(Ua(B.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(w){let b;return b=typeof w=="object"?w.value:w,gh(b)?null:b}(n.limit));let y=null;n.startAt&&(y=function(w){const b=!!w.before,z=w.values||[];return new eh(z,b)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const b=!w.before,z=w.values||[];return new eh(z,b)}(n.endAt)),iR(e,o,f,c,m,"F",y,p)}function LR(s,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ua(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Ua(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ua(n.unaryFilter.field);return Et.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ua(n.unaryFilter.field);return Et.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(s):s.fieldFilter!==void 0?function(n){return Et.create(Ua(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>tT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(n.compositeFilter.op))}(s):pe(30097,{filter:s})}function zR(s){return IR[s]}function BR(s){return NR[s]}function qR(s){return CR[s]}function ja(s){return{fieldPath:s.canonicalString()}}function Ua(s){return qt.fromServerFormat(s.fieldPath)}function nT(s){return s instanceof Et?function(n){if(n.op==="=="){if(Dv(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NAN"}};if(xv(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dv(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NAN"}};if(xv(n.value))return{unaryFilter:{field:ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ja(n.field),op:BR(n.op),value:n.value}}}(s):s instanceof Hn?function(n){const r=n.getFilters().map(o=>nT(o));return r.length===1?r[0]:{compositeFilter:{op:qR(n.op),filters:r}}}(s):pe(54877,{filter:s})}function HR(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n,r,o,c=Te.min(),f=Te.min(),m=Ft.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.yt=e}}function GR(s){const e=UR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?fm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.Cn=new QR}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(js.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(js.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class QR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new It(et.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new It(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sT=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(sT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $a(0)}static cr(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="LruGarbageCollector",YR=1048576;function Qv([s,e],[n,r]){const o=De(s,n);return o===0?De(e,r):o}class XR{constructor(e){this.Ir=e,this.buffer=new It(Qv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Qv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $R{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){re(Kv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?re(Kv,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.Vr(3e5)})}}class JR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(mh.ce);const r=new XR(n);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Gv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,c,f,m,y,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(r=w,m=Date.now(),this.removeTargets(e,r,n))).next(w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),ka()<=xe.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${w} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function ZR(s,e){return new JR(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.changes=new Br(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&Ol(r.mutation,o,_n.empty(),tt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const o=Or();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(c=>{let f=bl();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const r=Or();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const o=[];return r.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,r,o){let c=Xi();const f=Dl(),m=function(){return Dl()}();return n.forEach((y,p)=>{const T=r.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof Ks)?c=c.insert(p.key,p):T!==void 0?(f.set(p.key,T.mutation.getFieldMask()),Ol(T.mutation,p,T.mutation.getFieldMask(),tt.now())):f.set(p.key,_n.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((p,T)=>f.set(p,T)),n.forEach((p,T)=>m.set(p,new eI(T,f.get(p)??null))),m))}recalculateAndSaveOverlays(e,n){const r=Dl();let o=new rt((f,m)=>f-m),c=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const p=n.get(y);if(p===null)return;let T=r.get(y)||_n.empty();T=m.applyToLocalView(p,T),r.set(y,T);const w=(o.get(m.batchId)||Oe()).add(y);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,T=y.value,w=z0();T.forEach(b=>{if(!c.has(b)){const z=K0(n.get(b),r.get(b));z!==null&&w.set(b,z),c=c.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,w))}return $.waitFor(f)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(f){return ce.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):$.resolve(Or());let m=Pl,y=c;return f.next(p=>$.forEach(p,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next(b=>{y=y.insert(T,b)}))).next(()=>this.populateOverlays(e,p,c)).next(()=>this.computeViews(e,y,p,Oe())).next(T=>({batchId:m,changes:L0(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let o=bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let f=bl();return this.indexManager.getCollectionParents(e,c).next(m=>$.forEach(m,y=>{const p=function(w,b){return new Xl(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next(T=>{T.forEach((w,b)=>{f=f.insert(w,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o))).next(f=>{c.forEach((y,p)=>{const T=p.getKey();f.get(T)===null&&(f=f.insert(T,$t.newInvalidDocument(T)))});let m=bl();return f.forEach((y,p)=>{const T=c.get(y);T!==void 0&&Ol(T.mutation,p,_n.empty(),tt.now()),_h(n,p)&&(m=m.insert(y,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:GR(o.bundledQuery),readTime:hi(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.overlays=new rt(ce.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Or();return $.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&r.set(o,c)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,c)=>{this.St(e,n,c)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const o=Or(),c=n.length+1,f=new ce(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new rt((p,T)=>p-T);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let T=c.get(p.largestBatchId);T===null&&(T=Or(),c=c.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=Or(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,T)=>m.set(p,T)),!(m.size()>=o)););return $.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new TR(n,r));let c=this.qr.get(n);c===void 0&&(c=Oe(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this.Qr=new It(Vt.$r),this.Ur=new It(Vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Vt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ce(new et([])),r=new Vt(n,e),o=new Vt(n,e+1),c=[];return this.Ur.forEachInRange([r,o],f=>{this.Gr(f),c.push(f.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ce(new et([])),r=new Vt(n,e),o=new Vt(n,e+1);let c=Oe();return this.Ur.forEachInRange([r,o],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Vt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ce.comparator(e.key,n.key)||De(e.Yr,n.Yr)}static Kr(e,n){return De(e.Yr,n.Yr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new It(Vt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new ER(c,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Vt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),o=new Vt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],f=>{const m=this.Xr(f.Yr);c.push(m)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(De);return n.forEach(o=>{const c=new Vt(o,0),f=new Vt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],m=>{r=r.add(m.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ce.isDocumentKey(c)||(c=c.child(""));const f=new Vt(new ce(c),0);let m=new It(De);return this.Zr.forEachWhile(y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(y.Yr)),!0)},f),$.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,o=>{const c=new Vt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Vt(n,0),o=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.ri=e,this.docs=function(){return new rt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=Xi();return n.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():$t.newInvalidDocument(o))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=Xi();const f=n.path,m=new ce(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||k2(V2(T),r)<=0||(o.has(T.key)||_h(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,n,r,o){pe(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oI(this)}getSize(e){return $.resolve(this.size)}}class oI extends WR{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.persistence=e,this.si=new Br(n=>Bm(n),qm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Xm,this.targetCount=0,this.ai=$a.ur()}forEachTarget(e,n){return this.si.forEach((r,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),$.waitFor(c).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),$.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new sI,this.referenceDelegate=e(this),this.Pi=new lI(this),this.indexManager=new KR,this.remoteDocumentCache=function(o){return new aI(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new FR(n),this.Ii=new nI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new rI(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const o=new uI(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class uI extends j2{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Vi=null}static mi(e){return new $m(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const o=ce.fromPath(r);return this.gi(e,o).next(c=>{c||n.removeEntry(o,Te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rh{constructor(e,n){this.persistence=e,this.pi=new Br(r=>z2(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=ZR(this,n)}static mi(e,n){return new rh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(o=>r+o))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,o)=>this.br(e,r,o).next(c=>c?$.resolve():n(o)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(r++,c.removeEntry(f,Te.min()))})).next(()=>c.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uc(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Oe(),o=Oe();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Jm(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return qA()?8:U2(Jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.ys(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ws(e,n,o,r).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new cI;return this.Ss(e,n,f).next(m=>{if(c.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>c.result)}bs(e,n,r,o){return r.documentReadCount<this.fs?(ka()<=xe.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",Pa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ka()<=xe.DEBUG&&re("QueryEngine","Query:",Pa(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(ka()<=xe.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",Pa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):$.resolve())}ys(e,n){if(kv(n))return $.resolve(null);let r=ci(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=fm(n,null,"F"),r=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const f=Oe(...c);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,r).next(y=>{const p=this.Ds(n,m);return this.Cs(n,p,f,y.readTime)?this.ys(e,fm(n,null,"F")):this.vs(e,p,n,y)}))})))}ws(e,n,r,o){return kv(n)||o.isEqual(Te.min())?$.resolve(null):this.ps.getDocuments(e,r).next(c=>{const f=this.Ds(n,c);return this.Cs(n,f,r,o)?$.resolve(null):(ka()<=xe.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Pa(n)),this.vs(e,f,n,M2(o,Pl)).next(m=>m))})}Ds(e,n){let r=new It(j0(e));return n.forEach((o,c)=>{_h(e,c)&&(r=r.add(c))}),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,r){return ka()<=xe.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Pa(n)),this.ps.getDocumentsMatchingQuery(e,n,js.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="LocalStore",fI=3e8;class dI{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new rt(De),this.xs=new Br(c=>Bm(c),qm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function mI(s,e,n,r){return new dI(s,e,n,r)}async function aT(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(c=>{const f=[],m=[];let y=Oe();for(const p of o){f.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of c){m.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next(p=>({Ls:p,removedBatchIds:f,addedBatchIds:m}))})})}function gI(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,p,T){const w=p.batch,b=w.keys();let z=$.resolve();return b.forEach(B=>{z=z.next(()=>T.getEntry(y,B)).next(te=>{const Z=p.docVersions.get(B);qe(Z!==null,48541),te.version.compareTo(Z)<0&&(w.applyToRemoteDocument(te,p),te.isValidDocument()&&(te.setReadTime(p.commitVersion),T.addEntry(te)))})}),z.next(()=>m.mutationQueue.removeMutationBatch(y,w))}(n,r,e,c).next(()=>c.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let y=Oe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function oT(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function pI(s,e){const n=Ae(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((T,w)=>{const b=o.get(w);if(!b)return;m.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(c,T.addedDocuments,w)));let z=b.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?z=z.withResumeToken(Ft.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),o=o.insert(w,z),function(te,Z,Ee){return te.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=fI?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0}(b,z,T)&&m.push(n.Pi.updateTargetData(c,z))});let y=Xi(),p=Oe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(yI(c,f,e.documentUpdates).next(T=>{y=T.ks,p=T.qs})),!r.isEqual(Te.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next(w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(T)}return $.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(n.Ms=o,c))}function yI(s,e,n){let r=Oe(),o=Oe();return n.forEach(c=>r=r.add(c)),e.getEntries(s,r).next(c=>{let f=Xi();return n.forEach((m,y)=>{const p=c.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):re(Zm,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)}),{ks:f,qs:o}})}function _I(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Um),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function vI(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Pi.getTargetData(r,e).next(c=>c?(o=c,$.resolve(o)):n.Pi.allocateTargetId(r).next(f=>(o=new Ds(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function ym(s,e,n){const r=Ae(s),o=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,f=>r.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!io(f))throw f;re(Zm,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Yv(s,e,n){const r=Ae(s);let o=Te.min(),c=Oe();return r.persistence.runTransaction("Execute query","readwrite",f=>function(y,p,T){const w=Ae(y),b=w.xs.get(T);return b!==void 0?$.resolve(w.Ms.get(b)):w.Pi.getTargetData(p,T)}(r,f,ci(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?c:Oe())).next(m=>(EI(r,rR(e),m),{documents:m,Qs:c})))}function EI(s,e,n){let r=s.Os.get(e)||Te.min();n.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),s.Os.set(e,r)}class Xv{constructor(){this.activeTargetIds=hR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TI{constructor(){this.Mo=new Xv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Xv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="ConnectivityMonitor";class Jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){re($v,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){re($v,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc=null;function _m(){return xc===null?xc=function(){return 268435456+Math.round(2147483648*Math.random())}():xc++,"0x"+xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="RestConnection",SI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Zc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,c){const f=_m(),m=this.zo(e,n.toUriEncodedString());re(Kd,`Sending RPC '${e}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:p}=new URL(m),T=Za(p);return this.Jo(e,m,y,r,T).then(w=>(re(Kd,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Ka(Kd,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",r),w})}Ho(e,n,r,o,c,f){return this.Go(e,n,r,o,c)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+to}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}zo(e,n){const r=SI[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class RI extends bI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,c){const f=_m();return new Promise((m,y)=>{const p=new c0;p.setWithCredentials(!0),p.listenOnce(h0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case jc.NO_ERROR:const w=p.getResponseJson();re(Yt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case jc.TIMEOUT:re(Yt,`RPC '${e}' ${f} timed out`),y(new se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const b=p.getStatus();if(re(Yt,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let z=p.getResponseJson();Array.isArray(z)&&(z=z[0]);const B=z?.error;if(B&&B.status&&B.message){const te=function(Ee){const _e=Ee.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_e)>=0?_e:Y.UNKNOWN}(B.status);y(new se(te,B.message))}else y(new se(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new se(Y.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{re(Yt,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);re(Yt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",T,r,15)})}T_(e,n,r){const o=_m(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=m0(),m=d0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const T=c.join("");re(Yt,`Creating RPC '${e}' stream ${o}: ${T}`,y);const w=f.createWebChannel(T,y);this.I_(w);let b=!1,z=!1;const B=new wI({Yo:Z=>{z?re(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(b||(re(Yt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),re(Yt,`RPC '${e}' stream ${o} sending:`,Z),w.send(Z))},Zo:()=>w.close()}),te=(Z,Ee,_e)=>{Z.listen(Ee,fe=>{try{_e(fe)}catch(He){setTimeout(()=>{throw He},0)}})};return te(w,Sl.EventType.OPEN,()=>{z||(re(Yt,`RPC '${e}' stream ${o} transport opened.`),B.o_())}),te(w,Sl.EventType.CLOSE,()=>{z||(z=!0,re(Yt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(w))}),te(w,Sl.EventType.ERROR,Z=>{z||(z=!0,Ka(Yt,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),B.a_(new se(Y.UNAVAILABLE,"The operation could not be completed")))}),te(w,Sl.EventType.MESSAGE,Z=>{if(!z){const Ee=Z.data[0];qe(!!Ee,16349);const _e=Ee,fe=_e?.error||_e[0]?.error;if(fe){re(Yt,`RPC '${e}' stream ${o} received error:`,fe);const He=fe.status;let Se=function(R){const C=vt[R];if(C!==void 0)return Y0(C)}(He),ze=fe.message;Se===void 0&&(Se=Y.INTERNAL,ze="Unknown error status: "+He+" with message "+fe.message),z=!0,B.a_(new se(Se,ze)),w.close()}else re(Yt,`RPC '${e}' stream ${o} received:`,Ee),B.u_(Ee)}}),te(m,f0.STAT_EVENT,Z=>{Z.stat===rm.PROXY?re(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===rm.NOPROXY&&re(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.__()},0),B}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(s){return new xR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="PersistentStream";class uT{constructor(e,n,r,o,c,f,m,y){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===n&&this.G_(r,o)},r=>{e(()=>{const o=new se(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(Zv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(re(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class II extends uT{constructor(e,n,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MR(this.serializer,e),r=function(c){if(!("targetChange"in c))return Te.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?hi(f.readTime):Te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=pm(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=cm(y)?{documents:PR(c,y)}:{query:jR(c,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=J0(c,f.resumeToken);const p=dm(c,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=sh(c,f.snapshotVersion.toTimestamp());const p=dm(c,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const r=LR(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=pm(this.serializer),n.removeTarget=e,this.q_(n)}}class NI extends uT{constructor(e,n,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=kR(e.writeResults,e.commitTime),r=hi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=pm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VR(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{}class xI extends CI{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Go(e,mm(n,r),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(Y.UNKNOWN,c.toString())})}Ho(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,mm(n,r),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(Y.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class DI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Yi(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="RemoteStore";class OI{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(f=>{r.enqueueAndForget(async()=>{qr(this)&&(re(Lr,"Restarting streams for network reachability change."),await async function(y){const p=Ae(y);p.Ea.add(4),await Zl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Sh(p)}(this))})}),this.Ra=new DI(r,o)}}async function Sh(s){if(qr(s))for(const e of s.da)await e(!0)}async function Zl(s){for(const e of s.da)await e(!1)}function cT(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ng(n)?tg(n):so(n).O_()&&eg(n,e))}function Wm(s,e){const n=Ae(s),r=so(n);n.Ia.delete(e),r.O_()&&hT(n,e),n.Ia.size===0&&(r.O_()?r.L_():qr(n)&&n.Ra.set("Unknown"))}function eg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(s).Y_(e)}function hT(s,e){s.Va.Ue(e),so(s).Z_(e)}function tg(s){s.Va=new RR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),so(s).start(),s.Ra.ua()}function ng(s){return qr(s)&&!so(s).x_()&&s.Ia.size>0}function qr(s){return Ae(s).Ea.size===0}function fT(s){s.Va=void 0}async function MI(s){s.Ra.set("Online")}async function VI(s){s.Ia.forEach((e,n)=>{eg(s,e)})}async function kI(s,e){fT(s),ng(s)?(s.Ra.ha(e),tg(s)):s.Ra.set("Unknown")}async function PI(s,e,n){if(s.Ra.set("Online"),e instanceof $0&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(s,e)}catch(r){re(Lr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(s,r)}else if(e instanceof Bc?s.Va.Ze(e):e instanceof X0?s.Va.st(e):s.Va.tt(e),!n.isEqual(Te.min()))try{const r=await oT(s.localStore);n.compareTo(r)>=0&&await function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(p);T&&c.Ia.set(p,T.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,p)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Ft.EMPTY_BYTE_STRING,T.snapshotVersion)),hT(c,y);const w=new Ds(T.target,y,p,T.sequenceNumber);eg(c,w)}),c.remoteSyncer.applyRemoteEvent(m)}(s,n)}catch(r){re(Lr,"Failed to raise snapshot:",r),await ah(s,r)}}async function ah(s,e,n){if(!io(e))throw e;s.Ea.add(1),await Zl(s),s.Ra.set("Offline"),n||(n=()=>oT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{re(Lr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Sh(s)})}function dT(s,e){return e().catch(n=>ah(s,n,e))}async function bh(s){const e=Ae(s),n=Bs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Um;for(;jI(e);)try{const o=await _I(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,UI(e,o)}catch(o){await ah(e,o)}mT(e)&&gT(e)}function jI(s){return qr(s)&&s.Ta.length<10}function UI(s,e){s.Ta.push(e);const n=Bs(s);n.O_()&&n.X_&&n.ea(e.mutations)}function mT(s){return qr(s)&&!Bs(s).x_()&&s.Ta.length>0}function gT(s){Bs(s).start()}async function LI(s){Bs(s).ra()}async function zI(s){const e=Bs(s);for(const n of s.Ta)e.ea(n.mutations)}async function BI(s,e,n){const r=s.Ta.shift(),o=Km.from(r,e,n);await dT(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await bh(s)}async function qI(s,e){e&&Bs(s).X_&&await async function(r,o){if(function(f){return SR(f)&&f!==Y.ABORTED}(o.code)){const c=r.Ta.shift();Bs(r).B_(),await dT(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),await bh(r)}}(s,e),mT(s)&&gT(s)}async function Wv(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),re(Lr,"RemoteStore received new credentials");const r=qr(n);n.Ea.add(3),await Zl(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Sh(n)}async function HI(s,e){const n=Ae(s);e?(n.Ea.delete(2),await Sh(n)):e||(n.Ea.add(2),await Zl(n),n.Ra.set("Unknown"))}function so(s){return s.ma||(s.ma=function(n,r,o){const c=Ae(n);return c.sa(),new II(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Xo:MI.bind(null,s),t_:VI.bind(null,s),r_:kI.bind(null,s),H_:PI.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),ng(s)?tg(s):s.Ra.set("Unknown")):(await s.ma.stop(),fT(s))})),s.ma}function Bs(s){return s.fa||(s.fa=function(n,r,o){const c=Ae(n);return c.sa(),new NI(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:LI.bind(null,s),r_:qI.bind(null,s),ta:zI.bind(null,s),na:BI.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(re(Lr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const f=Date.now()+r,m=new ig(e,n,f,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(s,e){if(Yi("AsyncQueue",`${e}: ${s}`),io(s))return new se(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{static emptySet(e){return new Ha(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=bl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.ga=new rt(ce.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ja{constructor(e,n,r,o,c,f,m,y,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,o,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ja(e,n,Ha.emptySet(n),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class GI{constructor(){this.queries=tE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ae(n),c=o.queries;o.queries=tE(),c.forEach((f,m)=>{for(const y of m.Sa)y.onError(r)})})(this,new se(Y.ABORTED,"Firestore shutting down"))}}function tE(){return new Br(s=>P0(s),yh)}async function pT(s,e){const n=Ae(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new FI,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=sg(f,`Initialization of query '${Pa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&rg(n)}async function yT(s,e){const n=Ae(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function KI(s,e){const n=Ae(s);let r=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&rg(n)}function QI(s,e,n){const r=Ae(s),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);r.queries.delete(e)}function rg(s){s.Ca.forEach(e=>{e.next()})}var vm,nE;(nE=vm||(vm={})).Ma="default",nE.Cache="cache";class _T{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ja(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ja.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.key=e}}class ET{constructor(e){this.key=e}}class YI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=j0(e),this.tu=new Ha(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new eE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const b=o.get(T),z=_h(this.query,w)?w:null,B=!!b&&this.mutatedKeys.has(b.key),te=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Z=!1;b&&z?b.data.isEqual(z.data)?B!==te&&(r.track({type:3,doc:z}),Z=!0):this.su(b,z)||(r.track({type:2,doc:z}),Z=!0,(y&&this.eu(z,y)>0||p&&this.eu(z,p)<0)&&(m=!0)):!b&&z?(r.track({type:0,doc:z}),Z=!0):b&&!z&&(r.track({type:1,doc:b}),Z=!0,(y||p)&&(m=!0)),Z&&(z?(f=f.add(z),c=te?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((T,w)=>function(z,B){const te=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:Z})}};return te(z)-te(B)}(T.type,w.type)||this.eu(T.doc,w.doc)),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,f.length!==0||p?{snapshot:new Ja(this.query,e.tu,c,f,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new ET(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new vT(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ja.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class XI{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $I{constructor(e){this.key=e,this.hu=!1}}class JI{constructor(e,n,r,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Br(m=>P0(m),yh),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ce.comparator),this.Au=new Map,this.Ru=new Xm,this.Vu={},this.mu=new Map,this.fu=$a.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZI(s,e,n=!0){const r=RT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await TT(r,e,n,!0),o}async function WI(s,e){const n=RT(s);await TT(n,e,!0,!1)}async function TT(s,e,n,r){const o=await vI(s.localStore,ci(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await eN(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&cT(s.remoteStore,o),m}async function eN(s,e,n,r,o){s.pu=(w,b,z)=>async function(te,Z,Ee,_e){let fe=Z.view.ru(Ee);fe.Cs&&(fe=await Yv(te.localStore,Z.query,!1).then(({documents:V})=>Z.view.ru(V,fe)));const He=_e&&_e.targetChanges.get(Z.targetId),Se=_e&&_e.targetMismatches.get(Z.targetId)!=null,ze=Z.view.applyChanges(fe,te.isPrimaryClient,He,Se);return sE(te,Z.targetId,ze.au),ze.snapshot}(s,w,b,z);const c=await Yv(s.localStore,e,!0),f=new YI(e,c.Qs),m=f.ru(c.documents),y=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),p=f.applyChanges(m,s.isPrimaryClient,y);sE(s,n,p.au);const T=new XI(e,n,f);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),p.snapshot}async function tN(s,e,n){const r=Ae(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter(f=>!yh(f,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ym(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Wm(r.remoteStore,o.targetId),Em(r,o.targetId)}).catch(no)):(Em(r,o.targetId),await ym(r.localStore,o.targetId,!0))}async function nN(s,e){const n=Ae(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(n.remoteStore,r.targetId))}async function iN(s,e,n){const r=cN(s);try{const o=await function(f,m){const y=Ae(f),p=tt.now(),T=m.reduce((z,B)=>z.add(B.key),Oe());let w,b;return y.persistence.runTransaction("Locally write mutations","readwrite",z=>{let B=Xi(),te=Oe();return y.Ns.getEntries(z,T).next(Z=>{B=Z,B.forEach((Ee,_e)=>{_e.isValidDocument()||(te=te.add(Ee))})}).next(()=>y.localDocuments.getOverlayedDocuments(z,B)).next(Z=>{w=Z;const Ee=[];for(const _e of m){const fe=_R(_e,w.get(_e.key).overlayedDocument);fe!=null&&Ee.push(new Ks(_e.key,fe,N0(fe.value.mapValue),Bn.exists(!0)))}return y.mutationQueue.addMutationBatch(z,p,Ee,m)}).next(Z=>{b=Z;const Ee=Z.applyToLocalDocumentSet(w,te);return y.documentOverlayCache.saveOverlays(z,Z.batchId,Ee)})}).then(()=>({batchId:b.batchId,changes:L0(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let p=f.Vu[f.currentUser.toKey()];p||(p=new rt(De)),p=p.insert(m,y),f.Vu[f.currentUser.toKey()]=p}(r,o.batchId,n),await Wl(r,o.changes),await bh(r.remoteStore)}catch(o){const c=sg(o,"Failed to persist write");n.reject(c)}}async function AT(s,e){const n=Ae(s);try{const r=await pI(n.localStore,e);e.targetChanges.forEach((o,c)=>{const f=n.Au.get(c);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qe(f.hu,14607):o.removedDocuments.size>0&&(qe(f.hu,42227),f.hu=!1))}),await Wl(n,r,e)}catch(r){await no(r)}}function iE(s,e,n){const r=Ae(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Ae(f);y.onlineState=m;let p=!1;y.queries.forEach((T,w)=>{for(const b of w.Sa)b.va(m)&&(p=!0)}),p&&rg(y)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sN(s,e,n){const r=Ae(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new rt(ce.comparator);f=f.insert(c,$t.newNoDocument(c,Te.min()));const m=Oe().add(c),y=new Th(Te.min(),new Map,new rt(De),f,m);await AT(r,y),r.du=r.du.remove(c),r.Au.delete(e),og(r)}else await ym(r.localStore,e,!1).then(()=>Em(r,e,n)).catch(no)}async function rN(s,e){const n=Ae(s),r=e.batch.batchId;try{const o=await gI(n.localStore,e);bT(n,r,null),ST(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wl(n,o)}catch(o){await no(o)}}async function aN(s,e,n){const r=Ae(s);try{const o=await function(f,m){const y=Ae(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let T;return y.mutationQueue.lookupMutationBatch(p,m).next(w=>(qe(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(p,w))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T)).next(()=>y.localDocuments.getDocuments(p,T))})}(r.localStore,e);bT(r,e,n),ST(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wl(r,o)}catch(o){await no(o)}}function ST(s,e){(s.mu.get(e)||[]).forEach(n=>{n.resolve()}),s.mu.delete(e)}function bT(s,e,n){const r=Ae(s);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Em(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(r=>{s.Ru.containsKey(r)||wT(s,r)})}function wT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Wm(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),og(s))}function sE(s,e,n){for(const r of n)r instanceof vT?(s.Ru.addReference(r.key,e),oN(s,r)):r instanceof ET?(re(ag,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||wT(s,r.key)):pe(19791,{wu:r})}function oN(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(re(ag,"New document in limbo: "+n),s.Eu.add(r),og(s))}function og(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ce(et.fromString(e)),r=s.fu.next();s.Au.set(r,new $I(n)),s.du=s.du.insert(n,r),cT(s.remoteStore,new Ds(ci(Hm(n.path)),r,"TargetPurposeLimboResolution",mh.ce))}}async function Wl(s,e,n){const r=Ae(s),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach((m,y)=>{f.push(r.pu(y,e,n).then(p=>{if((p||n)&&r.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){o.push(p);const T=Jm.As(y.targetId,p);c.push(T)}}))}),await Promise.all(f),r.Pu.H_(o),await async function(y,p){const T=Ae(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>$.forEach(p,b=>$.forEach(b.Es,z=>T.persistence.referenceDelegate.addReference(w,b.targetId,z)).next(()=>$.forEach(b.ds,z=>T.persistence.referenceDelegate.removeReference(w,b.targetId,z)))))}catch(w){if(!io(w))throw w;re(Zm,"Failed to update sequence numbers: "+w)}for(const w of p){const b=w.targetId;if(!w.fromCache){const z=T.Ms.get(b),B=z.snapshotVersion,te=z.withLastLimboFreeSnapshotVersion(B);T.Ms=T.Ms.insert(b,te)}}}(r.localStore,c))}async function lN(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){re(ag,"User change. New user:",e.toKey());const r=await aT(n.localStore,e);n.currentUser=e,function(c,f){c.mu.forEach(m=>{m.forEach(y=>{y.reject(new se(Y.CANCELLED,f))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wl(n,r.Ls)}}function uN(s,e){const n=Ae(s),r=n.Au.get(e);if(r&&r.hu)return Oe().add(r.key);{let o=Oe();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function RT(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sN.bind(null,e),e.Pu.H_=KI.bind(null,e.eventManager),e.Pu.yu=QI.bind(null,e.eventManager),e}function cN(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aN.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mI(this.persistence,new hI,e.initialUser,this.serializer)}Cu(e){return new rT($m.mi,this.serializer)}Du(e){return new TI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class hN extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof rh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new $R(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new rT(r=>rh.mi(r,n),this.serializer)}}class Tm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lN.bind(null,this.syncEngine),await HI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GI}()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),r=function(c){return new RI(c)}(e.databaseInfo);return function(c,f,m,y){return new xI(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,c,f,m){return new OI(r,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>iE(this.syncEngine,n,0),function(){return Jv.v()?new Jv:new AI}())}createSyncEngine(e,n){return function(o,c,f,m,y,p,T){const w=new JI(o,c,f,m,y,p);return T&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const r=Ae(n);re(Lr,"RemoteStore shutting down."),r.Ea.add(5),await Zl(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="FirestoreClient";class fN{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async f=>{re(qs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(r,f=>(re(qs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=sg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yd(s,e){s.asyncQueue.verifyOperationInProgress(),re(qs,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener(async o=>{r.isEqual(o)||(await aT(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function rE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await dN(s);re(qs,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(r=>Wv(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,o)=>Wv(e.remoteStore,o)),s._onlineComponents=e}async function dN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){re(qs,"Using user provided OfflineComponentProvider");try{await Yd(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Yd(s,new oh)}}else re(qs,"Using default OfflineComponentProvider"),await Yd(s,new hN(void 0));return s._offlineComponents}async function NT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(re(qs,"Using user provided OnlineComponentProvider"),await rE(s,s._uninitializedComponentsProvider._online)):(re(qs,"Using default OnlineComponentProvider"),await rE(s,new Tm))),s._onlineComponents}function mN(s){return NT(s).then(e=>e.syncEngine)}async function CT(s){const e=await NT(s),n=e.eventManager;return n.onListen=ZI.bind(null,e.syncEngine),n.onUnlisten=tN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=WI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nN.bind(null,e.syncEngine),n}function gN(s,e,n={}){const r=new Gi;return s.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,p){const T=new IT({next:b=>{T.Nu(),f.enqueueAndForget(()=>yT(c,w));const z=b.docs.has(m);!z&&b.fromCache?p.reject(new se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&b.fromCache&&y&&y.source==="server"?p.reject(new se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),w=new _T(Hm(m.path),T,{includeMetadataChanges:!0,qa:!0});return pT(c,w)}(await CT(s),s.asyncQueue,e,n,r)),r.promise}function pN(s,e,n={}){const r=new Gi;return s.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,p){const T=new IT({next:b=>{T.Nu(),f.enqueueAndForget(()=>yT(c,w)),b.fromCache&&y.source==="server"?p.reject(new se(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),w=new _T(m,T,{includeMetadataChanges:!0,qa:!0});return pT(c,w)}(await CT(s),s.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firestore.googleapis.com",oE=!0;class lE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=oE}else this.host=e.host,this.ssl=e.ssl??oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YR)throw new se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xT(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new A2;switch(r.type){case"firstParty":return new R2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=aE.get(n);r&&(re("ComponentProvider","Removing Datastore"),aE.delete(n),r.terminate())}(this),Promise.resolve()}}function yN(s,e,n,r={}){s=mi(s,wh);const o=Za(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(TE(`https://${m}`),AE("Firestore",!0)),c.host!==DT&&c.host!==m&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:r};if(!Vr(y,f)&&(s._setSettings(y),r.mockUserToken)){let p,T;if(typeof r.mockUserToken=="string")p=r.mockUserToken,T=Xt.MOCK_USER;else{p=MA(r.mockUserToken,s._app?.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Xt(w)}s._authCredentials=new S2(new p0(p,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Yl(n,mt._jsonSchema))return new mt(e,r||null,new ce(et.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Tt("string",mt._jsonSchemaVersion),referencePath:Tt("string")};class Ps extends ro{constructor(e,n,r){super(e,n,Hm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ce(e))}withConverter(e){return new Ps(this.firestore,e,this._path)}}function _N(s,e,...n){if(s=Ht(s),y0("collection","path",e),s instanceof wh){const r=et.fromString(e,...n);return Tv(r),new Ps(s,null,r)}{if(!(s instanceof mt||s instanceof Ps))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(et.fromString(e,...n));return Tv(r),new Ps(s.firestore,null,r)}}function Dc(s,e,...n){if(s=Ht(s),arguments.length===1&&(e=jm.newId()),y0("doc","path",e),s instanceof wh){const r=et.fromString(e,...n);return Ev(r),new mt(s,null,new ce(r))}{if(!(s instanceof mt||s instanceof Ps))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(et.fromString(e,...n));return Ev(r),new mt(s.firestore,s instanceof Ps?s.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lT(this,"async_queue_retry"),this._c=()=>{const r=Qd();r&&re(uE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!io(e))throw e;re(uE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Yi("INTERNAL UNHANDLED ERROR: ",hE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ig.createAndSchedule(this,e,n,r,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&pe(47125,{Pc:hE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function hE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ao extends wh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new cE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function vN(s,e){const n=typeof s=="object"?s:RE(),r=typeof s=="string"?s:Zc,o=Im(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=DA("firestore");c&&yN(o,...c)}return o}function lg(s){if(s._terminated)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||EN(s),s._firestoreClient}function EN(s){const e=s._freezeSettings(),n=function(o,c,f,m){return new H2(o,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,xT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new fN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mn(Ft.fromBase64String(e))}catch(n){throw new se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yl(e,Mn._jsonSchema))return Mn.fromBase64String(e.bytes)}}Mn._jsonSchemaVersion="firestore/bytes/1.0",Mn._jsonSchema={type:Tt("string",Mn._jsonSchemaVersion),bytes:Tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(Yl(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Tt("string",fi._jsonSchemaVersion),latitude:Tt("number"),longitude:Tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yl(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new di(e.vectorValues);throw new se(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Tt("string",di._jsonSchemaVersion),vectorValues:Tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=/^__.*__$/;class AN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}class OT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ac:s})}}class cg{constructor(e,n,r,o,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MT(this.Ac)&&TN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(e)}Cc(e,n,r,o=!1){return new cg({Ac:e,methodName:n,Dc:r,path:qt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(s){const e=s._freezeSettings(),n=Ah(s._databaseId);return new SN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function bN(s,e,n,r,o,c={}){const f=s.Cc(c.merge||c.mergeFields?2:0,e,n,o);fg("Data must be an object, but it was:",f,r);const m=VT(r,f);let y,p;if(c.merge)y=new _n(f.fieldMask),p=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const b=Am(e,w,n);if(!f.contains(b))throw new se(Y.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);PT(T,b)||T.push(b)}y=new _n(T),p=f.fieldTransforms.filter(w=>y.covers(w.field))}else y=null,p=f.fieldTransforms;return new AN(new on(m),y,p)}class Ih extends ug{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ih}}function wN(s,e,n,r){const o=s.Cc(1,e,n);fg("Data must be an object, but it was:",o,r);const c=[],f=on.empty();Gs(r,(y,p)=>{const T=dg(e,y,n);p=Ht(p);const w=o.yc(T);if(p instanceof Ih)c.push(T);else{const b=eu(p,w);b!=null&&(c.push(T),f.set(T,b))}});const m=new _n(c);return new OT(f,m,o.fieldTransforms)}function RN(s,e,n,r,o,c){const f=s.Cc(1,e,n),m=[Am(e,r,n)],y=[o];if(c.length%2!=0)throw new se(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)m.push(Am(e,c[b])),y.push(c[b+1]);const p=[],T=on.empty();for(let b=m.length-1;b>=0;--b)if(!PT(p,m[b])){const z=m[b];let B=y[b];B=Ht(B);const te=f.yc(z);if(B instanceof Ih)p.push(z);else{const Z=eu(B,te);Z!=null&&(p.push(z),T.set(z,Z))}}const w=new _n(p);return new OT(T,w,f.fieldTransforms)}function IN(s,e,n,r=!1){return eu(n,s.Cc(r?4:3,e))}function eu(s,e){if(kT(s=Ht(s)))return fg("Unsupported field value:",e,s),VT(s,e);if(s instanceof ug)return function(r,o){if(!MT(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const c=[];let f=0;for(const m of r){let y=eu(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(s,e)}return function(r,o){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fR(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=tt.fromDate(r);return{timestampValue:sh(o.serializer,c)}}if(r instanceof tt){const c=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(o.serializer,c)}}if(r instanceof fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mn)return{bytesValue:J0(o.serializer,r._byteString)};if(r instanceof mt){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof di)return function(f,m){return{mapValue:{fields:{[R0]:{stringValue:I0},[Wc]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Fm(m.serializer,p)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${dh(r)}`)}(s,e)}function VT(s,e){const n={};return E0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(s,(r,o)=>{const c=eu(o,e.mc(r));c!=null&&(n[r]=c)}),{mapValue:{fields:n}}}function kT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof tt||s instanceof fi||s instanceof Mn||s instanceof mt||s instanceof ug||s instanceof di)}function fg(s,e,n){if(!kT(n)||!_0(n)){const r=dh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Am(s,e,n){if((e=Ht(e))instanceof Rh)return e._internalPath;if(typeof e=="string")return dg(s,e);throw lh("Field path arguments must be of type string or ",s,!1,void 0,n)}const NN=new RegExp("[~\\*/\\[\\]]");function dg(s,e,n){if(e.search(NN)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Rh(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function lh(s,e,n,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new se(Y.INVALID_ARGUMENT,m+s+y)}function PT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CN extends jT{data(){return super.data()}}function mg(s,e){return typeof e=="string"?dg(s,e):e instanceof Rh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class DN extends gg{}function ON(s,e,...n){let r=[];e instanceof gg&&r.push(e),r=r.concat(n),function(c){const f=c.filter(y=>y instanceof pg).length,m=c.filter(y=>y instanceof Nh).length;if(f>1||f>0&&m>0)throw new se(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)s=o._apply(s);return s}class Nh extends DN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nh(e,n,r)}_apply(e){const n=this._parse(e);return UT(e._query,n),new ro(e.firestore,e.converter,hm(e._query,n))}_parse(e){const n=hg(e.firestore);return function(c,f,m,y,p,T,w){let b;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new se(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){dE(w,T);const B=[];for(const te of w)B.push(fE(y,c,te));b={arrayValue:{values:B}}}else b=fE(y,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||dE(w,T),b=IN(m,f,w,T==="in"||T==="not-in");return Et.create(p,T,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function MN(s,e,n){const r=e,o=mg("where",s);return Nh._create(o,r,n)}class pg extends gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let f=o;const m=c.getFlattenedFilters();for(const y of m)UT(f,y),f=hm(f,y)}(e._query,n),new ro(e.firestore,e.converter,hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fE(s,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new se(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k0(e)&&n.indexOf("/")!==-1)throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(et.fromString(n));if(!ce.isDocumentKey(r))throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Cv(s,new ce(r))}if(n instanceof mt)return Cv(s,n._key);throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function dE(s,e){if(!Array.isArray(s)||s.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UT(s,e){const n=function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VN{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gs(e,(o,c)=>{r[o]=this.convertValue(c,n)}),r}convertVectorValue(e){const n=e.fields?.[Wc].arrayValue?.values?.map(r=>dt(r.doubleValue));return new di(n)}convertGeoPoint(e){return new fi(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ph(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const n=Us(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);qe(iT(r),9688,{name:e});const o=new Ul(r.get(1),r.get(3)),c=new ce(r.popFirst(5));return o.isEqual(n)||Yi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(s,e,n){let r;return r=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,r}class Rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mr extends jT{constructor(e,n,r,o,c,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Mr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Mr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mr._jsonSchema={type:Tt("string",Mr._jsonSchemaVersion),bundleSource:Tt("string","DocumentSnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class qc extends Mr{data(e={}){return super.data(e)}}class Fa{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Rl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new qc(this._firestore,this._userDataWriter,r.key,r,new Rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Rl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Rl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:PN(m.type),doc:y,oldIndex:p,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(s){s=mi(s,mt);const e=mi(s.firestore,ao);return gN(lg(e),s._key).then(n=>qN(e,s,n))}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Tt("string",Fa._jsonSchemaVersion),bundleSource:Tt("string","QuerySnapshot"),bundleName:Tt("string"),bundle:Tt("string")};class LT extends VN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function UN(s){s=mi(s,ro);const e=mi(s.firestore,ao),n=lg(e),r=new LT(e);return xN(s._query),pN(n,s._query).then(o=>new Fa(e,r,s,o))}function LN(s,e,n){s=mi(s,mt);const r=mi(s.firestore,ao),o=kN(s.converter,e,n);return yg(r,[bN(hg(r),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,Bn.none())])}function zN(s,e,n,...r){s=mi(s,mt);const o=mi(s.firestore,ao),c=hg(o);let f;return f=typeof(e=Ht(e))=="string"||e instanceof Rh?RN(c,"updateDoc",s._key,e,n,r):wN(c,"updateDoc",s._key,e),yg(o,[f.toMutation(s._key,Bn.exists(!0))])}function BN(s){return yg(mi(s.firestore,ao),[new Gm(s._key,Bn.none())])}function yg(s,e){return function(r,o){const c=new Gi;return r.asyncQueue.enqueueAndForget(async()=>iN(await mN(r),o,c)),c.promise}(lg(s),e)}function qN(s,e,n){const r=n.docs.get(e._key),o=new LT(s);return new Mr(s,o,e._key,r,new Rl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){to=o})(Wa),Ga(new kr("firestore",(r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),m=new ao(new b2(r.getProvider("auth-internal")),new I2(f,r.getProvider("app-check-internal")),function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(p.options.projectId,T)}(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Vs(pv,yv,e),Vs(pv,yv,"esm2020")})();const HN={apiKey:"AIzaSyCnC27JStpAMt1v_4t_xRZ_QppHNA3TiK8",authDomain:"searchplayer-28601.firebaseapp.com",projectId:"searchplayer-28601",storageBucket:"searchplayer-28601.firebasestorage.app",messagingSenderId:"1038349338996",appId:"1:1038349338996:web:98255f1dbb8d55dbf78421"},zT=wE(HN),Xd=_2(zT),vl=vN(zT);class FN{USERS_COLLECTION="users";async saveUser(e){const n=Dc(vl,this.USERS_COLLECTION,e.uid),r={...e,id:e.uid,updatedAt:new Date,createdAt:e.createdAt||new Date};await LN(n,r,{merge:!0})}async getUserByUid(e){const n=Dc(vl,this.USERS_COLLECTION,e),r=await jN(n);return r.exists()?r.data():null}async getUserByEmail(e){const n=_N(vl,this.USERS_COLLECTION),r=ON(n,MN("email","==",e)),o=await UN(r);return o.empty?null:o.docs[0].data()}async updateUser(e,n){const r=Dc(vl,this.USERS_COLLECTION,e),o={...n,updatedAt:new Date};await zN(r,o)}async deleteUser(e){const n=Dc(vl,this.USERS_COLLECTION,e);await BN(n)}}const Oc=new FN;class GN{USER_STORAGE_KEY="user";async register(e,n,r){try{const c=(await iw(Xd,e,n)).user,f={uid:c.uid,email:c.email,name:r,favoriteTeams:[],favoritePlayers:[],preferences:{theme:"light",language:"pt"},createdAt:new Date,updatedAt:new Date};return await Oc.saveUser(f),this.saveUserToStorage(f),f}catch(o){throw console.error("Registration error:",o),o}}async login(e,n){try{const o=(await sw(Xd,e,n)).user;let c=await Oc.getUserByUid(o.uid);return c||(c={uid:o.uid,email:o.email,name:o.displayName||e.split("@")[0],favoriteTeams:[],favoritePlayers:[],preferences:{theme:"light",language:"pt"},createdAt:new Date,updatedAt:new Date},await Oc.saveUser(c)),this.saveUserToStorage(c),c}catch(r){throw console.error("Login error:",r),r}}async updateUser(e){const n=this.getCurrentUser();if(!n)throw new Error("No user logged in");try{await Oc.updateUser(n.uid,e);const r={...n,...e};return this.saveUserToStorage(r),r}catch(r){throw console.error("Update user error:",r),r}}async logout(){try{await ow(Xd),this.removeUserFromStorage(),this.clearAuthPersistence()}catch(e){throw console.error("Logout error:",e),e}}getCurrentUser(){const e=localStorage.getItem(this.USER_STORAGE_KEY);if(e)try{return JSON.parse(e)}catch(n){return console.error("Error parsing stored user:",n),this.removeUserFromStorage(),null}return null}isAuthenticated(){return this.getCurrentUser()!==null}clearAuthPersistence(){this.removeUserFromStorage(),typeof window<"u"&&Object.keys(localStorage).forEach(e=>{(e.includes("firebase")||e.includes("auth"))&&localStorage.removeItem(e)})}saveUserToStorage(e){localStorage.setItem(this.USER_STORAGE_KEY,JSON.stringify(e))}removeUserFromStorage(){localStorage.removeItem(this.USER_STORAGE_KEY)}}const El=new GN,KN=({children:s})=>{const[e,n]=oe.useState(null),[r,o]=oe.useState(!1);oe.useEffect(()=>{El.clearAuthPersistence()},[]);const c=async(p,T)=>{o(!0);try{const w=await El.login(p,T);return n(w),!0}catch(w){return console.error("Login error:",w),!1}finally{o(!1)}},f=async(p,T,w)=>{o(!0);try{const b=await El.register(p,T,w);return n(b),!0}catch(b){return console.error("Registration error:",b),!1}finally{o(!1)}},m=async()=>{o(!0);try{await El.logout(),n(null)}catch(p){console.error("Logout error:",p)}finally{o(!1)}},y=async p=>{if(e){o(!0);try{const T=await El.updateUser(p);n(T)}catch(T){console.error("Update user error:",T)}finally{o(!1)}}};return _.jsx(mE.Provider,{value:{user:e,login:c,register:f,logout:m,updateUser:y,isLoading:r},children:s})},BT=oe.createContext(void 0),QN=({children:s})=>{const[e,n]=oe.useState("light");oe.useEffect(()=>{const o=localStorage.getItem("theme");o&&n(o)},[]),oe.useEffect(()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(o=>o==="light"?"dark":"light")};return _.jsx(BT.Provider,{value:{theme:e,toggleTheme:r},children:s})},oo=()=>{const s=oe.useContext(mE);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},YN=()=>{const s=oe.useContext(BT);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s},XN=({onMenuToggle:s})=>{const{user:e,logout:n}=oo(),{theme:r,toggleTheme:o}=YN();return _.jsx("header",{className:"header",children:_.jsxs("div",{className:"header-content",children:[_.jsxs("div",{className:"header-left",children:[_.jsx("button",{className:"menu-toggle btn btn-ghost",onClick:s,children:_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),_.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),_.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),_.jsx("h1",{className:"logo",children:"⚽ FootballSearch"})]}),_.jsxs("div",{className:"header-right",children:[_.jsx("button",{className:"btn btn-ghost",onClick:o,children:r==="light"?_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("circle",{cx:"12",cy:"12",r:"5"}),_.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),_.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),_.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),_.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),_.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),_.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),_.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),_.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),e&&_.jsxs("div",{className:"user-menu",children:[_.jsxs("span",{className:"user-name",children:["Olá, ",e.name]}),_.jsx("button",{className:"btn btn-ghost btn-sm",onClick:async()=>{try{await n()}catch(c){console.error("Logout error:",c)}},children:"Sair"})]})]})]})})},$N=({isOpen:s,onClose:e,onNavigate:n,currentPage:r})=>{const{user:o}=oo(),c=[{id:"search",label:"Buscar Jogadores",icon:"🔍"},{id:"favorites",label:"Favoritos",icon:"⭐"},{id:"rankings",label:"Rankings",icon:"🏆"},{id:"top-players",label:"Top Jogadores",icon:"👑"},{id:"compare",label:"Comparar",icon:"⚖️"}],f=m=>{n(m),e()};return o?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:`sidebar-overlay ${s?"active":""}`,onClick:e}),_.jsxs("aside",{className:`sidebar ${s?"open":""}`,children:[_.jsxs("div",{className:"sidebar-header",children:[_.jsx("h2",{children:"Menu"}),_.jsx("button",{className:"close-btn",onClick:e,children:_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),_.jsx("nav",{className:"sidebar-nav",children:c.map(m=>_.jsxs("button",{className:`nav-item ${r===m.id?"active":""}`,onClick:()=>f(m.id),children:[_.jsx("span",{className:"nav-icon",children:m.icon}),_.jsx("span",{className:"nav-label",children:m.label})]},m.id))}),_.jsx("div",{className:"sidebar-footer",children:_.jsxs("div",{className:"user-info",children:[_.jsx("div",{className:"user-avatar",children:o.name.charAt(0).toUpperCase()}),_.jsxs("div",{className:"user-details",children:[_.jsx("div",{className:"user-name",children:o.name}),_.jsx("div",{className:"user-email",children:o.email})]})]})})]})]}):null},JN=({onNavigate:s})=>{const[e,n]=oe.useState(!0),[r,o]=oe.useState({email:"",password:"",name:""}),[c,f]=oe.useState(""),{login:m,register:y,isLoading:p}=oo(),T=async b=>{b.preventDefault(),f("");try{let z=!1;e?z=await m(r.email,r.password):z=await y(r.email,r.password,r.name),z?s("search"):f("Credenciais inválidas")}catch(z){console.error("Auth error:",z),f("Erro ao fazer login/registro")}},w=b=>{o(z=>({...z,[b.target.name]:b.target.value}))};return _.jsx("div",{className:"login-page",children:_.jsxs("div",{className:"login-card card",children:[_.jsxs("div",{className:"card-header",children:[_.jsx("h2",{className:"login-title text-2xl font-bold text-center",children:"⚽ FootballSearch"}),_.jsx("p",{className:"login-subtitle text-center text-muted mt-2",children:e?"Entre na sua conta":"Crie sua conta"})]}),_.jsxs("div",{className:"card-body",children:[_.jsxs("form",{onSubmit:T,children:[!e&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Nome"}),_.jsx("input",{type:"text",name:"name",value:r.name,onChange:w,className:"form-input",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Email"}),_.jsx("input",{type:"email",name:"email",value:r.email,onChange:w,className:"form-input",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Senha"}),_.jsx("input",{type:"password",name:"password",value:r.password,onChange:w,className:"form-input",required:!0})]}),c&&_.jsx("div",{className:"login-error",children:c}),_.jsx("button",{type:"submit",className:"login-submit-btn btn btn-primary",disabled:p,children:p?_.jsx("div",{className:"loading-spinner login-spinner"}):e?"Entrar":"Registrar"})]}),_.jsx("div",{className:"login-toggle",children:_.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>n(!e),children:e?"Não tem conta? Registre-se":"Já tem conta? Entre"})})]})]})})},Dr=[{id:1,name:"Lionel Messi",firstname:"Lionel",lastname:"Messi",age:38,birth:{date:"1987-06-24",place:"Rosario",country:"Argentina"},nationality:"Argentina",height:"170 cm",weight:"72 kg",injured:!1,photo:""},{id:2,name:"Cristiano Ronaldo",firstname:"Cristiano",lastname:"Ronaldo",age:40,birth:{date:"1985-02-05",place:"Funchal",country:"Portugal"},nationality:"Portugal",height:"187 cm",weight:"83 kg",injured:!1,photo:""},{id:3,name:"Neymar Jr",firstname:"Neymar",lastname:"Jr",age:33,birth:{date:"1992-02-05",place:"Mogi das Cruzes",country:"Brazil"},nationality:"Brazil",height:"175 cm",weight:"68 kg",injured:!1,photo:""},{id:4,name:"Kylian Mbappé",firstname:"Kylian",lastname:"Mbappé",age:26,birth:{date:"1998-12-20",place:"Paris",country:"France"},nationality:"France",height:"178 cm",weight:"73 kg",injured:!1,photo:""},{id:5,name:"Erling Haaland",firstname:"Erling",lastname:"Haaland",age:24,birth:{date:"2000-07-21",place:"Leeds",country:"England"},nationality:"Norway",height:"194 cm",weight:"88 kg",injured:!1,photo:""},{id:6,name:"Vinícius Jr",firstname:"Vinícius",lastname:"Jr",age:24,birth:{date:"2000-07-12",place:"São Gonçalo",country:"Brazil"},nationality:"Brazil",height:"176 cm",weight:"73 kg",injured:!1,photo:""},{id:7,name:"Karim Benzema",firstname:"Karim",lastname:"Benzema",age:36,birth:{date:"1987-12-19",place:"Lyon",country:"France"},nationality:"France",height:"185 cm",weight:"81 kg",injured:!1,photo:""},{id:8,name:"Mohamed Salah",firstname:"Mohamed",lastname:"Salah",age:32,birth:{date:"1992-06-15",place:"Nagrig",country:"Egypt"},nationality:"Egypt",height:"175 cm",weight:"71 kg",injured:!1,photo:""},{id:9,name:"Kevin De Bruyne",firstname:"Kevin",lastname:"Bruyne",age:33,birth:{date:"1991-06-28",place:"Drongen",country:"Belgium"},nationality:"Belgium",height:"181 cm",weight:"76 kg",injured:!1,photo:""},{id:10,name:"Robert Lewandowski",firstname:"Robert",lastname:"Lewandowski",age:36,birth:{date:"1988-08-21",place:"Warsaw",country:"Poland"},nationality:"Poland",height:"185 cm",weight:"81 kg",injured:!1,photo:""},{id:11,name:"Jude Bellingham",firstname:"Jude",lastname:"Bellingham",age:21,birth:{date:"2003-06-29",place:"Stourbridge",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:12,name:"Rodrygo Goes",firstname:"Rodrygo",lastname:"Goes",age:23,birth:{date:"2001-01-09",place:"Osasco",country:"Brazil"},nationality:"Brazil",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:13,name:"Luka Modrić",firstname:"Luka",lastname:"Modrić",age:38,birth:{date:"1985-09-09",place:"Zadar",country:"Croatia"},nationality:"Croatia",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:14,name:"Toni Kroos",firstname:"Toni",lastname:"Kroos",age:34,birth:{date:"1990-01-04",place:"Greifswald",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:15,name:"Eduardo Camavinga",firstname:"Eduardo",lastname:"Camavinga",age:21,birth:{date:"2002-11-10",place:"Miconje",country:"Angola"},nationality:"France",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:16,name:"Aurélien Tchouaméni",firstname:"Aurélien",lastname:"Tchouaméni",age:24,birth:{date:"2000-01-27",place:"Rouen",country:"France"},nationality:"France",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:17,name:"João Félix",firstname:"João",lastname:"Félix",age:24,birth:{date:"1999-11-10",place:"Viseu",country:"Portugal"},nationality:"Portugal",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:18,name:"Antoine Griezmann",firstname:"Antoine",lastname:"Griezmann",age:33,birth:{date:"1991-03-21",place:"Mâcon",country:"France"},nationality:"France",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:19,name:"Ousmane Dembélé",firstname:"Ousmane",lastname:"Dembélé",age:27,birth:{date:"1997-05-15",place:"Vernon",country:"France"},nationality:"France",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:20,name:"Pedri",firstname:"Pedri",lastname:"Pedri",age:21,birth:{date:"2002-11-25",place:"Tegueste",country:"Spain"},nationality:"Spain",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:21,name:"Gavi",firstname:"Gavi",lastname:"Gavi",age:20,birth:{date:"2004-08-05",place:"Los Palacios",country:"Spain"},nationality:"Spain",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:22,name:"Ilkay Gündogan",firstname:"Ilkay",lastname:"Gündogan",age:33,birth:{date:"1990-10-24",place:"Gelsenkirchen",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:23,name:"Bukayo Saka",firstname:"Bukayo",lastname:"Saka",age:22,birth:{date:"2001-09-05",place:"London",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:24,name:"Declan Rice",firstname:"Declan",lastname:"Rice",age:25,birth:{date:"1999-01-14",place:"London",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:25,name:"Phil Foden",firstname:"Phil",lastname:"Foden",age:24,birth:{date:"2000-05-28",place:"Stockport",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:26,name:"Jack Grealish",firstname:"Jack",lastname:"Grealish",age:29,birth:{date:"1995-09-10",place:"Birmingham",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:27,name:"Bruno Fernandes",firstname:"Bruno",lastname:"Fernandes",age:29,birth:{date:"1994-09-08",place:"Maia",country:"Portugal"},nationality:"Portugal",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:28,name:"Marcus Rashford",firstname:"Marcus",lastname:"Rashford",age:26,birth:{date:"1997-10-31",place:"Manchester",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:29,name:"Casemiro",firstname:"Casemiro",lastname:"Casemiro",age:34,birth:{date:"1992-02-23",place:"São José dos Campos",country:"Brazil"},nationality:"Brazil",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:30,name:"Lisandro Martínez",firstname:"Lisandro",lastname:"Martínez",age:26,birth:{date:"1998-01-18",place:"Gualeguay",country:"Argentina"},nationality:"Argentina",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:31,name:"Darwin Núñez",firstname:"Darwin",lastname:"Núñez",age:24,birth:{date:"1999-06-24",place:"Artigas",country:"Uruguay"},nationality:"Uruguay",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:32,name:"Luis Díaz",firstname:"Luis",lastname:"Díaz",age:27,birth:{date:"1997-01-13",place:"Barrancas",country:"Colombia"},nationality:"Colombia",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:33,name:"Cody Gakpo",firstname:"Cody",lastname:"Gakpo",age:25,birth:{date:"1999-05-07",place:"Eindhoven",country:"Netherlands"},nationality:"Netherlands",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:34,name:"Trent Alexander-Arnold",firstname:"Trent",lastname:"Alexander-Arnold",age:25,birth:{date:"1998-10-07",place:"Liverpool",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:35,name:"Andrew Robertson",firstname:"Andrew",lastname:"Robertson",age:31,birth:{date:"1994-03-11",place:"Glasgow",country:"Scotland"},nationality:"Scotland",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:36,name:"Harry Kane",firstname:"Harry",lastname:"Kane",age:31,birth:{date:"2000-02-26",place:"London",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:37,name:"Son Heung-min",firstname:"Son",lastname:"Heung-min",age:33,birth:{date:"2000-03-27",place:"Chuncheon",country:"South Korea"},nationality:"South Korea",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:38,name:"James Maddison",firstname:"James",lastname:"Maddison",age:28,birth:{date:"2000-04-28",place:"Coventry",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:39,name:"Rafael Leão",firstname:"Rafael",lastname:"Leão",age:26,birth:{date:"2000-05-01",place:"Almada",country:"Portugal"},nationality:"Portugal",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:40,name:"Victor Osimhen",firstname:"Victor",lastname:"Osimhen",age:26,birth:{date:"2000-06-02",place:"Lagos",country:"Nigeria"},nationality:"Nigeria",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:41,name:"Khvicha Kvaratskhelia",firstname:"Khvicha",lastname:"Kvaratskhelia",age:24,birth:{date:"1999-07-03",place:"Tbilisi",country:"Georgia"},nationality:"Georgia",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:42,name:"Paulo Dybala",firstname:"Paulo",lastname:"Dybala",age:31,birth:{date:"2000-08-04",place:"Laguna Larga",country:"Argentina"},nationality:"Argentina",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:43,name:"Lautaro Martínez",firstname:"Lautaro",lastname:"Martínez",age:28,birth:{date:"2000-09-05",place:"Bahía Blanca",country:"Argentina"},nationality:"Argentina",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:44,name:"Nicolo Barella",firstname:"Nicolo",lastname:"Barella",age:28,birth:{date:"2000-10-06",place:"Cagliari",country:"Italy"},nationality:"Italy",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:45,name:"Federico Chiesa",firstname:"Federico",lastname:"Chiesa",age:27,birth:{date:"2000-11-07",place:"Genoa",country:"Italy"},nationality:"Italy",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:46,name:"Wojciech Szczesny",firstname:"Wojciech",lastname:"Szczesny",age:34,birth:{date:"2000-12-08",place:"Warsaw",country:"Poland"},nationality:"Poland",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:47,name:"Manuel Neuer",firstname:"Manuel",lastname:"Neuer",age:39,birth:{date:"2000-01-09",place:"Gelsenkirchen",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:48,name:"Joshua Kimmich",firstname:"Joshua",lastname:"Kimmich",age:30,birth:{date:"2000-02-10",place:"Rottweil",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:49,name:"Jamal Musiala",firstname:"Jamal",lastname:"Musiala",age:22,birth:{date:"2003-03-26",place:"Stuttgart",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:50,name:"Florian Wirtz",firstname:"Florian",lastname:"Wirtz",age:22,birth:{date:"2003-03-05",place:"Pulheim",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""}],Sm=[{id:1,name:"Inter Miami",logo:"",founded:2018,country:"United States"},{id:2,name:"Al-Nassr",logo:"",founded:1955,country:"Saudi Arabia"},{id:3,name:"Al-Hilal",logo:"",founded:1957,country:"Saudi Arabia"},{id:4,name:"Real Madrid",logo:"",founded:1902,country:"Spain"},{id:5,name:"Manchester City",logo:"",founded:1880,country:"England"},{id:6,name:"Al-Ittihad",logo:"",founded:1927,country:"Saudi Arabia"},{id:7,name:"Liverpool",logo:"",founded:1892,country:"England"},{id:8,name:"Barcelona",logo:"",founded:1899,country:"Spain"},{id:9,name:"Atletico Madrid",logo:"",founded:1903,country:"Spain"},{id:10,name:"Paris Saint-Germain",logo:"",founded:1970,country:"France"},{id:11,name:"Bayern Munich",logo:"",founded:1900,country:"Germany"},{id:12,name:"Arsenal",logo:"",founded:1886,country:"England"},{id:13,name:"Tottenham Hotspur",logo:"",founded:1882,country:"England"},{id:14,name:"Manchester United",logo:"",founded:1878,country:"England"},{id:15,name:"Juventus",logo:"",founded:1897,country:"Italy"},{id:16,name:"AC Milan",logo:"",founded:1899,country:"Italy"},{id:17,name:"Napoli",logo:"",founded:1926,country:"Italy"},{id:18,name:"Roma",logo:"",founded:1927,country:"Italy"},{id:19,name:"Galatasaray",logo:"",founded:1905,country:"Turkey"},{id:20,name:"Inter Milan",logo:"",founded:1908,country:"Italy"},{id:21,name:"Borussia Dortmund",logo:"",founded:1909,country:"Germany"},{id:22,name:"Santos",logo:"",founded:1912,country:"Brazil"}],ZN=s=>{const e=Dr.find(m=>m.id===s);if(!e)return[];const n={1:{goals:12,assists:14,appearances:25,rating:7.9},2:{goals:21,assists:5,appearances:27,rating:7.6},3:{goals:8,assists:10,appearances:18,rating:7.5},4:{goals:34,assists:6,appearances:30,rating:8.2},5:{goals:32,assists:4,appearances:29,rating:8.1},6:{goals:17,assists:11,appearances:28,rating:7.8},7:{goals:14,assists:3,appearances:20,rating:7.4},8:{goals:23,assists:8,appearances:30,rating:7.9},9:{goals:6,assists:15,appearances:24,rating:8},10:{goals:18,assists:5,appearances:26,rating:7.7},11:{goals:5,assists:3,appearances:15,rating:7},12:{goals:6,assists:4,appearances:16,rating:7},13:{goals:7,assists:5,appearances:17,rating:7.1},14:{goals:8,assists:6,appearances:18,rating:7.2},15:{goals:9,assists:7,appearances:19,rating:7.2},16:{goals:10,assists:8,appearances:20,rating:7.2},17:{goals:11,assists:9,appearances:21,rating:7.3},18:{goals:12,assists:10,appearances:22,rating:7.3},19:{goals:13,assists:11,appearances:23,rating:7.4},20:{goals:14,assists:12,appearances:24,rating:7.5},21:{goals:15,assists:3,appearances:25,rating:7.5},22:{goals:16,assists:4,appearances:26,rating:7.5},23:{goals:17,assists:5,appearances:27,rating:7.6},24:{goals:18,assists:6,appearances:28,rating:7.7},25:{goals:19,assists:7,appearances:29,rating:7.7},26:{goals:5,assists:8,appearances:30,rating:7.8},27:{goals:6,assists:9,appearances:31,rating:7.8},28:{goals:7,assists:10,appearances:32,rating:7.8},29:{goals:8,assists:11,appearances:33,rating:7.9},30:{goals:9,assists:12,appearances:34,rating:8},31:{goals:10,assists:3,appearances:15,rating:7},32:{goals:11,assists:4,appearances:16,rating:7},33:{goals:12,assists:5,appearances:17,rating:7.1},34:{goals:13,assists:6,appearances:18,rating:7.2},35:{goals:14,assists:7,appearances:19,rating:7.2},36:{goals:15,assists:8,appearances:20,rating:7.2},37:{goals:16,assists:9,appearances:21,rating:7.3},38:{goals:17,assists:10,appearances:22,rating:7.3},39:{goals:18,assists:11,appearances:23,rating:7.4},40:{goals:19,assists:12,appearances:24,rating:7.5},41:{goals:5,assists:3,appearances:25,rating:7.5},42:{goals:6,assists:4,appearances:26,rating:7.5},43:{goals:7,assists:5,appearances:27,rating:7.6},44:{goals:8,assists:6,appearances:28,rating:7.7},45:{goals:9,assists:7,appearances:29,rating:7.7},46:{goals:10,assists:8,appearances:30,rating:7.8},47:{goals:11,assists:9,appearances:31,rating:7.8},48:{goals:12,assists:10,appearances:32,rating:7.8},49:{goals:13,assists:11,appearances:33,rating:7.9},50:{goals:14,assists:12,appearances:34,rating:8}},r={1:1,2:2,3:22,4:4,5:5,6:4,7:6,8:7,9:17,10:8,11:4,12:4,13:4,14:4,15:4,16:4,17:9,18:9,19:10,20:8,21:8,22:5,23:12,24:12,25:5,26:5,27:14,28:8,29:14,30:14,31:7,32:7,33:7,34:7,35:7,36:11,37:13,38:13,39:16,40:19,41:10,42:19,43:20,44:20,45:7,46:8,47:11,48:11,49:11,50:7},o=n[s],c=r[s]||1,f=Sm.find(m=>m.id===c)||Sm[0];return o?[{team:f,league:{id:1,name:"World League",country:e.nationality,logo:"",flag:"",season:2024},games:{appearences:o.appearances,lineups:o.appearances-2,minutes:o.appearances*85,number:s,position:"Attacker",rating:o.rating.toString(),captain:s<=3},substitutes:{in:2,out:5,bench:3},shots:{total:o.goals*4,on:o.goals*3},goals:{total:o.goals,conceded:0,assists:o.assists,saves:0},passes:{total:1e3,key:80,accuracy:85},tackles:{total:10,blocks:4,interceptions:5},duels:{total:100,won:60},dribbles:{attempts:60,success:40,past:0},fouls:{drawn:20,committed:10},cards:{yellow:2,yellowred:0,red:0},penalty:{won:2,commited:0,scored:2,missed:0,saved:0}}]:[]};class WN{async searchPlayers(e){await new Promise(r=>setTimeout(r,300));let n=[...Dr];return e.name&&(n=n.filter(r=>r.name.toLowerCase().includes(e.name.toLowerCase()))),e.nationality&&(n=n.filter(r=>r.nationality.toLowerCase().includes(e.nationality.toLowerCase()))),e.position&&(n=n.filter(r=>r.name.toLowerCase().includes(e.position.toLowerCase()))),n}async getPlayer(e){return await new Promise(n=>setTimeout(n,200)),Dr.find(n=>n.id===e)||null}async getPlayerStatistics(e){return await new Promise(n=>setTimeout(n,250)),ZN(e)}async getTopPlayers(){return await new Promise(e=>setTimeout(e,200)),Dr}async getRankings(e){await new Promise(o=>setTimeout(o,300));const r=(await Promise.all(Dr.map(async o=>{const c=await this.getPlayerStatistics(o.id);return{player:o,stats:c[0]}}))).filter(o=>o.stats).sort((o,c)=>{let f=0,m=0;switch(e){case"goals":f=o.stats.goals.total,m=c.stats.goals.total;break;case"assists":f=o.stats.goals.assists,m=c.stats.goals.assists;break;case"cards":f=o.stats.cards.yellow+o.stats.cards.red,m=c.stats.cards.yellow+c.stats.cards.red;break}return m-f});return{type:e,players:r.slice(0,10).map(o=>({player:o.player,team:o.stats.team,value:e==="goals"?o.stats.goals.total:e==="assists"?o.stats.goals.assists:o.stats.cards.yellow+o.stats.cards.red}))}}async getPlayerSuggestions(e){return await new Promise(n=>setTimeout(n,150)),e.length<2?[]:Dr.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())).slice(0,5)}async getAllPlayers(){return await new Promise(e=>setTimeout(e,100)),Dr}async getAllTeams(){return await new Promise(e=>setTimeout(e,100)),Sm}}const ln=new WN,eC=()=>{const[s,e]=oe.useState([]),[n,r]=oe.useState(!1),[o,c]=oe.useState(null),[f,m]=oe.useState({});return{players:s,loading:n,error:o,filters:f,searchPlayers:async T=>{r(!0),c(null);try{const w=await ln.searchPlayers(T);e(w),m(T)}catch(w){c("Erro ao buscar jogadores"),console.error("Error fetching players:",w),e([])}finally{r(!1)}},clearSearch:()=>{e([]),m({}),c(null)}}},tC=(s=300)=>{const[e,n]=oe.useState(""),[r,o]=oe.useState([]),[c,f]=oe.useState(!1),m=oe.useCallback(async p=>{if(p.length<2){o([]);return}f(!0);try{const T=await ln.getPlayerSuggestions(p);o(T)}catch(T){console.error("Error fetching player suggestions:",T),o([])}finally{f(!1)}},[]),y=oe.useCallback(async p=>{if(p.length<2){o([]);return}f(!0);try{const T=await ln.getPlayerSuggestions(p);o(T)}catch(T){console.error("Error fetching player suggestions:",T),o([])}finally{f(!1)}},[]);return oe.useEffect(()=>{const p=setTimeout(()=>{y(e)},s);return()=>clearTimeout(p)},[e,s,y]),{query:e,setQuery:n,suggestions:r,loading:c,searchPlayers:m,clearSuggestions:()=>o([])}},qT=({onSearch:s,onPlayerSelect:e,placeholder:n="Pesquisar jogador..."})=>{const[r,o]=oe.useState(""),[c,f]=oe.useState(!1),m=oe.useRef(null),{suggestions:y,loading:p,searchPlayers:T}=tC();oe.useEffect(()=>{const B=te=>{m.current&&!m.current.contains(te.target)&&f(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),oe.useEffect(()=>{r.length>1&&T(r)},[r,T]);const w=B=>{const te=B.target.value;o(te),f(!0)},b=B=>{B.preventDefault(),r.trim()&&(s(r.trim()),f(!1))},z=B=>{o(B.name),f(!1),e?e(B):s(B.name)};return _.jsxs("div",{className:"search-bar",ref:m,children:[_.jsx("form",{onSubmit:b,className:"search-form",children:_.jsxs("div",{className:"search-input-container",children:[_.jsx("input",{type:"text",value:r,onChange:w,placeholder:n,className:"search-input",onFocus:()=>f(r.length>0)}),_.jsx("button",{type:"submit",className:"search-button",children:_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("circle",{cx:"11",cy:"11",r:"8"}),_.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})}),c&&_.jsxs("div",{className:"suggestions-dropdown",children:[p&&_.jsxs("div",{className:"suggestion-item loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("span",{children:"Buscando..."})]}),!p&&y.length===0&&r.length>1&&_.jsx("div",{className:"suggestion-item no-results",children:"Nenhum jogador encontrado"}),!p&&y.map(B=>_.jsxs("div",{className:"suggestion-item",onClick:()=>z(B),children:[_.jsx("div",{className:"suggestion-avatar-placeholder",children:_.jsx("span",{className:"suggestion-avatar-initial",children:B.name.charAt(0).toUpperCase()})}),_.jsxs("div",{className:"suggestion-info",children:[_.jsx("div",{className:"suggestion-name",children:B.name}),_.jsxs("div",{className:"suggestion-details",children:[B.nationality," • ",B.age," anos"]})]})]},B.id))]})]})},Ch=()=>{const{user:s,updateUser:e}=oo(),[n,r]=oe.useState([]),[o,c]=oe.useState([]);return oe.useEffect(()=>{s&&(r(s.favoritePlayers),c(s.favoriteTeams))},[s]),{favoritePlayers:n,favoriteTeams:o,toggleFavoritePlayer:async T=>{const w=n.includes(T)?n.filter(b=>b!==T):[...n,T];r(w),await e({favoritePlayers:w})},toggleFavoriteTeam:async T=>{const w=o.includes(T)?o.filter(b=>b!==T):[...o,T];c(w),await e({favoriteTeams:w})},isPlayerFavorite:T=>n.includes(T),isTeamFavorite:T=>o.includes(T)}},_g=({player:s,showFavorite:e=!0,onClick:n})=>{const{isPlayerFavorite:r,isTeamFavorite:o,toggleFavoritePlayer:c,toggleFavoriteTeam:f}=Ch(),[m,y]=oe.useState(null);oe.useEffect(()=>{(async()=>{try{const z=await ln.getPlayerStatistics(s.id);y(z[0]||null)}catch(z){console.error("Erro ao buscar estatísticas do jogador:",z)}})()},[s.id]);const p=b=>{b.stopPropagation(),c(s.id)},T=b=>{b.stopPropagation(),m?.team&&f(m.team.id)},w=()=>{n&&n(s)};return _.jsxs("div",{className:"player-card",onClick:w,children:[e&&_.jsx("button",{className:`favorite-btn ${r(s.id)?"active":""}`,onClick:p,children:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})}),_.jsxs("div",{className:"player-photo",children:[_.jsx("div",{className:"player-photo-placeholder",children:_.jsx("span",{className:"player-initial",children:s.name.charAt(0).toUpperCase()})}),s.injured&&_.jsx("div",{className:"injury-badge",children:_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),_.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),_.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})})]}),_.jsxs("div",{className:"player-info",children:[_.jsx("h3",{className:"player-name",children:s.name}),_.jsxs("div",{className:"player-details",children:[_.jsxs("span",{className:"player-age",children:[s.age," anos"]}),_.jsx("span",{className:"player-nationality",children:s.nationality})]}),_.jsxs("div",{className:"player-physical",children:[_.jsx("span",{children:s.height}),_.jsx("span",{children:s.weight})]}),m?.team&&_.jsxs("div",{className:"player-team",children:[_.jsx("span",{className:"team-name",children:m.team.name}),_.jsx("button",{className:`team-favorite-btn ${o(m.team.id)?"active":""}`,onClick:T,children:_.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})})]})]})]})},nC=({onPlayerSelect:s})=>{const{players:e,loading:n,error:r,searchPlayers:o}=eC(),[c,f]=oe.useState({}),[m,y]=oe.useState(!1),p=b=>{o({...c,name:b})},T=(b,z)=>{const B={...c,[b]:z||void 0};f(B),B.name&&o(B)},w=()=>{f({})};return _.jsxs("div",{className:"search-page",children:[_.jsxs("div",{className:"search-header",children:[_.jsx("h1",{className:"search-title text-3xl font-bold mb-6",children:"Buscar Jogadores"}),_.jsx("div",{className:"search-bar-container",children:_.jsx(qT,{onSearch:p,onPlayerSelect:s})}),_.jsxs("div",{className:"search-controls flex items-center gap-4 mb-4",children:[_.jsxs("button",{className:`btn ${m?"btn-primary":"btn-secondary"}`,onClick:()=>y(!m),children:[_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})}),"Filtros"]}),Object.keys(c).length>0&&_.jsx("button",{className:"btn btn-ghost",onClick:w,children:"Limpar filtros"})]}),m&&_.jsx("div",{className:"filters-card card mb-6",children:_.jsx("div",{className:"card-body",children:_.jsxs("div",{className:"filters-grid grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Nacionalidade"}),_.jsx("input",{type:"text",className:"form-input",placeholder:"Ex: Brasil, Argentina...",value:c.nationality||"",onChange:b=>T("nationality",b.target.value)})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Posição"}),_.jsx("input",{type:"text",className:"form-input",placeholder:"Ex: Atacante, Meio-campo...",value:c.position||"",onChange:b=>T("position",b.target.value)})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Idade Mínima"}),_.jsx("input",{type:"number",className:"form-input",min:"16",max:"45",value:c.ageMin||"",onChange:b=>T("ageMin",Number.parseInt(b.target.value))})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Idade Máxima"}),_.jsx("input",{type:"number",className:"form-input",min:"16",max:"45",value:c.ageMax||"",onChange:b=>T("ageMax",Number.parseInt(b.target.value))})]})]})})})]}),_.jsxs("div",{className:"search-content",children:[n&&_.jsx("div",{className:"search-loading",children:_.jsx("div",{className:"loading-spinner search-spinner"})}),r&&_.jsx("div",{className:"search-error card",children:_.jsx("div",{className:"card-body text-center",children:_.jsx("p",{children:r})})}),!n&&!r&&e.length===0&&_.jsx("div",{className:"search-empty card",children:_.jsx("div",{className:"card-body text-center",children:_.jsx("p",{className:"text-muted",children:"Nenhum jogador encontrado. Tente uma nova busca."})})}),!n&&e.length>0&&_.jsxs("div",{className:"search-results",children:[_.jsxs("p",{className:"search-results-count text-muted mb-4",children:[e.length," jogador",e.length!==1?"es":""," ","encontrado",e.length!==1?"s":""]}),_.jsx("div",{className:"players-grid grid grid-cols-4 gap-6",children:e.map(b=>_.jsx(_g,{player:b,onClick:s},b.id))})]})]})]})},iC=({playerId:s,onBack:e})=>{const[n,r]=oe.useState(null),[o,c]=oe.useState([]),[f,m]=oe.useState(!0),[y,p]=oe.useState("overview"),{isPlayerFavorite:T,isTeamFavorite:w,toggleFavoritePlayer:b,toggleFavoriteTeam:z}=Ch();if(oe.useEffect(()=>{(async()=>{m(!0);try{const[Z,Ee]=await Promise.all([ln.getPlayer(s),ln.getPlayerStatistics(s)]);r(Z),c(Ee)}catch(Z){console.error("Error loading player data:",Z)}finally{m(!1)}})()},[s]),f)return _.jsx("div",{className:"player-detail-page",children:_.jsxs("div",{className:"player-detail-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Carregando dados do jogador..."})]})});if(!n)return _.jsx("div",{className:"player-detail-page",children:_.jsx("div",{className:"player-detail-error card",children:_.jsxs("div",{className:"card-body text-center",children:[_.jsx("p",{children:"Jogador não encontrado"}),_.jsx("button",{className:"btn btn-primary mt-4",onClick:e,children:"Voltar"})]})})});const B=o[0];return _.jsxs("div",{className:"player-detail-page",children:[_.jsxs("button",{className:"back-button btn btn-ghost mb-6",onClick:e,children:[_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polyline",{points:"15,18 9,12 15,6"})}),"Voltar"]}),_.jsxs("div",{className:"player-detail-grid grid grid-cols-3 gap-6",children:[_.jsx("div",{className:"player-profile-card card",children:_.jsxs("div",{className:"card-body text-center",children:[_.jsxs("div",{className:"player-photo-container",children:[_.jsx("div",{className:"player-photo-placeholder",children:_.jsx("span",{className:"player-photo-initial",children:n.name.charAt(0).toUpperCase()})}),n.injured&&_.jsx("div",{className:"injury-badge",children:_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),_.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),_.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})})]}),_.jsx("h1",{className:"player-name text-2xl font-bold mt-4",children:n.name}),_.jsx("p",{className:"player-position text-muted",children:B?.games.position||"Atacante"}),B?.team&&_.jsx("div",{className:"player-team-info mt-3",children:_.jsxs("div",{className:"team-display",children:[_.jsx("span",{className:"team-name",children:B.team.name}),_.jsx("button",{className:`team-favorite-btn ${w(B.team.id)?"active":""}`,onClick:()=>z(B.team.id),title:w(B.team.id)?"Remover time dos Favoritos":"Adicionar time aos Favoritos",children:_.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})})]})}),_.jsx("div",{className:"player-actions mt-4",children:_.jsx("button",{className:`favorite-btn ${T(n.id)?"active":""}`,onClick:()=>b(n.id),title:T(n.id)?"Remover dos Favoritos":"Adicionar aos Favoritos",children:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})})})]})}),_.jsxs("div",{className:"player-info-card card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"card-title",children:"Informações Pessoais"})}),_.jsx("div",{className:"card-body",children:_.jsxs("div",{className:"info-grid",children:[_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Idade"}),_.jsxs("span",{className:"info-value",children:[n.age," anos"]})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Nacionalidade"}),_.jsx("span",{className:"info-value",children:n.nationality})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Altura"}),_.jsx("span",{className:"info-value",children:n.height})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Peso"}),_.jsx("span",{className:"info-value",children:n.weight})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Data de Nascimento"}),_.jsx("span",{className:"info-value",children:new Date(n.birth.date).toLocaleDateString("pt-BR")})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Local de Nascimento"}),_.jsx("span",{className:"info-value",children:n.birth.place})]})]})})]}),_.jsxs("div",{className:"player-stats-card card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"card-title",children:"Estatísticas da Temporada"})}),_.jsx("div",{className:"card-body",children:B?_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Jogos"}),_.jsx("span",{className:"stat-value",children:B.games.appearences})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Gols"}),_.jsx("span",{className:"stat-value",children:B.goals.total})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Assistências"}),_.jsx("span",{className:"stat-value",children:B.goals.assists})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Avaliação"}),_.jsx("span",{className:"stat-value",children:B.games.rating})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Minutos"}),_.jsx("span",{className:"stat-value",children:B.games.minutes})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Cartões Amarelos"}),_.jsx("span",{className:"stat-value",children:B.cards.yellow})]})]}):_.jsx("p",{className:"text-muted",children:"Estatísticas não disponíveis"})})]})]}),B&&_.jsxs("div",{className:"player-detailed-stats mt-6",children:[_.jsxs("div",{className:"stats-tabs",children:[_.jsx("button",{className:`stats-tab ${y==="overview"?"active":""}`,onClick:()=>p("overview"),children:"Visão Geral"}),_.jsx("button",{className:`stats-tab ${y==="attacking"?"active":""}`,onClick:()=>p("attacking"),children:"Ataque"}),_.jsx("button",{className:`stats-tab ${y==="defending"?"active":""}`,onClick:()=>p("defending"),children:"Defesa"})]}),_.jsxs("div",{className:"stats-content",children:[y==="overview"&&_.jsxs("div",{className:"stats-section",children:[_.jsx("h3",{children:"Visão Geral"}),_.jsxs("div",{className:"stats-grid-detailed",children:[_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.games.appearences}),_.jsx("span",{className:"stat-label",children:"Jogos"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.games.minutes}),_.jsx("span",{className:"stat-label",children:"Minutos"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.games.rating}),_.jsx("span",{className:"stat-label",children:"Avaliação"})]})]})]}),y==="attacking"&&_.jsxs("div",{className:"stats-section",children:[_.jsx("h3",{children:"Estatísticas de Ataque"}),_.jsxs("div",{className:"stats-grid-detailed",children:[_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.goals.total}),_.jsx("span",{className:"stat-label",children:"Gols"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.goals.assists}),_.jsx("span",{className:"stat-label",children:"Assistências"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.shots.total}),_.jsx("span",{className:"stat-label",children:"Finalizações"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.shots.on}),_.jsx("span",{className:"stat-label",children:"No Gol"})]})]})]}),y==="defending"&&_.jsxs("div",{className:"stats-section",children:[_.jsx("h3",{children:"Estatísticas de Defesa"}),_.jsxs("div",{className:"stats-grid-detailed",children:[_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.tackles.total}),_.jsx("span",{className:"stat-label",children:"Desarmes"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.tackles.interceptions}),_.jsx("span",{className:"stat-label",children:"Interceptações"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.tackles.blocks}),_.jsx("span",{className:"stat-label",children:"Bloqueios"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.cards.yellow}),_.jsx("span",{className:"stat-label",children:"Cartões Amarelos"})]})]})]})]})]})]})},sC=({team:s,showFavorite:e=!0,onClick:n})=>{const{isTeamFavorite:r,toggleFavoriteTeam:o}=Ch(),c=m=>{m.stopPropagation(),o(s.id)},f=()=>{n&&n(s)};return _.jsxs("div",{className:"team-card",onClick:f,children:[e&&_.jsx("button",{className:`favorite-btn ${r(s.id)?"active":""}`,onClick:c,children:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})}),_.jsx("div",{className:"team-logo",children:_.jsx("div",{className:"team-logo-placeholder",children:_.jsx("span",{className:"team-initial",children:s.name.charAt(0).toUpperCase()})})}),_.jsxs("div",{className:"team-info",children:[_.jsx("h3",{className:"team-name",children:s.name}),_.jsxs("div",{className:"team-details",children:[_.jsx("span",{className:"team-country",children:s.country}),_.jsx("span",{className:"team-founded",children:s.founded})]})]})]})},rC=()=>{const{user:s}=oo(),{favoritePlayers:e,favoriteTeams:n}=Ch(),[r,o]=oe.useState([]),[c,f]=oe.useState([]),[m,y]=oe.useState(!0);return oe.useEffect(()=>{(async()=>{try{if(e.length>0){const T=e.map(z=>ln.getPlayer(z)),b=(await Promise.all(T)).filter(z=>z!==null);o(b)}else o([]);if(n.length>0){const w=(await ln.getAllTeams()).filter(b=>n.includes(b.id));f(w)}else f([])}catch(T){console.error("Error loading favorites:",T)}finally{y(!1)}})()},[e,n]),s?m?_.jsx("div",{className:"container mx-auto p-4",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),_.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando favoritos..."})]})}):_.jsxs("div",{className:"container mx-auto p-4",children:[_.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Meus Favoritos"}),_.jsxs("div",{className:"mb-8",children:[_.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Jogadores Favoritos"}),r.length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(p=>_.jsx(_g,{player:p,showFavorite:!0},p.id))}):_.jsxs("div",{className:"text-center text-gray-600 py-8",children:[_.jsx("p",{children:"Você ainda não tem jogadores favoritos"}),_.jsx("p",{className:"text-sm mt-2",children:"Adicione jogadores à sua lista de favoritos para vê-los aqui"})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Times Favoritos"}),c.length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(p=>_.jsx(sC,{team:p,showFavorite:!0},p.id))}):_.jsxs("div",{className:"text-center text-gray-600 py-8",children:[_.jsx("p",{children:"Você ainda não tem times favoritos"}),_.jsx("p",{className:"text-sm mt-2",children:"Adicione times à sua lista de favoritos para vê-los aqui"})]})]})]}):_.jsx("div",{className:"container mx-auto p-4",children:_.jsx("div",{className:"text-center text-gray-600",children:"Faça login para ver seus favoritos"})})},aC=()=>{const[s,e]=oe.useState({}),[n,r]=oe.useState("goals"),[o,c]=oe.useState(!0),[f,m]=oe.useState(null);oe.useEffect(()=>{(async()=>{c(!0),m(null);try{const[b,z,B]=await Promise.all([ln.getRankings("goals"),ln.getRankings("assists"),ln.getRankings("cards")]);e({goals:b,assists:z,cards:B})}catch(b){m("Erro ao carregar rankings"),console.error("Error loading rankings:",b)}finally{c(!1)}})()},[]);const y=w=>{switch(w){case"goals":return"Artilheiros";case"assists":return"Assistentes";case"cards":return"Cartões";default:return"Ranking"}},p=w=>{switch(w){case"goals":return"⚽";case"assists":return"🎯";case"cards":return"🟨";default:return"🏆"}},T=s[n];return o?_.jsx("div",{className:"rankings-page",children:_.jsxs("div",{className:"rankings-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Carregando rankings..."})]})}):f?_.jsx("div",{className:"rankings-page",children:_.jsx("div",{className:"rankings-error",children:_.jsx("p",{children:f})})}):_.jsxs("div",{className:"rankings-page",children:[_.jsxs("div",{className:"rankings-header",children:[_.jsx("h1",{className:"rankings-title text-3xl font-bold mb-6",children:"🏆 Rankings"}),_.jsxs("div",{className:"rankings-tabs",children:[_.jsxs("button",{className:`ranking-tab ${n==="goals"?"active":""}`,onClick:()=>r("goals"),children:[_.jsx("span",{className:"tab-icon",children:"⚽"}),"Artilheiros"]}),_.jsxs("button",{className:`ranking-tab ${n==="assists"?"active":""}`,onClick:()=>r("assists"),children:[_.jsx("span",{className:"tab-icon",children:"🎯"}),"Assistentes"]}),_.jsxs("button",{className:`ranking-tab ${n==="cards"?"active":""}`,onClick:()=>r("cards"),children:[_.jsx("span",{className:"tab-icon",children:"🟨"}),"Cartões"]})]})]}),_.jsx("div",{className:"rankings-content",children:T&&_.jsxs("div",{className:"ranking-section",children:[_.jsxs("div",{className:"ranking-header-info",children:[_.jsxs("h2",{className:"ranking-section-title",children:[_.jsx("span",{className:"ranking-icon",children:p(n)}),"Top ",y(n)]}),_.jsxs("p",{className:"ranking-description text-muted",children:[n==="goals"&&"Os maiores artilheiros da temporada atual",n==="assists"&&"Jogadores com mais assistências na temporada",n==="cards"&&"Jogadores com mais cartões disciplinares"]})]}),_.jsx("div",{className:"ranking-list",children:T.players.map((w,b)=>_.jsxs("div",{className:`ranking-item ${b<3?"podium":""}`,children:[_.jsxs("div",{className:"ranking-position",children:[_.jsx("span",{className:`position-number ${b===0?"gold":b===1?"silver":b===2?"bronze":""}`,children:b+1}),b<3&&_.jsx("span",{className:"medal",children:b===0?"🥇":b===1?"🥈":"🥉"})]}),_.jsxs("div",{className:"player-info",children:[_.jsx("div",{className:"player-avatar-placeholder",children:_.jsx("span",{className:"player-avatar-initial",children:w.player.name.charAt(0).toUpperCase()})}),_.jsxs("div",{className:"player-details",children:[_.jsx("h3",{className:"player-name",children:w.player.name}),_.jsx("p",{className:"player-team text-muted",children:w.team.name})]})]}),_.jsx("div",{className:"ranking-stats",children:_.jsxs("div",{className:"stat-value",children:[w.value,_.jsxs("span",{className:"stat-label",children:[n==="goals"&&"gols",n==="assists"&&"assist.",n==="cards"&&"cartões"]})]})}),_.jsx("div",{className:"team-logo",children:_.jsx("div",{className:"team-logo-placeholder",children:_.jsx("span",{className:"team-logo-initial",children:w.team.name.charAt(0).toUpperCase()})})})]},w.player.id))})]})})]})},oC=({onPlayerSelect:s})=>{const[e,n]=oe.useState([]),[r,o]=oe.useState(!0),[c,f]=oe.useState("week");oe.useEffect(()=>{(async()=>{o(!0);try{const p=await ln.getTopPlayers();n(p)}catch(p){console.error("Error loading top players:",p)}finally{o(!1)}})()},[c]);const m=()=>{switch(c){case"week":return"Top da Semana";case"month":return"Top do Mês";case"all":return"Mais Buscados";default:return"Top Jogadores"}};return r?_.jsx("div",{className:"top-players-page",children:_.jsxs("div",{className:"top-players-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Carregando top jogadores..."})]})}):_.jsxs("div",{className:"top-players-page",children:[_.jsxs("div",{className:"top-players-header",children:[_.jsx("h1",{className:"top-players-title text-3xl font-bold mb-6",children:"👑 Top Jogadores"}),_.jsxs("div",{className:"filter-section",children:[_.jsx("p",{className:"filter-description text-muted mb-4",children:"Descubra os jogadores mais populares e buscados na plataforma"}),_.jsxs("div",{className:"filter-tabs",children:[_.jsxs("button",{className:`filter-tab btn ${c==="week"?"btn-primary":"btn-secondary"}`,onClick:()=>f("week"),children:[_.jsx("span",{className:"tab-icon",children:"📅"}),"Esta Semana"]}),_.jsxs("button",{className:`filter-tab btn ${c==="month"?"btn-primary":"btn-secondary"}`,onClick:()=>f("month"),children:[_.jsx("span",{className:"tab-icon",children:"📊"}),"Este Mês"]}),_.jsxs("button",{className:`filter-tab btn ${c==="all"?"btn-primary":"btn-secondary"}`,onClick:()=>f("all"),children:[_.jsx("span",{className:"tab-icon",children:"🔥"}),"Mais Buscados"]})]})]})]}),_.jsxs("div",{className:"top-players-content",children:[_.jsxs("div",{className:"section-header",children:[_.jsx("h2",{className:"section-title",children:m()}),_.jsxs("p",{className:"section-subtitle text-muted",children:[e.length," jogadores encontrados"]})]}),e.length===0?_.jsx("div",{className:"empty-state card",children:_.jsxs("div",{className:"card-body text-center",children:[_.jsx("div",{className:"empty-icon",children:"👑"}),_.jsx("h3",{className:"empty-title",children:"Nenhum jogador encontrado"}),_.jsx("p",{className:"empty-description text-muted",children:"Não há dados disponíveis para o período selecionado"})]})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"podium-section",children:[_.jsx("h3",{className:"podium-title",children:"🏆 Pódium"}),_.jsx("div",{className:"podium-grid",children:e.slice(0,3).map((y,p)=>_.jsxs("div",{className:`podium-item position-${p+1}`,children:[_.jsxs("div",{className:"podium-rank",children:[_.jsx("span",{className:"rank-number",children:p+1}),_.jsx("span",{className:"rank-medal",children:p===0?"🥇":p===1?"🥈":"🥉"})]}),_.jsxs("div",{className:"podium-player",children:[_.jsx("div",{className:"podium-photo-placeholder",children:_.jsx("span",{className:"podium-photo-initial",children:y.name.charAt(0).toUpperCase()})}),_.jsx("h4",{className:"podium-name",children:y.name}),_.jsxs("p",{className:"podium-info text-muted",children:[y.nationality," • ",y.age," anos"]}),_.jsx("button",{className:"podium-btn btn btn-primary btn-sm",onClick:()=>s(y),children:"Ver Perfil"})]})]},y.id))})]}),_.jsxs("div",{className:"players-list-section",children:[_.jsx("h3",{className:"list-title",children:"📋 Lista Completa"}),_.jsx("div",{className:"players-grid grid grid-cols-4 gap-6",children:e.map((y,p)=>_.jsxs("div",{className:"player-card-wrapper",children:[_.jsxs("div",{className:"player-rank-badge",children:["#",p+1]}),_.jsx(_g,{player:y,onClick:s,showFavorite:!0})]},y.id))})]})]})]})]})},lC=()=>{const[s,e]=oe.useState(null),[n,r]=oe.useState(null),[o,c]=oe.useState(null),[f,m]=oe.useState(null),[y,p]=oe.useState(null),T=async z=>{if(y===1){e(z);const B=await ln.getPlayerStatistics(z.id);c(B[0]||null)}else if(y===2){r(z);const B=await ln.getPlayerStatistics(z.id);m(B[0]||null)}p(null)},w=z=>{z===1?(e(null),c(null)):(r(null),m(null))},b=(z,B)=>{if(!z)return 0;switch(B){case"goals":return z.goals.total;case"assists":return z.goals.assists;case"matches":return z.games.appearences;case"rating":return parseFloat(z.games.rating)*10;default:return 0}};return _.jsxs("div",{className:"compare-page",children:[_.jsxs("div",{className:"compare-header",children:[_.jsx("h1",{className:"compare-title text-3xl font-bold mb-6",children:"⚖️ Comparar Jogadores"}),_.jsx("p",{className:"compare-description text-muted mb-8",children:"Selecione dois jogadores para comparar suas estatísticas e performance"})]}),y&&_.jsx("div",{className:"search-overlay",children:_.jsxs("div",{className:"search-modal",children:[_.jsxs("div",{className:"search-modal-header",children:[_.jsxs("h3",{className:"search-modal-title",children:["Selecionar Jogador ",y]}),_.jsx("button",{className:"close-btn",onClick:()=>p(null),children:"✕"})]}),_.jsx("div",{className:"search-modal-content",children:_.jsx(qT,{onSearch:()=>{},onPlayerSelect:T})})]})}),_.jsxs("div",{className:"compare-content",children:[_.jsxs("div",{className:"players-selection",children:[_.jsxs("div",{className:"player-slot",children:[_.jsxs("div",{className:"slot-header",children:[_.jsx("h3",{className:"slot-title",children:"Jogador 1"}),s&&_.jsx("button",{className:"clear-btn btn btn-ghost btn-sm",onClick:()=>w(1),children:"✕"})]}),s?_.jsxs("div",{className:"selected-player",children:[_.jsx("div",{className:"player-photo-placeholder",children:_.jsx("span",{className:"player-photo-initial",children:s.name.charAt(0).toUpperCase()})}),_.jsx("h4",{className:"player-name",children:s.name}),_.jsxs("p",{className:"player-info text-muted",children:[s.nationality," • ",s.age," anos"]}),_.jsxs("p",{className:"player-physical text-muted",children:[s.height," • ",s.weight]})]}):_.jsx("div",{className:"empty-slot",onClick:()=>p(1),children:_.jsxs("div",{className:"empty-slot-content",children:[_.jsx("div",{className:"empty-icon",children:"👤"}),_.jsx("p",{children:"Clique para selecionar um jogador"})]})})]}),_.jsx("div",{className:"vs-divider",children:_.jsx("span",{className:"vs-text",children:"VS"})}),_.jsxs("div",{className:"player-slot",children:[_.jsxs("div",{className:"slot-header",children:[_.jsx("h3",{className:"slot-title",children:"Jogador 2"}),n&&_.jsx("button",{className:"clear-btn btn btn-ghost btn-sm",onClick:()=>w(2),children:"✕"})]}),n?_.jsxs("div",{className:"selected-player",children:[_.jsx("div",{className:"player-photo-placeholder",children:_.jsx("span",{className:"player-photo-initial",children:n.name.charAt(0).toUpperCase()})}),_.jsx("h4",{className:"player-name",children:n.name}),_.jsxs("p",{className:"player-info text-muted",children:[n.nationality," • ",n.age," anos"]}),_.jsxs("p",{className:"player-physical text-muted",children:[n.height," • ",n.weight]})]}):_.jsx("div",{className:"empty-slot",onClick:()=>p(2),children:_.jsxs("div",{className:"empty-slot-content",children:[_.jsx("div",{className:"empty-icon",children:"👤"}),_.jsx("p",{children:"Clique para selecionar um jogador"})]})})]})]}),s&&n&&_.jsxs("div",{className:"comparison-results",children:[_.jsx("h3",{className:"results-title",children:"📊 Comparação de Estatísticas"}),_.jsxs("div",{className:"stats-comparison",children:[_.jsxs("div",{className:"stat-row",children:[_.jsx("div",{className:"stat-label",children:"Gols"}),_.jsx("div",{className:"stat-value player1",children:b(o,"goals")}),_.jsx("div",{className:"stat-value player2",children:b(f,"goals")})]}),_.jsxs("div",{className:"stat-row",children:[_.jsx("div",{className:"stat-label",children:"Assistências"}),_.jsx("div",{className:"stat-value player1",children:b(o,"assists")}),_.jsx("div",{className:"stat-value player2",children:b(f,"assists")})]}),_.jsxs("div",{className:"stat-row",children:[_.jsx("div",{className:"stat-label",children:"Jogos"}),_.jsx("div",{className:"stat-value player1",children:b(o,"matches")}),_.jsx("div",{className:"stat-value player2",children:b(f,"matches")})]}),_.jsxs("div",{className:"stat-row",children:[_.jsx("div",{className:"stat-label",children:"Avaliação"}),_.jsx("div",{className:"stat-value player1",children:(b(o,"rating")/10).toFixed(1)}),_.jsx("div",{className:"stat-value player2",children:(b(f,"rating")/10).toFixed(1)})]})]})]})]})]})},uC=()=>{const{user:s}=oo(),[e,n]=oe.useState("search"),[r,o]=oe.useState(null),[c,f]=oe.useState(!1),m=T=>{o(T),n("player-detail")},y=T=>{n(T),o(null)},p=()=>{n("search"),o(null)};return s?_.jsxs("div",{className:"app-container",children:[_.jsx($N,{isOpen:c,onClose:()=>f(!1),onNavigate:y,currentPage:e}),_.jsxs("div",{className:"app-main",children:[_.jsx(XN,{onMenuToggle:()=>f(!0)}),_.jsxs("main",{className:"main-content container",children:[e==="search"&&_.jsx(nC,{onPlayerSelect:m}),e==="player-detail"&&r&&_.jsx(iC,{playerId:r.id,onBack:p}),e==="favorites"&&_.jsx(rC,{}),e==="rankings"&&_.jsx(aC,{}),e==="top-players"&&_.jsx(oC,{onPlayerSelect:()=>{}}),e==="compare"&&_.jsx(lC,{})]})]})]}):_.jsx(JN,{onNavigate:y})};function cC(){return _.jsx(KN,{children:_.jsx(QN,{children:_.jsx(uC,{})})})}AA.createRoot(document.getElementById("root")).render(_.jsx(oe.StrictMode,{children:_.jsx(cC,{})}));
