(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var Od={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function mA(){if(x_)return _l;x_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:c}}return _l.Fragment=e,_l.jsx=n,_l.jsxs=n,_l}var D_;function gA(){return D_||(D_=1,Od.exports=mA()),Od.exports}var _=gA(),Md={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function pA(){if(O_)return be;O_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function b(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,te={};function Z(x,J,ie){this.props=x,this.context=J,this.refs=te,this.updater=ie||L}Z.prototype.isReactComponent={},Z.prototype.setState=function(x,J){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,J,"setState")},Z.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Ee(){}Ee.prototype=Z.prototype;function _e(x,J,ie){this.props=x,this.context=J,this.refs=te,this.updater=ie||L}var fe=_e.prototype=new Ee;fe.constructor=_e,B(fe,Z.prototype),fe.isPureReactComponent=!0;var He=Array.isArray,Se={H:null,A:null,T:null,S:null,V:null},ze=Object.prototype.hasOwnProperty;function V(x,J,ie,W,he,Re){return ie=Re.ref,{$$typeof:s,type:x,key:J,ref:ie!==void 0?ie:null,props:Re}}function R(x,J){return V(x.type,J,void 0,void 0,void 0,x.props)}function C(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function O(x){var J={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ie){return J[ie]})}var M=/\/+/g;function P(x,J){return typeof x=="object"&&x!==null&&x.key!=null?O(""+x.key):J.toString(36)}function N(){}function Pt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(N,N):(x.status="pending",x.then(function(J){x.status==="pending"&&(x.status="fulfilled",x.value=J)},function(J){x.status==="pending"&&(x.status="rejected",x.reason=J)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function ot(x,J,ie,W,he){var Re=typeof x;(Re==="undefined"||Re==="boolean")&&(x=null);var ve=!1;if(x===null)ve=!0;else switch(Re){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(x.$$typeof){case s:case e:ve=!0;break;case T:return ve=x._init,ot(ve(x._payload),J,ie,W,he)}}if(ve)return he=he(x),ve=W===""?"."+P(x,0):W,He(he)?(ie="",ve!=null&&(ie=ve.replace(M,"$&/")+"/"),ot(he,J,ie,"",function(Gn){return Gn})):he!=null&&(C(he)&&(he=R(he,ie+(he.key==null||x&&x.key===he.key?"":(""+he.key).replace(M,"$&/")+"/")+ve)),J.push(he)),1;ve=0;var Ct=W===""?".":W+":";if(He(x))for(var We=0;We<x.length;We++)W=x[We],Re=Ct+P(W,We),ve+=ot(W,J,ie,Re,he);else if(We=b(x),typeof We=="function")for(x=We.call(x),We=0;!(W=x.next()).done;)W=W.value,Re=Ct+P(W,We++),ve+=ot(W,J,ie,Re,he);else if(Re==="object"){if(typeof x.then=="function")return ot(Pt(x),J,ie,W,he);throw J=String(x),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ve}function G(x,J,ie){if(x==null)return x;var W=[],he=0;return ot(x,W,"","",function(Re){return J.call(ie,Re,he++)}),W}function ne(x){if(x._status===-1){var J=x._result;J=J(),J.then(function(ie){(x._status===0||x._status===-1)&&(x._status=1,x._result=ie)},function(ie){(x._status===0||x._status===-1)&&(x._status=2,x._result=ie)}),x._status===-1&&(x._status=0,x._result=J)}if(x._status===1)return x._result.default;throw x._result}var ue=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ue(){}return be.Children={map:G,forEach:function(x,J,ie){G(x,function(){J.apply(this,arguments)},ie)},count:function(x){var J=0;return G(x,function(){J++}),J},toArray:function(x){return G(x,function(J){return J})||[]},only:function(x){if(!C(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},be.Component=Z,be.Fragment=n,be.Profiler=o,be.PureComponent=_e,be.StrictMode=a,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Se,be.__COMPILER_RUNTIME={__proto__:null,c:function(x){return Se.H.useMemoCache(x)}},be.cache=function(x){return function(){return x.apply(null,arguments)}},be.cloneElement=function(x,J,ie){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var W=B({},x.props),he=x.key,Re=void 0;if(J!=null)for(ve in J.ref!==void 0&&(Re=void 0),J.key!==void 0&&(he=""+J.key),J)!ze.call(J,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&J.ref===void 0||(W[ve]=J[ve]);var ve=arguments.length-2;if(ve===1)W.children=ie;else if(1<ve){for(var Ct=Array(ve),We=0;We<ve;We++)Ct[We]=arguments[We+2];W.children=Ct}return V(x.type,he,void 0,void 0,Re,W)},be.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},be.createElement=function(x,J,ie){var W,he={},Re=null;if(J!=null)for(W in J.key!==void 0&&(Re=""+J.key),J)ze.call(J,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(he[W]=J[W]);var ve=arguments.length-2;if(ve===1)he.children=ie;else if(1<ve){for(var Ct=Array(ve),We=0;We<ve;We++)Ct[We]=arguments[We+2];he.children=Ct}if(x&&x.defaultProps)for(W in ve=x.defaultProps,ve)he[W]===void 0&&(he[W]=ve[W]);return V(x,Re,void 0,void 0,null,he)},be.createRef=function(){return{current:null}},be.forwardRef=function(x){return{$$typeof:m,render:x}},be.isValidElement=C,be.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:ne}},be.memo=function(x,J){return{$$typeof:p,type:x,compare:J===void 0?null:J}},be.startTransition=function(x){var J=Se.T,ie={};Se.T=ie;try{var W=x(),he=Se.S;he!==null&&he(ie,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ue,ue)}catch(Re){ue(Re)}finally{Se.T=J}},be.unstable_useCacheRefresh=function(){return Se.H.useCacheRefresh()},be.use=function(x){return Se.H.use(x)},be.useActionState=function(x,J,ie){return Se.H.useActionState(x,J,ie)},be.useCallback=function(x,J){return Se.H.useCallback(x,J)},be.useContext=function(x){return Se.H.useContext(x)},be.useDebugValue=function(){},be.useDeferredValue=function(x,J){return Se.H.useDeferredValue(x,J)},be.useEffect=function(x,J,ie){var W=Se.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(x,J)},be.useId=function(){return Se.H.useId()},be.useImperativeHandle=function(x,J,ie){return Se.H.useImperativeHandle(x,J,ie)},be.useInsertionEffect=function(x,J){return Se.H.useInsertionEffect(x,J)},be.useLayoutEffect=function(x,J){return Se.H.useLayoutEffect(x,J)},be.useMemo=function(x,J){return Se.H.useMemo(x,J)},be.useOptimistic=function(x,J){return Se.H.useOptimistic(x,J)},be.useReducer=function(x,J,ie){return Se.H.useReducer(x,J,ie)},be.useRef=function(x){return Se.H.useRef(x)},be.useState=function(x){return Se.H.useState(x)},be.useSyncExternalStore=function(x,J,ie){return Se.H.useSyncExternalStore(x,J,ie)},be.useTransition=function(){return Se.H.useTransition()},be.version="19.1.0",be}var M_;function wm(){return M_||(M_=1,Md.exports=pA()),Md.exports}var oe=wm(),Vd={exports:{}},vl={},kd={exports:{}},Pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function yA(){return V_||(V_=1,function(s){function e(G,ne){var ue=G.length;G.push(ne);e:for(;0<ue;){var Ue=ue-1>>>1,x=G[Ue];if(0<o(x,ne))G[Ue]=ne,G[ue]=x,ue=Ue;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ne=G[0],ue=G.pop();if(ue!==ne){G[0]=ue;e:for(var Ue=0,x=G.length,J=x>>>1;Ue<J;){var ie=2*(Ue+1)-1,W=G[ie],he=ie+1,Re=G[he];if(0>o(W,ue))he<x&&0>o(Re,W)?(G[Ue]=Re,G[he]=ue,Ue=he):(G[Ue]=W,G[ie]=ue,Ue=ie);else if(he<x&&0>o(Re,ue))G[Ue]=Re,G[he]=ue,Ue=he;else break e}}return ne}function o(G,ne){var ue=G.sortIndex-ne.sortIndex;return ue!==0?ue:G.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],p=[],T=1,w=null,b=3,L=!1,B=!1,te=!1,Z=!1,Ee=typeof setTimeout=="function"?setTimeout:null,_e=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function He(G){for(var ne=n(p);ne!==null;){if(ne.callback===null)a(p);else if(ne.startTime<=G)a(p),ne.sortIndex=ne.expirationTime,e(y,ne);else break;ne=n(p)}}function Se(G){if(te=!1,He(G),!B)if(n(y)!==null)B=!0,ze||(ze=!0,P());else{var ne=n(p);ne!==null&&ot(Se,ne.startTime-G)}}var ze=!1,V=-1,R=5,C=-1;function O(){return Z?!0:!(s.unstable_now()-C<R)}function M(){if(Z=!1,ze){var G=s.unstable_now();C=G;var ne=!0;try{e:{B=!1,te&&(te=!1,_e(V),V=-1),L=!0;var ue=b;try{t:{for(He(G),w=n(y);w!==null&&!(w.expirationTime>G&&O());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,b=w.priorityLevel;var x=Ue(w.expirationTime<=G);if(G=s.unstable_now(),typeof x=="function"){w.callback=x,He(G),ne=!0;break t}w===n(y)&&a(y),He(G)}else a(y);w=n(y)}if(w!==null)ne=!0;else{var J=n(p);J!==null&&ot(Se,J.startTime-G),ne=!1}}break e}finally{w=null,b=ue,L=!1}ne=void 0}}finally{ne?P():ze=!1}}}var P;if(typeof fe=="function")P=function(){fe(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Pt=N.port2;N.port1.onmessage=M,P=function(){Pt.postMessage(null)}}else P=function(){Ee(M,0)};function ot(G,ne){V=Ee(function(){G(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(G){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var ue=b;b=ne;try{return G()}finally{b=ue}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,ne){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=b;b=G;try{return ne()}finally{b=ue}},s.unstable_scheduleCallback=function(G,ne,ue){var Ue=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ue+ue:Ue):ue=Ue,G){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ue+x,G={id:T++,callback:ne,priorityLevel:G,startTime:ue,expirationTime:x,sortIndex:-1},ue>Ue?(G.sortIndex=ue,e(p,G),n(y)===null&&G===n(p)&&(te?(_e(V),V=-1):te=!0,ot(Se,ue-Ue))):(G.sortIndex=x,e(y,G),B||L||(B=!0,ze||(ze=!0,P()))),G},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(G){var ne=b;return function(){var ue=b;b=ne;try{return G.apply(this,arguments)}finally{b=ue}}}}(Pd)),Pd}var k_;function _A(){return k_||(k_=1,kd.exports=yA()),kd.exports}var jd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function vA(){if(P_)return Yt;P_=1;var s=wm();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:p,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,T)},Yt.flushSync=function(y){var p=f.T,T=a.p;try{if(f.T=null,a.p=2,y)return y()}finally{f.T=p,a.p=T,a.d.f()}},Yt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},Yt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Yt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,L=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:b,fetchPriority:L}):T==="script"&&a.d.X(y,{crossOrigin:w,integrity:b,fetchPriority:L,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=m(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},Yt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,w=m(T,p.crossOrigin);a.d.L(y,T,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yt.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=m(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},Yt.requestFormReset=function(y){a.d.r(y)},Yt.unstable_batchedUpdates=function(y,p){return y(p)},Yt.useFormState=function(y,p,T){return f.H.useFormState(y,p,T)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.1.0",Yt}var j_;function EA(){if(j_)return jd.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=vA(),jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function TA(){if(U_)return vl;U_=1;var s=_A(),e=wm(),n=EA();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,l=i;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=d;else{for(var E=!1,A=h.child;A;){if(A===r){E=!0,r=h,l=d;break}if(A===l){E=!0,l=h,r=d;break}A=A.sibling}if(!E){for(A=d.child;A;){if(A===r){E=!0,r=d,l=h;break}if(A===l){E=!0,l=d,r=h;break}A=A.sibling}if(!E)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Ee=Symbol.for("react.provider"),_e=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),He=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),ze=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Pt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case Z:return"Profiler";case te:return"StrictMode";case Se:return"Suspense";case ze:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case fe:return(t.displayName||"Context")+".Provider";case _e:return(t._context.displayName||"Context")+".Consumer";case He:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:Pt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Pt(t(i))}catch{}}return null}var ot=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ue=[],x=-1;function J(t){return{current:t}}function ie(t){0>x||(t.current=Ue[x],Ue[x]=null,x--)}function W(t,i){x++,Ue[x]=t.current,t.current=i}var he=J(null),Re=J(null),ve=J(null),Ct=J(null);function We(t,i){switch(W(ve,i),W(Re,t),W(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?s_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=s_(i),t=a_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(he),W(he,t)}function Gn(){ie(he),ie(Re),ie(ve)}function Zi(t){t.memoizedState!==null&&W(Ct,t);var i=he.current,r=a_(i,t.type);i!==r&&(W(Re,t),W(he,r))}function yi(t){Re.current===t&&(ie(he),ie(Re)),Ct.current===t&&(ie(Ct),dl._currentValue=ue)}var Ys=Object.prototype.hasOwnProperty,Xs=s.unstable_scheduleCallback,$s=s.unstable_cancelCallback,uo=s.unstable_shouldYield,nu=s.unstable_requestPaint,En=s.unstable_now,Dh=s.unstable_getCurrentPriorityLevel,co=s.unstable_ImmediatePriority,Fa=s.unstable_UserBlockingPriority,Js=s.unstable_NormalPriority,Oh=s.unstable_LowPriority,Ga=s.unstable_IdlePriority,ho=s.log,iu=s.unstable_setDisableYieldValue,lt=null,Fe=null;function cn(t){if(typeof ho=="function"&&iu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(lt,t)}catch{}}var Kt=Math.clz32?Math.clz32:Zs,su=Math.log,Mh=Math.LN2;function Zs(t){return t>>>=0,t===0?32:31-(su(t)/Mh|0)|0}var Ws=256,ea=4194304;function kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ka(t,i,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~d,l!==0?h=kn(l):(E&=A,E!==0?h=kn(E):r||(r=A&~t,r!==0&&(h=kn(r))))):(A=l&~d,A!==0?h=kn(A):E!==0?h=kn(E):r||(r=l&~t,r!==0&&(h=kn(r)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,r=i&-i,d>=r||d===32&&(r&4194048)!==0)?i:h}function ta(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mo(){var t=Ws;return Ws<<=1,(Ws&4194048)===0&&(Ws=256),t}function go(){var t=ea;return ea<<=1,(ea&62914560)===0&&(ea=4194304),t}function _i(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function vi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function po(t,i,r,l,h,d){var E=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(r=E&~r;0<r;){var K=31-Kt(r),X=1<<K;A[K]=0,I[K]=-1;var q=z[K];if(q!==null)for(z[K]=null,K=0;K<q.length;K++){var H=q[K];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&Kn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Kn(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function yo(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var l=31-Kt(r),h=1<<l;h&i|t[l]&i&&(t[l]|=i),r&=~h}}function Wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function es(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:b_(t.type))}function au(t,i){var r=ne.p;try{return ne.p=t,i()}finally{ne.p=r}}var it=Math.random().toString(36).slice(2),St="__reactFiber$"+it,pt="__reactProps$"+it,Tn="__reactContainer$"+it,_o="__reactEvents$"+it,Vh="__reactListeners$"+it,ts="__reactHandles$"+it,ru="__reactResources$"+it,na="__reactMarker$"+it;function ns(t){delete t[St],delete t[pt],delete t[_o],delete t[Vh],delete t[ts]}function Ei(t){var i=t[St];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Tn]||r[St]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=u_(t);t!==null;){if(r=t[St])return r;t=u_(t)}return i}t=r,r=t.parentNode}return null}function Qn(t){if(t=t[St]||t[Tn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Wt(t){var i=t[ru];return i||(i=t[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[na]=!0}var vo=new Set,Ya={};function Pn(t,i){Ti(t,i),Ti(t+"Capture",i)}function Ti(t,i){for(Ya[t]=i,t=0;t<i.length;t++)vo.add(i[t])}var ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lu={},ia={};function uu(t){return Ys.call(ia,t)?!0:Ys.call(lu,t)?!1:ou.test(t)?ia[t]=!0:(lu[t]=!0,!1)}function is(t,i,r){if(uu(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Xn(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function jt(t,i,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+l)}}var sa,cu;function Ai(t){if(sa===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);sa=i&&i[1]||"",cu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+t+cu}var Xa=!1;function $a(t,i){if(!t||Xa)return"";Xa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var q=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){q=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){q=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],A=d[1];if(E&&A){var I=E.split(`
`),z=A.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Xa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ai(r):""}function Eo(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return $a(t.type,!1);case 11:return $a(t.type.render,!1);case 1:return $a(t.type,!0);case 31:return Ai("Activity");default:return""}}function Ja(t){try{var i="";do i+=Eo(t),t=t.return;while(t);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function en(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function To(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kh(t){var i=To(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,d=r.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Za(t){t._valueTracker||(t._valueTracker=kh(t))}function Ao(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),l="";return t&&(l=To(t)?t.checked?"true":"false":t.value),t=l,t!==r?(i.setValue(t),!0):!1}function aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ph=/[\n"\\]/g;function yt(t){return t.replace(Ph,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hn(t,i,r,l,h,d,E,A){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+en(i)):t.value!==""+en(i)&&(t.value=""+en(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?ss(t,E,en(i)):r!=null?ss(t,E,en(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+en(A):t.removeAttribute("name")}function ra(t,i,r,l,h,d,E,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;r=r!=null?""+en(r):"",i=i!=null?""+en(i):r,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function ss(t,i,r){i==="number"&&aa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Si(t,i,r,l){if(t=t.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=i.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+en(r),i=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ye(t,i,r){if(i!=null&&(i=""+en(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+en(r):""}function oa(t,i,r,l){if(i==null){if(l!=null){if(r!=null)throw Error(a(92));if(ot(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),i=r}r=en(i),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var la=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hu(t,i,r){var l=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,r):typeof r!="number"||r===0||la.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function So(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&r[h]!==l&&hu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&hu(t,d,i[d])}function bo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wa(t){return Uh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var bi=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wi=null,Ri=null;function wo(t){var i=Qn(t);if(i&&(t=i.stateNode)){var r=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(hn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+yt(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var l=r[i];if(l!==t&&l.form===t.form){var h=l[pt]||null;if(!h)throw Error(a(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)l=r[i],l.form===t.form&&Ao(l)}break e;case"textarea":Ye(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Si(t,!!r.multiple,i,!1)}}}var $n=!1;function fu(t,i,r){if($n)return t(i,r);$n=!0;try{var l=t(i);return l}finally{if($n=!1,(wi!==null||Ri!==null)&&(ac(),wi&&(i=wi,t=Ri,Ri=wi=null,wo(i),t)))for(i=0;i<t.length;i++)wo(t[i])}}function ua(t,i){var r=t.stateNode;if(r===null)return null;var l=r[pt]||null;if(l===null)return null;r=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(jn)try{var ca={};Object.defineProperty(ca,"passive",{get:function(){bn=!0}}),window.addEventListener("test",ca,ca),window.removeEventListener("test",ca,ca)}catch{bn=!1}var Jn=null,as=null,Ii=null;function Ro(){if(Ii)return Ii;var t,i=as,r=i.length,l,h="value"in Jn?Jn.value:Jn.textContent,d=h.length;for(t=0;t<r&&i[t]===h[t];t++);var E=r-t;for(l=1;l<=E&&i[r-l]===h[d-l];l++);return Ii=h.slice(t,1<l?1-l:void 0)}function Zn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Io(){return!1}function xt(t){function i(r,l,h,d,E){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Io,this.isPropagationStopped=Io,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Be={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=xt(Be),ha=T({},Be,{view:0,detail:0}),du=xt(ha),tr,nr,ei,fa=T({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(tr=t.screenX-ei.screenX,nr=t.screenY-ei.screenY):nr=tr=0,ei=t),tr)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),wn=xt(fa),mu=T({},fa,{dataTransfer:0}),Lh=xt(mu),da=T({},ha,{relatedTarget:0}),ir=xt(da),No=T({},Be,{animationName:0,elapsedTime:0,pseudoElement:0}),sr=xt(No),gu=T({},Be,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ar=xt(gu),zh=T({},Be,{data:0}),Co=xt(zh),ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=yu[t])?!!i[t]:!1}function ga(){return xo}var _u=T({},ha,{key:function(t){if(t.key){var i=ma[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(t){return t.type==="keypress"?Zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rr=xt(_u),vu=T({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Do=xt(vu),Ni=T({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),Eu=xt(Ni),Tu=T({},Be,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=xt(Tu),Su=T({},fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),or=xt(Su),tn=T({},Be,{newState:0,oldState:0}),bu=xt(tn),wu=[9,13,27,32],ti=jn&&"CompositionEvent"in window,u=null;jn&&"documentMode"in document&&(u=document.documentMode);var g=jn&&"TextEvent"in window&&!u,v=jn&&(!ti||u&&8<u&&11>=u),S=" ",j=!1;function F(t,i){switch(t){case"keyup":return wu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ee(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function bt(t,i){switch(t){case"compositionend":return ee(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return t=i.data,t===S&&j?null:t;default:return null}}function Ve(t,i){if(Me)return t==="compositionend"||!ti&&F(t,i)?(t=Ro(),Ii=as=Jn=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Ci(t,i,r,l){wi?Ri?Ri.push(l):Ri=[l]:wi=l,i=hc(i,"onChange"),0<i.length&&(r=new er("onChange","change",null,r,l),t.push({event:r,listeners:i}))}var Ut=null,ni=null;function Oo(t){Wy(t,0)}function Ru(t){var i=Yn(t);if(Ao(i))return t}function Eg(t,i){if(t==="change")return i}var Tg=!1;if(jn){var Bh;if(jn){var qh="oninput"in document;if(!qh){var Ag=document.createElement("div");Ag.setAttribute("oninput","return;"),qh=typeof Ag.oninput=="function"}Bh=qh}else Bh=!1;Tg=Bh&&(!document.documentMode||9<document.documentMode)}function Sg(){Ut&&(Ut.detachEvent("onpropertychange",bg),ni=Ut=null)}function bg(t){if(t.propertyName==="value"&&Ru(ni)){var i=[];Ci(i,ni,t,Sn(t)),fu(Oo,i)}}function FT(t,i,r){t==="focusin"?(Sg(),Ut=i,ni=r,Ut.attachEvent("onpropertychange",bg)):t==="focusout"&&Sg()}function GT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(ni)}function KT(t,i){if(t==="click")return Ru(i)}function QT(t,i){if(t==="input"||t==="change")return Ru(i)}function YT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var fn=typeof Object.is=="function"?Object.is:YT;function Mo(t,i){if(fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),l=Object.keys(i);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Ys.call(i,h)||!fn(t[h],i[h]))return!1}return!0}function wg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rg(t,i){var r=wg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=i&&l>=i)return{node:r,offset:i-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wg(r)}}function Ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=aa(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=aa(t.document)}return i}function Hh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var XT=jn&&"documentMode"in document&&11>=document.documentMode,lr=null,Fh=null,Vo=null,Gh=!1;function Cg(t,i,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||lr==null||lr!==aa(l)||(l=lr,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vo&&Mo(Vo,l)||(Vo=l,l=hc(Fh,"onSelect"),0<l.length&&(i=new er("onSelect","select",null,i,r),t.push({event:i,listeners:l}),i.target=lr)))}function pa(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var ur={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},Kh={},xg={};jn&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function ya(t){if(Kh[t])return Kh[t];if(!ur[t])return t;var i=ur[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in xg)return Kh[t]=i[r];return t}var Dg=ya("animationend"),Og=ya("animationiteration"),Mg=ya("animationstart"),$T=ya("transitionrun"),JT=ya("transitionstart"),ZT=ya("transitioncancel"),Vg=ya("transitionend"),kg=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Un(t,i){kg.set(t,i),Pn(i,[t])}var Pg=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var r=Pg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Ja(i)},Pg.set(t,i),i)}return{value:t,source:i,stack:Ja(i)}}var In=[],cr=0,Yh=0;function Iu(){for(var t=cr,i=Yh=cr=0;i<t;){var r=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&jg(r,h,d)}}function Nu(t,i,r,l){In[cr++]=t,In[cr++]=i,In[cr++]=r,In[cr++]=l,Yh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xh(t,i,r,l){return Nu(t,i,r,l),Cu(t)}function hr(t,i){return Nu(t,null,null,i),Cu(t)}function jg(t,i,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Kt(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=r|536870912),d):null}function Cu(t){if(50<al)throw al=0,nd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var fr={};function WT(t,i,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,i,r,l){return new WT(t,i,r,l)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xi(t,i){var r=t.alternate;return r===null?(r=dn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ug(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function xu(t,i,r,l,h,d){var E=0;if(l=t,typeof t=="function")$h(t)&&(E=1);else if(typeof t=="string")E=tA(t,r,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=dn(31,r,i,h),t.elementType=C,t.lanes=d,t;case B:return _a(r.children,h,d,i);case te:E=8,h|=24;break;case Z:return t=dn(12,r,i,h|2),t.elementType=Z,t.lanes=d,t;case Se:return t=dn(13,r,i,h),t.elementType=Se,t.lanes=d,t;case ze:return t=dn(19,r,i,h),t.elementType=ze,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:case fe:E=10;break e;case _e:E=9;break e;case He:E=11;break e;case V:E=14;break e;case R:E=16,l=null;break e}E=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=dn(E,r,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function _a(t,i,r,l){return t=dn(7,t,l,i),t.lanes=r,t}function Jh(t,i,r){return t=dn(6,t,null,i),t.lanes=r,t}function Zh(t,i,r){return i=dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var dr=[],mr=0,Du=null,Ou=0,Nn=[],Cn=0,va=null,Di=1,Oi="";function Ea(t,i){dr[mr++]=Ou,dr[mr++]=Du,Du=t,Ou=i}function Lg(t,i,r){Nn[Cn++]=Di,Nn[Cn++]=Oi,Nn[Cn++]=va,va=t;var l=Di;t=Oi;var h=32-Kt(l)-1;l&=~(1<<h),r+=1;var d=32-Kt(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Di=1<<32-Kt(i)+h|r<<h|l,Oi=d+t}else Di=1<<d|r<<h|l,Oi=t}function Wh(t){t.return!==null&&(Ea(t,1),Lg(t,1,0))}function ef(t){for(;t===Du;)Du=dr[--mr],dr[mr]=null,Ou=dr[--mr],dr[mr]=null;for(;t===va;)va=Nn[--Cn],Nn[Cn]=null,Oi=Nn[--Cn],Nn[Cn]=null,Di=Nn[--Cn],Nn[Cn]=null}var nn=null,ut=null,Le=!1,Ta=null,ii=!1,tf=Error(a(519));function Aa(t){var i=Error(a(418,""));throw jo(Rn(i,t)),tf}function zg(t){var i=t.stateNode,r=t.type,l=t.memoizedProps;switch(i[St]=t,i[pt]=l,r){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(r=0;r<ol.length;r++)Ce(ol[r],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":Ce("invalid",i),ra(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Za(i);break;case"select":Ce("invalid",i);break;case"textarea":Ce("invalid",i),oa(i,l.value,l.defaultValue,l.children),Za(i)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||l.suppressHydrationWarning===!0||i_(i.textContent,r)?(l.popover!=null&&(Ce("beforetoggle",i),Ce("toggle",i)),l.onScroll!=null&&Ce("scroll",i),l.onScrollEnd!=null&&Ce("scrollend",i),l.onClick!=null&&(i.onclick=fc),i=!0):i=!1,i||Aa(t)}function Bg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:nn=nn.return}}function ko(t){if(t!==nn)return!1;if(!Le)return Bg(t),Le=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||_d(t.type,t.memoizedProps)),r=!r),r&&ut&&Aa(t),Bg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(i===0){ut=zn(t.nextSibling);break e}i--}else r!=="$"&&r!=="$!"&&r!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Ts(t.type)?(t=Ad,Ad=null,ut=t):ut=i):ut=nn?zn(t.stateNode.nextSibling):null;return!0}function Po(){ut=nn=null,Le=!1}function qg(){var t=Ta;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),Ta=null),t}function jo(t){Ta===null?Ta=[t]:Ta.push(t)}var nf=J(null),Sa=null,Mi=null;function rs(t,i,r){W(nf,i._currentValue),i._currentValue=r}function Vi(t){t._currentValue=nf.current,ie(nf)}function sf(t,i,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===r)break;t=t.return}}function af(t,i,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var I=0;I<i.length;I++)if(A.context===i[I]){d.lanes|=r,A=d.alternate,A!==null&&(A.lanes|=r),sf(d.return,r,t),l||(E=null);break e}d=A.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(a(341));E.lanes|=r,d=E.alternate,d!==null&&(d.lanes|=r),sf(E,r,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Uo(t,i,r,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var A=h.type;fn(h.pendingProps.value,E.value)||(t!==null?t.push(A):t=[A])}}else if(h===Ct.current){if(E=h.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(dl):t=[dl])}h=h.return}t!==null&&af(i,t,r,l),i.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ba(t){Sa=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Hg(Sa,t)}function Vu(t,i){return Sa===null&&ba(t),Hg(t,i)}function Hg(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Mi===null){if(t===null)throw Error(a(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return r}var e1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},t1=s.unstable_scheduleCallback,n1=s.unstable_NormalPriority,Rt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new e1,data:new Map,refCount:0}}function Lo(t){t.refCount--,t.refCount===0&&t1(n1,function(){t.controller.abort()})}var zo=null,of=0,gr=0,pr=null;function i1(t,i){if(zo===null){var r=zo=[];of=0,gr=ud(),pr={status:"pending",value:void 0,then:function(l){r.push(l)}}}return of++,i.then(Fg,Fg),i}function Fg(){if(--of===0&&zo!==null){pr!==null&&(pr.status="fulfilled");var t=zo;zo=null,gr=0,pr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function s1(t,i){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Gg=G.S;G.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&i1(t,i),Gg!==null&&Gg(t,i)};var wa=J(null);function lf(){var t=wa.current;return t!==null?t:et.pooledCache}function ku(t,i){i===null?W(wa,wa.current):W(wa,i.pool)}function Kg(){var t=lf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Bo=Error(a(460)),Qg=Error(a(474)),Pu=Error(a(542)),uf={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ju(){}function Xg(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(ju,ju),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t;default:if(typeof i.status=="string")i.then(ju,ju);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Jg(t),t}throw qo=i,Bo}}var qo=null;function $g(){if(qo===null)throw Error(a(459));var t=qo;return qo=null,t}function Jg(t){if(t===Bo||t===Pu)throw Error(a(483))}var os=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function us(t,i,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Cu(t),jg(t,null,r),i}return Nu(t,l,i,r),Cu(t)}function Ho(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,yo(t,r)}}function ff(t,i){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var E={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,r=r.next}while(r!==null);d===null?h=d=i:d=d.next=i}else h=d=i;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var df=!1;function Fo(){if(df){var t=pr;if(t!==null)throw t}}function Go(t,i,r,l){df=!1;var h=t.updateQueue;os=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var I=A,z=I.next;I.next=null,E===null?d=z:E.next=z,E=I;var K=t.alternate;K!==null&&(K=K.updateQueue,A=K.lastBaseUpdate,A!==E&&(A===null?K.firstBaseUpdate=z:A.next=z,K.lastBaseUpdate=I))}if(d!==null){var X=h.baseState;E=0,K=z=I=null,A=d;do{var q=A.lane&-536870913,H=q!==A.lane;if(H?(ke&q)===q:(l&q)===q){q!==0&&q===gr&&(df=!0),K!==null&&(K=K.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ye=t,de=A;q=i;var Je=r;switch(de.tag){case 1:if(ye=de.payload,typeof ye=="function"){X=ye.call(Je,X,q);break e}X=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=de.payload,q=typeof ye=="function"?ye.call(Je,X,q):ye,q==null)break e;X=T({},X,q);break e;case 2:os=!0}}q=A.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},K===null?(z=K=H,I=X):K=K.next=H,E|=q;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;H=A,A=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),ys|=E,t.lanes=E,t.memoizedState=X}}function Zg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Wg(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Zg(r[t],i)}var yr=J(null),Uu=J(0);function ep(t,i){t=Bi,W(Uu,t),W(yr,i),Bi=t|i.baseLanes}function mf(){W(Uu,Bi),W(yr,yr.current)}function gf(){Bi=Uu.current,ie(yr),ie(Uu)}var cs=0,we=null,Xe=null,_t=null,Lu=!1,_r=!1,Ra=!1,zu=0,Ko=0,vr=null,a1=0;function ft(){throw Error(a(321))}function pf(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!fn(t[r],i[r]))return!1;return!0}function yf(t,i,r,l,h,d){return cs=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?jp:Up,Ra=!1,d=r(l,h),Ra=!1,_r&&(d=np(i,r,l,h)),tp(t),d}function tp(t){G.H=Ku;var i=Xe!==null&&Xe.next!==null;if(cs=0,_t=Xe=we=null,Lu=!1,Ko=0,vr=null,i)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&Mu(t)&&(Ot=!0))}function np(t,i,r,l){we=t;var h=0;do{if(_r&&(vr=null),Ko=0,_r=!1,25<=h)throw Error(a(301));if(h+=1,_t=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=f1,d=i(r,l)}while(_r);return d}function r1(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?Qo(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(we.flags|=1024),i}function _f(){var t=zu!==0;return zu=0,t}function vf(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function Ef(t){if(Lu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Lu=!1}cs=0,_t=Xe=we=null,_r=!1,Ko=zu=0,vr=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?we.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Xe===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=_t===null?we.memoizedState:_t.next;if(i!==null)_t=i,Xe=t;else{if(t===null)throw we.alternate===null?Error(a(467)):Error(a(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?we.memoizedState=_t=t:_t=_t.next=t}return _t}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(t){var i=Ko;return Ko+=1,vr===null&&(vr=[]),t=Xg(vr,t,i),i=we,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?jp:Up),t}function Bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Qo(t);if(t.$$typeof===fe)return Qt(t)}throw Error(a(438,String(t)))}function Af(t){var i=null,r=we.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Tf(),we.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),l=0;l<t;l++)r[l]=O;return i.index++,r}function ki(t,i){return typeof i=="function"?i(t):i}function qu(t){var i=vt();return Sf(i,Xe,t)}function Sf(t,i,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=E=null,I=null,z=i,K=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(ke&X)===X:(cs&X)===X){var q=z.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===gr&&(K=!0);else if((cs&q)===q){z=z.next,q===gr&&(K=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(A=I=X,E=d):I=I.next=X,we.lanes|=q,ys|=q;X=z.action,Ra&&r(d,X),d=z.hasEagerState?z.eagerState:r(d,X)}else q={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(A=I=q,E=d):I=I.next=q,we.lanes|=X,ys|=X;z=z.next}while(z!==null&&z!==i);if(I===null?E=d:I.next=A,!fn(d,t.memoizedState)&&(Ot=!0,K&&(r=pr,r!==null)))throw r;t.memoizedState=d,t.baseState=E,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var i=vt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=i.memoizedState;if(h!==null){r.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);fn(d,i.memoizedState)||(Ot=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),r.lastRenderedState=d}return[d,l]}function ip(t,i,r){var l=we,h=vt(),d=Le;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=i();var E=!fn((Xe||h).memoizedState,r);E&&(h.memoizedState=r,Ot=!0),h=h.queue;var A=rp.bind(null,l,h,t);if(Yo(2048,8,A,[t]),h.getSnapshot!==i||E||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Er(9,Hu(),ap.bind(null,l,h,r,i),null),et===null)throw Error(a(349));d||(cs&124)!==0||sp(l,i,r)}return r}function sp(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=we.updateQueue,i===null?(i=Tf(),we.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function ap(t,i,r,l){i.value=r,i.getSnapshot=l,op(i)&&lp(t)}function rp(t,i,r){return r(function(){op(i)&&lp(t)})}function op(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!fn(t,r)}catch{return!0}}function lp(t){var i=hr(t,2);i!==null&&_n(i,t,2)}function wf(t){var i=sn();if(typeof t=="function"){var r=t;if(t=r(),Ra){cn(!0);try{r()}finally{cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},i}function up(t,i,r,l){return t.baseState=r,Sf(t,Xe,typeof l=="function"?l:ki)}function o1(t,i,r,l,h){if(Gu(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};G.T!==null?r(!0):d.isTransition=!1,l(d),r=i.pending,r===null?(d.next=i.pending=d,cp(i,d)):(d.next=r.next,i.pending=r.next=d)}}function cp(t,i){var r=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,E={};G.T=E;try{var A=r(h,l),I=G.S;I!==null&&I(E,A),hp(t,i,A)}catch(z){Rf(t,i,z)}finally{G.T=d}}else try{d=r(h,l),hp(t,i,d)}catch(z){Rf(t,i,z)}}function hp(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){fp(t,i,l)},function(l){return Rf(t,i,l)}):fp(t,i,r)}function fp(t,i,r){i.status="fulfilled",i.value=r,dp(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,cp(t,r)))}function Rf(t,i,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=r,dp(i),i=i.next;while(i!==l)}t.action=null}function dp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function mp(t,i){return i}function gp(t,i){if(Le){var r=et.formState;if(r!==null){e:{var l=we;if(Le){if(ut){t:{for(var h=ut,d=ii;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=zn(h.nextSibling),l=h.data==="F!";break e}}Aa(l)}l=!1}l&&(i=r[0])}}return r=sn(),r.memoizedState=r.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:i},r.queue=l,r=Vp.bind(null,we,l),l.dispatch=r,l=wf(!1),d=Df.bind(null,we,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,r=o1.bind(null,we,h,d,r),h.dispatch=r,l.memoizedState=t,[i,r,!1]}function pp(t){var i=vt();return yp(i,Xe,t)}function yp(t,i,r){if(i=Sf(t,i,mp)[0],t=qu(ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Qo(i)}catch(E){throw E===Bo?Pu:E}else l=i;i=vt();var h=i.queue,d=h.dispatch;return r!==i.memoizedState&&(we.flags|=2048,Er(9,Hu(),l1.bind(null,h,r),null)),[l,d,t]}function l1(t,i){t.action=i}function _p(t){var i=vt(),r=Xe;if(r!==null)return yp(i,r,t);vt(),i=i.memoizedState,r=vt();var l=r.queue.dispatch;return r.memoizedState=t,[i,l,!1]}function Er(t,i,r,l){return t={tag:t,create:r,deps:l,inst:i,next:null},i=we.updateQueue,i===null&&(i=Tf(),we.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,i.lastEffect=t),t}function Hu(){return{destroy:void 0,resource:void 0}}function vp(){return vt().memoizedState}function Fu(t,i,r,l){var h=sn();l=l===void 0?null:l,we.flags|=t,h.memoizedState=Er(1|i,Hu(),r,l)}function Yo(t,i,r,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&pf(l,Xe.memoizedState.deps)?h.memoizedState=Er(i,d,r,l):(we.flags|=t,h.memoizedState=Er(1|i,d,r,l))}function Ep(t,i){Fu(8390656,8,t,i)}function Tp(t,i){Yo(2048,8,t,i)}function Ap(t,i){return Yo(4,2,t,i)}function Sp(t,i){return Yo(4,4,t,i)}function bp(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wp(t,i,r){r=r!=null?r.concat([t]):null,Yo(4,4,bp.bind(null,i,t),r)}function If(){}function Rp(t,i){var r=vt();i=i===void 0?null:i;var l=r.memoizedState;return i!==null&&pf(i,l[1])?l[0]:(r.memoizedState=[t,i],t)}function Ip(t,i){var r=vt();i=i===void 0?null:i;var l=r.memoizedState;if(i!==null&&pf(i,l[1]))return l[0];if(l=t(),Ra){cn(!0);try{t()}finally{cn(!1)}}return r.memoizedState=[l,i],l}function Nf(t,i,r){return r===void 0||(cs&1073741824)!==0?t.memoizedState=i:(t.memoizedState=r,t=xy(),we.lanes|=t,ys|=t,r)}function Np(t,i,r,l){return fn(r,i)?r:yr.current!==null?(t=Nf(t,r,l),fn(t,i)||(Ot=!0),t):(cs&42)===0?(Ot=!0,t.memoizedState=r):(t=xy(),we.lanes|=t,ys|=t,i)}function Cp(t,i,r,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var E=G.T,A={};G.T=A,Df(t,!1,i,r);try{var I=h(),z=G.S;if(z!==null&&z(A,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=s1(I,l);Xo(t,i,K,yn(t))}else Xo(t,i,l,yn(t))}catch(X){Xo(t,i,{then:function(){},status:"rejected",reason:X},yn())}finally{ne.p=d,G.T=E}}function u1(){}function Cf(t,i,r,l){if(t.tag!==5)throw Error(a(476));var h=xp(t).queue;Cp(t,h,i,ue,r===null?u1:function(){return Dp(t),r(l)})}function xp(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:ue},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Dp(t){var i=xp(t).next.queue;Xo(t,i,{},yn())}function xf(){return Qt(dl)}function Op(){return vt().memoizedState}function Mp(){return vt().memoizedState}function c1(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=yn();t=ls(r);var l=us(i,t,r);l!==null&&(_n(l,i,r),Ho(l,i,r)),i={cache:rf()},t.payload=i;return}i=i.return}}function h1(t,i,r){var l=yn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(t)?kp(i,r):(r=Xh(t,i,r,l),r!==null&&(_n(r,t,l),Pp(r,i,l)))}function Vp(t,i,r){var l=yn();Xo(t,i,r,l)}function Xo(t,i,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))kp(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,A=d(E,r);if(h.hasEagerState=!0,h.eagerState=A,fn(A,E))return Nu(t,i,h,0),et===null&&Iu(),!1}catch{}finally{}if(r=Xh(t,i,h,l),r!==null)return _n(r,t,l),Pp(r,i,l),!0}return!1}function Df(t,i,r,l){if(l={lane:2,revertLane:ud(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(i)throw Error(a(479))}else i=Xh(t,r,l,2),i!==null&&_n(i,t,2)}function Gu(t){var i=t.alternate;return t===we||i!==null&&i===we}function kp(t,i){_r=Lu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Pp(t,i,r){if((r&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,r|=l,i.lanes=r,yo(t,r)}}var Ku={readContext:Qt,use:Bu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},jp={readContext:Qt,use:Bu,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Ep,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Fu(4194308,4,bp.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Fu(4194308,4,t,i)},useInsertionEffect:function(t,i){Fu(4,2,t,i)},useMemo:function(t,i){var r=sn();i=i===void 0?null:i;var l=t();if(Ra){cn(!0);try{t()}finally{cn(!1)}}return r.memoizedState=[l,i],l},useReducer:function(t,i,r){var l=sn();if(r!==void 0){var h=r(i);if(Ra){cn(!0);try{r(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=h1.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=wf(t);var i=t.queue,r=Vp.bind(null,we,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:If,useDeferredValue:function(t,i){var r=sn();return Nf(r,t,i)},useTransition:function(){var t=wf(!1);return t=Cp.bind(null,we,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var l=we,h=sn();if(Le){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),et===null)throw Error(a(349));(ke&124)!==0||sp(l,i,r)}h.memoizedState=r;var d={value:r,getSnapshot:i};return h.queue=d,Ep(rp.bind(null,l,d,t),[t]),l.flags|=2048,Er(9,Hu(),ap.bind(null,l,d,r,i),null),r},useId:function(){var t=sn(),i=et.identifierPrefix;if(Le){var r=Oi,l=Di;r=(l&~(1<<32-Kt(l)-1)).toString(32)+r,i="«"+i+"R"+r,r=zu++,0<r&&(i+="H"+r.toString(32)),i+="»"}else r=a1++,i="«"+i+"r"+r.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:xf,useFormState:gp,useActionState:gp,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Df.bind(null,we,!0,r),r.dispatch=i,[t,i]},useMemoCache:Af,useCacheRefresh:function(){return sn().memoizedState=c1.bind(null,we)}},Up={readContext:Qt,use:Bu,useCallback:Rp,useContext:Qt,useEffect:Tp,useImperativeHandle:wp,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Ip,useReducer:qu,useRef:vp,useState:function(){return qu(ki)},useDebugValue:If,useDeferredValue:function(t,i){var r=vt();return Np(r,Xe.memoizedState,t,i)},useTransition:function(){var t=qu(ki)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:ip,useId:Op,useHostTransitionStatus:xf,useFormState:pp,useActionState:pp,useOptimistic:function(t,i){var r=vt();return up(r,Xe,t,i)},useMemoCache:Af,useCacheRefresh:Mp},f1={readContext:Qt,use:Bu,useCallback:Rp,useContext:Qt,useEffect:Tp,useImperativeHandle:wp,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Ip,useReducer:bf,useRef:vp,useState:function(){return bf(ki)},useDebugValue:If,useDeferredValue:function(t,i){var r=vt();return Xe===null?Nf(r,t,i):Np(r,Xe.memoizedState,t,i)},useTransition:function(){var t=bf(ki)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:Qo(t),i]},useSyncExternalStore:ip,useId:Op,useHostTransitionStatus:xf,useFormState:_p,useActionState:_p,useOptimistic:function(t,i){var r=vt();return Xe!==null?up(r,Xe,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Af,useCacheRefresh:Mp},Tr=null,$o=0;function Qu(t){var i=$o;return $o+=1,Tr===null&&(Tr=[]),Xg(Tr,t,i)}function Jo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Yu(t,i){throw i.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lp(t){var i=t._init;return i(t._payload)}function zp(t){function i(k,D){if(t){var U=k.deletions;U===null?(k.deletions=[D],k.flags|=16):U.push(D)}}function r(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=xi(k,D),k.index=0,k.sibling=null,k}function d(k,D,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<D?(k.flags|=67108866,D):U):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function E(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function A(k,D,U,Q){return D===null||D.tag!==6?(D=Jh(U,k.mode,Q),D.return=k,D):(D=h(D,U),D.return=k,D)}function I(k,D,U,Q){var re=U.type;return re===B?K(k,D,U.props.children,Q,U.key):D!==null&&(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===R&&Lp(re)===D.type)?(D=h(D,U.props),Jo(D,U),D.return=k,D):(D=xu(U.type,U.key,U.props,null,k.mode,Q),Jo(D,U),D.return=k,D)}function z(k,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Zh(U,k.mode,Q),D.return=k,D):(D=h(D,U.children||[]),D.return=k,D)}function K(k,D,U,Q,re){return D===null||D.tag!==7?(D=_a(U,k.mode,Q,re),D.return=k,D):(D=h(D,U),D.return=k,D)}function X(k,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jh(""+D,k.mode,U),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return U=xu(D.type,D.key,D.props,null,k.mode,U),Jo(U,D),U.return=k,U;case L:return D=Zh(D,k.mode,U),D.return=k,D;case R:var Q=D._init;return D=Q(D._payload),X(k,D,U)}if(ot(D)||P(D))return D=_a(D,k.mode,U,null),D.return=k,D;if(typeof D.then=="function")return X(k,Qu(D),U);if(D.$$typeof===fe)return X(k,Vu(k,D),U);Yu(k,D)}return null}function q(k,D,U,Q){var re=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return re!==null?null:A(k,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===re?I(k,D,U,Q):null;case L:return U.key===re?z(k,D,U,Q):null;case R:return re=U._init,U=re(U._payload),q(k,D,U,Q)}if(ot(U)||P(U))return re!==null?null:K(k,D,U,Q,null);if(typeof U.then=="function")return q(k,D,Qu(U),Q);if(U.$$typeof===fe)return q(k,D,Vu(k,U),Q);Yu(k,U)}return null}function H(k,D,U,Q,re){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(U)||null,A(D,k,""+Q,re);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return k=k.get(Q.key===null?U:Q.key)||null,I(D,k,Q,re);case L:return k=k.get(Q.key===null?U:Q.key)||null,z(D,k,Q,re);case R:var Ie=Q._init;return Q=Ie(Q._payload),H(k,D,U,Q,re)}if(ot(Q)||P(Q))return k=k.get(U)||null,K(D,k,Q,re,null);if(typeof Q.then=="function")return H(k,D,U,Qu(Q),re);if(Q.$$typeof===fe)return H(k,D,U,Vu(D,Q),re);Yu(D,Q)}return null}function ye(k,D,U,Q){for(var re=null,Ie=null,le=D,me=D=0,Vt=null;le!==null&&me<U.length;me++){le.index>me?(Vt=le,le=null):Vt=le.sibling;var je=q(k,le,U[me],Q);if(je===null){le===null&&(le=Vt);break}t&&le&&je.alternate===null&&i(k,le),D=d(je,D,me),Ie===null?re=je:Ie.sibling=je,Ie=je,le=Vt}if(me===U.length)return r(k,le),Le&&Ea(k,me),re;if(le===null){for(;me<U.length;me++)le=X(k,U[me],Q),le!==null&&(D=d(le,D,me),Ie===null?re=le:Ie.sibling=le,Ie=le);return Le&&Ea(k,me),re}for(le=l(le);me<U.length;me++)Vt=H(le,k,me,U[me],Q),Vt!==null&&(t&&Vt.alternate!==null&&le.delete(Vt.key===null?me:Vt.key),D=d(Vt,D,me),Ie===null?re=Vt:Ie.sibling=Vt,Ie=Vt);return t&&le.forEach(function(Rs){return i(k,Rs)}),Le&&Ea(k,me),re}function de(k,D,U,Q){if(U==null)throw Error(a(151));for(var re=null,Ie=null,le=D,me=D=0,Vt=null,je=U.next();le!==null&&!je.done;me++,je=U.next()){le.index>me?(Vt=le,le=null):Vt=le.sibling;var Rs=q(k,le,je.value,Q);if(Rs===null){le===null&&(le=Vt);break}t&&le&&Rs.alternate===null&&i(k,le),D=d(Rs,D,me),Ie===null?re=Rs:Ie.sibling=Rs,Ie=Rs,le=Vt}if(je.done)return r(k,le),Le&&Ea(k,me),re;if(le===null){for(;!je.done;me++,je=U.next())je=X(k,je.value,Q),je!==null&&(D=d(je,D,me),Ie===null?re=je:Ie.sibling=je,Ie=je);return Le&&Ea(k,me),re}for(le=l(le);!je.done;me++,je=U.next())je=H(le,k,me,je.value,Q),je!==null&&(t&&je.alternate!==null&&le.delete(je.key===null?me:je.key),D=d(je,D,me),Ie===null?re=je:Ie.sibling=je,Ie=je);return t&&le.forEach(function(dA){return i(k,dA)}),Le&&Ea(k,me),re}function Je(k,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===B&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:e:{for(var re=U.key;D!==null;){if(D.key===re){if(re=U.type,re===B){if(D.tag===7){r(k,D.sibling),Q=h(D,U.props.children),Q.return=k,k=Q;break e}}else if(D.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===R&&Lp(re)===D.type){r(k,D.sibling),Q=h(D,U.props),Jo(Q,U),Q.return=k,k=Q;break e}r(k,D);break}else i(k,D);D=D.sibling}U.type===B?(Q=_a(U.props.children,k.mode,Q,U.key),Q.return=k,k=Q):(Q=xu(U.type,U.key,U.props,null,k.mode,Q),Jo(Q,U),Q.return=k,k=Q)}return E(k);case L:e:{for(re=U.key;D!==null;){if(D.key===re)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(k,D.sibling),Q=h(D,U.children||[]),Q.return=k,k=Q;break e}else{r(k,D);break}else i(k,D);D=D.sibling}Q=Zh(U,k.mode,Q),Q.return=k,k=Q}return E(k);case R:return re=U._init,U=re(U._payload),Je(k,D,U,Q)}if(ot(U))return ye(k,D,U,Q);if(P(U)){if(re=P(U),typeof re!="function")throw Error(a(150));return U=re.call(U),de(k,D,U,Q)}if(typeof U.then=="function")return Je(k,D,Qu(U),Q);if(U.$$typeof===fe)return Je(k,D,Vu(k,U),Q);Yu(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(k,D.sibling),Q=h(D,U),Q.return=k,k=Q):(r(k,D),Q=Jh(U,k.mode,Q),Q.return=k,k=Q),E(k)):r(k,D)}return function(k,D,U,Q){try{$o=0;var re=Je(k,D,U,Q);return Tr=null,re}catch(le){if(le===Bo||le===Pu)throw le;var Ie=dn(29,le,null,k.mode);return Ie.lanes=Q,Ie.return=k,Ie}finally{}}}var Ar=zp(!0),Bp=zp(!1),xn=J(null),si=null;function hs(t){var i=t.alternate;W(It,It.current&1),W(xn,t),si===null&&(i===null||yr.current!==null||i.memoizedState!==null)&&(si=t)}function qp(t){if(t.tag===22){if(W(It,It.current),W(xn,t),si===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(si=t)}}else fs()}function fs(){W(It,It.current),W(xn,xn.current)}function Pi(t){ie(xn),si===t&&(si=null),ie(It)}var It=J(0);function Xu(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Td(r)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Of(t,i,r,l){i=t.memoizedState,r=r(l,i),r=r==null?i:T({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mf={enqueueSetState:function(t,i,r){t=t._reactInternals;var l=yn(),h=ls(l);h.payload=i,r!=null&&(h.callback=r),i=us(t,h,l),i!==null&&(_n(i,t,l),Ho(i,t,l))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var l=yn(),h=ls(l);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=us(t,h,l),i!==null&&(_n(i,t,l),Ho(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=yn(),l=ls(r);l.tag=2,i!=null&&(l.callback=i),i=us(t,l,r),i!==null&&(_n(i,t,r),Ho(i,t,r))}};function Hp(t,i,r,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!Mo(r,l)||!Mo(h,d):!0}function Fp(t,i,r,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,l),i.state!==t&&Mf.enqueueReplaceState(i,i.state,null)}function Ia(t,i){var r=i;if("ref"in i){r={};for(var l in i)l!=="ref"&&(r[l]=i[l])}if(t=t.defaultProps){r===i&&(r=T({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gp(t){$u(t)}function Kp(t){console.error(t)}function Qp(t){$u(t)}function Ju(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Yp(t,i,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,i,r){return r=ls(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(t,i)},r}function Xp(t){return t=ls(t),t.tag=3,t}function $p(t,i,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Yp(i,r,l)}}var E=r.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Yp(i,r,l),typeof h!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function d1(t,i,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=r.alternate,i!==null&&Uo(i,r,h,!0),r=xn.current,r!==null){switch(r.tag){case 13:return si===null?sd():r.alternate===null&&ct===0&&(ct=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===uf?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([l]):i.add(l),rd(t,l,h)),!1;case 22:return r.flags|=65536,l===uf?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([l]):r.add(l)),rd(t,l,h)),!1}throw Error(a(435,r.tag))}return rd(t,l,h),sd(),!1}if(Le)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==tf&&(t=Error(a(422),{cause:l}),jo(Rn(t,r)))):(l!==tf&&(i=Error(a(423),{cause:l}),jo(Rn(i,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,r),h=Vf(t.stateNode,l,h),ff(t,h),ct!==4&&(ct=2)),!1;var d=Error(a(520),{cause:l});if(d=Rn(d,r),sl===null?sl=[d]:sl.push(d),ct!==4&&(ct=2),i===null)return!0;l=Rn(l,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Vf(r.stateNode,l,t),ff(r,t),!1;case 1:if(i=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_s===null||!_s.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Xp(h),$p(h,t,r,l),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Jp=Error(a(461)),Ot=!1;function Lt(t,i,r,l){i.child=t===null?Bp(i,null,r,l):Ar(i,t.child,r,l)}function Zp(t,i,r,l,h){r=r.render;var d=i.ref;if("ref"in l){var E={};for(var A in l)A!=="ref"&&(E[A]=l[A])}else E=l;return ba(i),l=yf(t,i,r,E,d,h),A=_f(),t!==null&&!Ot?(vf(t,i,h),ji(t,i,h)):(Le&&A&&Wh(i),i.flags|=1,Lt(t,i,l,h),i.child)}function Wp(t,i,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!$h(d)&&d.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=d,ey(t,i,d,l,h)):(t=xu(r.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!qf(t,h)){var E=d.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(E,l)&&t.ref===i.ref)return ji(t,i,h)}return i.flags|=1,t=xi(d,l),t.ref=i.ref,t.return=i,i.child=t}function ey(t,i,r,l,h){if(t!==null){var d=t.memoizedProps;if(Mo(d,l)&&t.ref===i.ref)if(Ot=!1,i.pendingProps=l=d,qf(t,h))(t.flags&131072)!==0&&(Ot=!0);else return i.lanes=t.lanes,ji(t,i,h)}return kf(t,i,r,l,h)}function ty(t,i,r){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|r:r,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ny(t,i,l,r)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(i,d!==null?d.cachePool:null),d!==null?ep(i,d):mf(),qp(i);else return i.lanes=i.childLanes=536870912,ny(t,i,d!==null?d.baseLanes|r:r,r)}else d!==null?(ku(i,d.cachePool),ep(i,d),fs(),i.memoizedState=null):(t!==null&&ku(i,null),mf(),fs());return Lt(t,i,h,r),i.child}function ny(t,i,r,l){var h=lf();return h=h===null?null:{parent:Rt._currentValue,pool:h},i.memoizedState={baseLanes:r,cachePool:h},t!==null&&ku(i,null),mf(),qp(i),t!==null&&Uo(t,i,l,!0),null}function Zu(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function kf(t,i,r,l,h){return ba(i),r=yf(t,i,r,l,void 0,h),l=_f(),t!==null&&!Ot?(vf(t,i,h),ji(t,i,h)):(Le&&l&&Wh(i),i.flags|=1,Lt(t,i,r,h),i.child)}function iy(t,i,r,l,h,d){return ba(i),i.updateQueue=null,r=np(i,l,r,h),tp(t),l=_f(),t!==null&&!Ot?(vf(t,i,d),ji(t,i,d)):(Le&&l&&Wh(i),i.flags|=1,Lt(t,i,r,d),i.child)}function sy(t,i,r,l,h){if(ba(i),i.stateNode===null){var d=fr,E=r.contextType;typeof E=="object"&&E!==null&&(d=Qt(E)),d=new r(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Mf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},cf(i),E=r.contextType,d.context=typeof E=="object"&&E!==null?Qt(E):fr,d.state=i.memoizedState,E=r.getDerivedStateFromProps,typeof E=="function"&&(Of(i,r,E,l),d.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Mf.enqueueReplaceState(d,d.state,null),Go(i,l,d,h),Fo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,I=Ia(r,A);d.props=I;var z=d.context,K=r.contextType;E=fr,typeof K=="object"&&K!==null&&(E=Qt(K));var X=r.getDerivedStateFromProps;K=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||z!==E)&&Fp(i,d,l,E),os=!1;var q=i.memoizedState;d.state=q,Go(i,l,d,h),Fo(),z=i.memoizedState,A||q!==z||os?(typeof X=="function"&&(Of(i,r,X,l),z=i.memoizedState),(I=os||Hp(i,r,I,l,q,z,E))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,hf(t,i),E=i.memoizedProps,K=Ia(r,E),d.props=K,X=i.pendingProps,q=d.context,z=r.contextType,I=fr,typeof z=="object"&&z!==null&&(I=Qt(z)),A=r.getDerivedStateFromProps,(z=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==X||q!==I)&&Fp(i,d,l,I),os=!1,q=i.memoizedState,d.state=q,Go(i,l,d,h),Fo();var H=i.memoizedState;E!==X||q!==H||os||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof A=="function"&&(Of(i,r,A,l),H=i.memoizedState),(K=os||Hp(i,r,K,l,q,H,I)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Zu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ar(i,t.child,null,h),i.child=Ar(i,null,r,h)):Lt(t,i,r,h),i.memoizedState=d.state,t=i.child):t=ji(t,i,h),t}function ay(t,i,r,l){return Po(),i.flags|=256,Lt(t,i,r,l),i.child}var Pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:Kg()}}function Uf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Dn),t}function ry(t,i,r){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?hs(i):fs(),Le){var A=ut,I;if(I=A){e:{for(I=A,A=ii;I.nodeType!==8;){if(!A){A=null;break e}if(I=zn(I.nextSibling),I===null){A=null;break e}}A=I}A!==null?(i.memoizedState={dehydrated:A,treeContext:va!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=A,I.return=i,i.child=I,nn=i,ut=null,I=!0):I=!1}I||Aa(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Td(A)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return A=l.children,l=l.fallback,h?(fs(),h=i.mode,A=Wu({mode:"hidden",children:A},h),l=_a(l,h,r,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=jf(r),h.childLanes=Uf(t,E,r),i.memoizedState=Pf,l):(hs(i),Lf(i,A))}if(I=t.memoizedState,I!==null&&(A=I.dehydrated,A!==null)){if(d)i.flags&256?(hs(i),i.flags&=-257,i=zf(t,i,r)):i.memoizedState!==null?(fs(),i.child=t.child,i.flags|=128,i=null):(fs(),h=l.fallback,A=i.mode,l=Wu({mode:"visible",children:l.children},A),h=_a(h,A,r,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ar(i,t.child,null,r),l=i.child,l.memoizedState=jf(r),l.childLanes=Uf(t,E,r),i.memoizedState=Pf,i=h);else if(hs(i),Td(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var z=E.dgst;E=z,l=Error(a(419)),l.stack="",l.digest=E,jo({value:l,source:null,stack:null}),i=zf(t,i,r)}else if(Ot||Uo(t,i,r,!1),E=(r&t.childLanes)!==0,Ot||E){if(E=et,E!==null&&(l=r&-r,l=(l&42)!==0?1:Wi(l),l=(l&(E.suspendedLanes|r))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,hr(t,l),_n(E,t,l),Jp;A.data==="$?"||sd(),i=zf(t,i,r)}else A.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ut=zn(A.nextSibling),nn=i,Le=!0,Ta=null,ii=!1,t!==null&&(Nn[Cn++]=Di,Nn[Cn++]=Oi,Nn[Cn++]=va,Di=t.id,Oi=t.overflow,va=i),i=Lf(i,l.children),i.flags|=4096);return i}return h?(fs(),h=l.fallback,A=i.mode,I=t.child,z=I.sibling,l=xi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?h=xi(z,h):(h=_a(h,A,r,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=jf(r):(I=A.cachePool,I!==null?(z=Rt._currentValue,I=I.parent!==z?{parent:z,pool:z}:I):I=Kg(),A={baseLanes:A.baseLanes|r,cachePool:I}),h.memoizedState=A,h.childLanes=Uf(t,E,r),i.memoizedState=Pf,l):(hs(i),r=t.child,t=r.sibling,r=xi(r,{mode:"visible",children:l.children}),r.return=i,r.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=r,i.memoizedState=null,r)}function Lf(t,i){return i=Wu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Wu(t,i){return t=dn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zf(t,i,r){return Ar(i,t.child,null,r),t=Lf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function oy(t,i,r){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),sf(t.return,i,r)}function Bf(t,i,r,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=r,d.tailMode=h)}function ly(t,i,r){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,r),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oy(t,r,i);else if(t.tag===19)oy(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(It,l),h){case"forwards":for(r=i.child,h=null;r!==null;)t=r.alternate,t!==null&&Xu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),Bf(i,!1,h,r,d);break;case"backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){i.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Bf(i,!0,r,null,d);break;case"together":Bf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ji(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),ys|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Uo(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=xi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=xi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function qf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function m1(t,i,r){switch(i.tag){case 3:We(i,i.stateNode.containerInfo),rs(i,Rt,t.memoizedState.cache),Po();break;case 27:case 5:Zi(i);break;case 4:We(i,i.stateNode.containerInfo);break;case 10:rs(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(hs(i),i.flags|=128,null):(r&i.child.childLanes)!==0?ry(t,i,r):(hs(i),t=ji(t,i,r),t!==null?t.sibling:null);hs(i);break;case 19:var h=(t.flags&128)!==0;if(l=(r&i.childLanes)!==0,l||(Uo(t,i,r,!1),l=(r&i.childLanes)!==0),h){if(l)return ly(t,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,ty(t,i,r);case 24:rs(i,Rt,t.memoizedState.cache)}return ji(t,i,r)}function uy(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ot=!0;else{if(!qf(t,r)&&(i.flags&128)===0)return Ot=!1,m1(t,i,r);Ot=(t.flags&131072)!==0}else Ot=!1,Le&&(i.flags&1048576)!==0&&Lg(i,Ou,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")$h(l)?(t=Ia(l,t),i.tag=1,i=sy(null,i,l,t,r)):(i.tag=0,i=kf(null,i,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===He){i.tag=11,i=Zp(null,i,l,t,r);break e}else if(h===V){i.tag=14,i=Wp(null,i,l,t,r);break e}}throw i=Pt(l)||l,Error(a(306,i,""))}}return i;case 0:return kf(t,i,i.type,i.pendingProps,r);case 1:return l=i.type,h=Ia(l,i.pendingProps),sy(t,i,l,h,r);case 3:e:{if(We(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,hf(t,i),Go(i,l,null,r);var E=i.memoizedState;if(l=E.cache,rs(i,Rt,l),l!==d.cache&&af(i,[Rt],r,!0),Fo(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ay(t,i,l,r);break e}else if(l!==h){h=Rn(Error(a(424)),i),jo(h),i=ay(t,i,l,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=zn(t.firstChild),nn=i,Le=!0,Ta=null,ii=!0,r=Bp(i,null,l,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Po(),l===h){i=ji(t,i,r);break e}Lt(t,i,l,r)}i=i.child}return i;case 26:return Zu(t,i),t===null?(r=d_(i.type,null,i.pendingProps,null))?i.memoizedState=r:Le||(r=i.type,t=i.pendingProps,l=dc(ve.current).createElement(r),l[St]=i,l[pt]=t,Bt(l,r,t),ht(l),i.stateNode=l):i.memoizedState=d_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Zi(i),t===null&&Le&&(l=i.stateNode=c_(i.type,i.pendingProps,ve.current),nn=i,ii=!0,h=ut,Ts(i.type)?(Ad=h,ut=zn(l.firstChild)):ut=h),Lt(t,i,i.pendingProps.children,r),Zu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=ut)&&(l=q1(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,nn=i,ut=zn(l.firstChild),ii=!1,h=!0):h=!1),h||Aa(i)),Zi(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,_d(h,d)?l=null:E!==null&&_d(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=yf(t,i,r1,null,null,r),dl._currentValue=h),Zu(t,i),Lt(t,i,l,r),i.child;case 6:return t===null&&Le&&((t=r=ut)&&(r=H1(r,i.pendingProps,ii),r!==null?(i.stateNode=r,nn=i,ut=null,t=!0):t=!1),t||Aa(i)),null;case 13:return ry(t,i,r);case 4:return We(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ar(i,null,l,r):Lt(t,i,l,r),i.child;case 11:return Zp(t,i,i.type,i.pendingProps,r);case 7:return Lt(t,i,i.pendingProps,r),i.child;case 8:return Lt(t,i,i.pendingProps.children,r),i.child;case 12:return Lt(t,i,i.pendingProps.children,r),i.child;case 10:return l=i.pendingProps,rs(i,i.type,l.value),Lt(t,i,l.children,r),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ba(i),h=Qt(h),l=l(h),i.flags|=1,Lt(t,i,l,r),i.child;case 14:return Wp(t,i,i.type,i.pendingProps,r);case 15:return ey(t,i,i.type,i.pendingProps,r);case 19:return ly(t,i,r);case 31:return l=i.pendingProps,r=i.mode,l={mode:l.mode,children:l.children},t===null?(r=Wu(l,r),r.ref=i.ref,i.child=r,r.return=i,i=r):(r=xi(t.child,l),r.ref=i.ref,i.child=r,r.return=i,i=r),i;case 22:return ty(t,i,r);case 24:return ba(i),l=Qt(Rt),t===null?(h=lf(),h===null&&(h=et,d=rf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),i.memoizedState={parent:l,cache:h},cf(i),rs(i,Rt,h)):((t.lanes&r)!==0&&(hf(t,i),Go(i,null,null,r),Fo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),rs(i,Rt,l)):(l=d.cache,rs(i,Rt,l),l!==h.cache&&af(i,[Rt],r,!0))),Lt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ui(t){t.flags|=4}function cy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!__(i)){if(i=xn.current,i!==null&&((ke&4194048)===ke?si!==null:(ke&62914560)!==ke&&(ke&536870912)===0||i!==si))throw qo=uf,Qg;t.flags|=8192}}function ec(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?go():536870912,t.lanes|=i,Rr|=i)}function Zo(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(i)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,i}function g1(t,i,r){var l=i.pendingProps;switch(ef(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return r=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(Rt),Gn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ko(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qg())),at(i),null;case 26:return r=i.memoizedState,t===null?(Ui(i),r!==null?(at(i),cy(i,r)):(at(i),i.flags&=-16777217)):r?r!==t.memoizedState?(Ui(i),at(i),cy(i,r)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ui(i),at(i),i.flags&=-16777217),null;case 27:yi(i),r=ve.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return at(i),null}t=he.current,ko(i)?zg(i):(t=c_(h,l,r),i.stateNode=t,Ui(i))}return at(i),null;case 5:if(yi(i),r=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return at(i),null}if(t=he.current,ko(i))zg(i);else{switch(h=dc(ve.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[St]=i,t[pt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Bt(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=ve.current,ko(i)){if(t=i.stateNode,r=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||i_(t.nodeValue,r)),t||Aa(i)}else t=dc(t).createTextNode(l),t[St]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ko(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[St]=i}else Po(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=qg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=r,i;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return r!==t&&r&&(i.child.flags|=8192),ec(i,i.updateQueue),at(i),null;case 4:return Gn(),t===null&&dd(i.stateNode.containerInfo),at(i),null;case 10:return Vi(i.type),at(i),null;case 19:if(ie(It),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Zo(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Xu(t),d!==null){for(i.flags|=128,Zo(h,!1),t=d.updateQueue,i.updateQueue=t,ec(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Ug(r,t),r=r.sibling;return W(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&En()>ic&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304)}else{if(!l)if(t=Xu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,ec(i,t),Zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Le)return at(i),null}else 2*En()-h.renderingStartTime>ic&&r!==536870912&&(i.flags|=128,l=!0,Zo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,t=It.current,W(It,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return Pi(i),gf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(r&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),r=i.updateQueue,r!==null&&ec(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048),t!==null&&ie(wa),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Vi(Rt),at(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function p1(t,i){switch(ef(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(Rt),Gn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return yi(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Po()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ie(It),null;case 4:return Gn(),null;case 10:return Vi(i.type),null;case 22:case 23:return Pi(i),gf(),t!==null&&ie(wa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(Rt),null;case 25:return null;default:return null}}function hy(t,i){switch(ef(i),i.tag){case 3:Vi(Rt),Gn();break;case 26:case 27:case 5:yi(i);break;case 4:Gn();break;case 13:Pi(i);break;case 19:ie(It);break;case 10:Vi(i.type);break;case 22:case 23:Pi(i),gf(),t!==null&&ie(wa);break;case 24:Vi(Rt)}}function Wo(t,i){try{var r=i.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,E=r.inst;l=d(),E.destroy=l}r=r.next}while(r!==h)}}catch(A){Ze(i,i.return,A)}}function ds(t,i,r){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,h=i;var I=r,z=A;try{z()}catch(K){Ze(h,I,K)}}}l=l.next}while(l!==d)}}catch(K){Ze(i,i.return,K)}}function fy(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{Wg(i,r)}catch(l){Ze(t,t.return,l)}}}function dy(t,i,r){r.props=Ia(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ze(t,i,l)}}function el(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Ze(t,i,h)}}function ai(t,i){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ze(t,i,h)}else r.current=null}function my(t){var i=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Ze(t,t.return,h)}}function Hf(t,i,r){try{var l=t.stateNode;j1(l,t.type,r,i),l[pt]=i}catch(h){Ze(t,t.return,h)}}function gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ts(t.type)||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=fc));else if(l!==4&&(l===27&&Ts(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Gf(t,i,r),t=t.sibling;t!==null;)Gf(t,i,r),t=t.sibling}function tc(t,i,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(l!==4&&(l===27&&Ts(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(tc(t,i,r),t=t.sibling;t!==null;)tc(t,i,r),t=t.sibling}function py(t){var i=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Bt(i,l,r),i[St]=t,i[pt]=r}catch(d){Ze(t,t.return,d)}}var Li=!1,dt=!1,Kf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function y1(t,i){if(t=t.containerInfo,pd=vc,t=Ng(t),Hh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var E=0,A=-1,I=-1,z=0,K=0,X=t,q=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(A=E+h),X!==d||l!==0&&X.nodeType!==3||(I=E+l),X.nodeType===3&&(E+=X.nodeValue.length),(H=X.firstChild)!==null;)q=X,X=H;for(;;){if(X===t)break t;if(q===r&&++z===h&&(A=E),q===d&&++K===l&&(I=E),(H=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=H}r=A===-1||I===-1?null:{start:A,end:I}}else r=null}r=r||{start:0,end:0}}else r=null;for(yd={focusedElem:t,selectionRange:r},vc=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=i,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var ye=Ia(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ye,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(de){Ze(r,r.return,de)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)Ed(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function _y(t,i,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ms(t,r),l&4&&Wo(5,r);break;case 1:if(ms(t,r),l&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(E){Ze(r,r.return,E)}else{var h=Ia(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ze(r,r.return,E)}}l&64&&fy(r),l&512&&el(r,r.return);break;case 3:if(ms(t,r),l&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Wg(t,i)}catch(E){Ze(r,r.return,E)}}break;case 27:i===null&&l&4&&py(r);case 26:case 5:ms(t,r),i===null&&l&4&&my(r),l&512&&el(r,r.return);break;case 12:ms(t,r);break;case 13:ms(t,r),l&4&&Ty(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=R1.bind(null,r),F1(t,r))));break;case 22:if(l=r.memoizedState!==null||Li,!l){i=i!==null&&i.memoizedState!==null||dt,h=Li;var d=dt;Li=l,(dt=i)&&!d?gs(t,r,(r.subtreeFlags&8772)!==0):ms(t,r),Li=h,dt=d}break;case 30:break;default:ms(t,r)}}function vy(t){var i=t.alternate;i!==null&&(t.alternate=null,vy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ns(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,an=!1;function zi(t,i,r){for(r=r.child;r!==null;)Ey(t,i,r),r=r.sibling}function Ey(t,i,r){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(lt,r)}catch{}switch(r.tag){case 26:dt||ai(r,i),zi(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:dt||ai(r,i);var l=st,h=an;Ts(r.type)&&(st=r.stateNode,an=!1),zi(t,i,r),ul(r.stateNode),st=l,an=h;break;case 5:dt||ai(r,i);case 6:if(l=st,h=an,st=null,zi(t,i,r),st=l,an=h,st!==null)if(an)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(r.stateNode)}catch(d){Ze(r,i,d)}else try{st.removeChild(r.stateNode)}catch(d){Ze(r,i,d)}break;case 18:st!==null&&(an?(t=st,l_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),yl(t)):l_(st,r.stateNode));break;case 4:l=st,h=an,st=r.stateNode.containerInfo,an=!0,zi(t,i,r),st=l,an=h;break;case 0:case 11:case 14:case 15:dt||ds(2,r,i),dt||ds(4,r,i),zi(t,i,r);break;case 1:dt||(ai(r,i),l=r.stateNode,typeof l.componentWillUnmount=="function"&&dy(r,i,l)),zi(t,i,r);break;case 21:zi(t,i,r);break;case 22:dt=(l=dt)||r.memoizedState!==null,zi(t,i,r),dt=l;break;default:zi(t,i,r)}}function Ty(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yl(t)}catch(r){Ze(i,i.return,r)}}function _1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new yy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new yy),i;default:throw Error(a(435,t.tag))}}function Qf(t,i){var r=_1(t);i.forEach(function(l){var h=I1.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function mn(t,i){var r=i.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(Ts(A.type)){st=A.stateNode,an=!1;break e}break;case 5:st=A.stateNode,an=!1;break e;case 3:case 4:st=A.stateNode.containerInfo,an=!0;break e}A=A.return}if(st===null)throw Error(a(160));Ey(d,E,h),st=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ay(i,t),i=i.sibling}var Ln=null;function Ay(t,i){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),gn(t),l&4&&(ds(3,t,t.return),Wo(3,t),ds(5,t,t.return));break;case 1:mn(i,t),gn(t),l&512&&(dt||r===null||ai(r,r.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Ln;if(mn(i,t),gn(t),l&512&&(dt||r===null||ai(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[na]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Bt(d,l,r),d[St]=t,ht(d),l=d;break e;case"link":var E=p_("link","href",h).get(l+(r.href||""));if(E){for(var A=0;A<E.length;A++)if(d=E[A],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){E.splice(A,1);break t}}d=h.createElement(l),Bt(d,l,r),h.head.appendChild(d);break;case"meta":if(E=p_("meta","content",h).get(l+(r.content||""))){for(A=0;A<E.length;A++)if(d=E[A],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){E.splice(A,1);break t}}d=h.createElement(l),Bt(d,l,r),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[St]=t,ht(d),l=d}t.stateNode=l}else y_(h,t.type,t.stateNode);else t.stateNode=g_(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?y_(h,t.type,t.stateNode):g_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(i,t),gn(t),l&512&&(dt||r===null||ai(r,r.return)),r!==null&&l&4&&Hf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(i,t),gn(t),l&512&&(dt||r===null||ai(r,r.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(H){Ze(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Kf=!0);break;case 6:if(mn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(H){Ze(t,t.return,H)}}break;case 3:if(pc=null,h=Ln,Ln=mc(i.containerInfo),mn(i,t),Ln=h,gn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{yl(i.containerInfo)}catch(H){Ze(t,t.return,H)}Kf&&(Kf=!1,Sy(t));break;case 4:l=Ln,Ln=mc(t.stateNode.containerInfo),mn(i,t),gn(t),Ln=l;break;case 12:mn(i,t),gn(t);break;case 13:mn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wf=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qf(t,l)));break;case 22:h=t.memoizedState!==null;var I=r!==null&&r.memoizedState!==null,z=Li,K=dt;if(Li=z||h,dt=K||I,mn(i,t),dt=K,Li=z,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||I||Li||dt||Na(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){I=r=i;try{if(d=I.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=I.stateNode;var X=I.memoizedProps.style,q=X!=null&&X.hasOwnProperty("display")?X.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){Ze(I,I.return,H)}}}else if(i.tag===6){if(r===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){Ze(I,I.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Qf(t,r))));break;case 19:mn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qf(t,l)));break;case 30:break;case 21:break;default:mn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var r,l=t.return;l!==null;){if(gy(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,d=Ff(t);tc(t,d,h);break;case 5:var E=r.stateNode;r.flags&32&&(An(E,""),r.flags&=-33);var A=Ff(t);tc(t,A,E);break;case 3:case 4:var I=r.stateNode.containerInfo,z=Ff(t);Gf(t,z,I);break;default:throw Error(a(161))}}catch(K){Ze(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Sy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ms(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)_y(t,i.alternate,i),i=i.sibling}function Na(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ds(4,i,i.return),Na(i);break;case 1:ai(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&dy(i,i.return,r),Na(i);break;case 27:ul(i.stateNode);case 26:case 5:ai(i,i.return),Na(i);break;case 22:i.memoizedState===null&&Na(i);break;case 30:Na(i);break;default:Na(i)}t=t.sibling}}function gs(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:gs(h,d,r),Wo(4,d);break;case 1:if(gs(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ze(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Zg(I[h],A)}catch(z){Ze(l,l.return,z)}}r&&E&64&&fy(d),el(d,d.return);break;case 27:py(d);case 26:case 5:gs(h,d,r),r&&l===null&&E&4&&my(d),el(d,d.return);break;case 12:gs(h,d,r);break;case 13:gs(h,d,r),r&&E&4&&Ty(h,d);break;case 22:d.memoizedState===null&&gs(h,d,r),el(d,d.return);break;case 30:break;default:gs(h,d,r)}i=i.sibling}}function Yf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Lo(r))}function Xf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Lo(t))}function ri(t,i,r,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)by(t,i,r,l),i=i.sibling}function by(t,i,r,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,r,l),h&2048&&Wo(9,i);break;case 1:ri(t,i,r,l);break;case 3:ri(t,i,r,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Lo(t)));break;case 12:if(h&2048){ri(t,i,r,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,A=d.onPostCommit;typeof A=="function"&&A(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else ri(t,i,r,l);break;case 13:ri(t,i,r,l);break;case 23:break;case 22:d=i.stateNode,E=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,r,l):tl(t,i):d._visibility&2?ri(t,i,r,l):(d._visibility|=2,Sr(t,i,r,l,(i.subtreeFlags&10256)!==0)),h&2048&&Yf(E,i);break;case 24:ri(t,i,r,l),h&2048&&Xf(i.alternate,i);break;default:ri(t,i,r,l)}}function Sr(t,i,r,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,A=r,I=l,z=E.flags;switch(E.tag){case 0:case 11:case 15:Sr(d,E,A,I,h),Wo(8,E);break;case 23:break;case 22:var K=E.stateNode;E.memoizedState!==null?K._visibility&2?Sr(d,E,A,I,h):tl(d,E):(K._visibility|=2,Sr(d,E,A,I,h)),h&&z&2048&&Yf(E.alternate,E);break;case 24:Sr(d,E,A,I,h),h&&z&2048&&Xf(E.alternate,E);break;default:Sr(d,E,A,I,h)}i=i.sibling}}function tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,l=i,h=l.flags;switch(l.tag){case 22:tl(r,l),h&2048&&Yf(l.alternate,l);break;case 24:tl(r,l),h&2048&&Xf(l.alternate,l);break;default:tl(r,l)}i=i.sibling}}var nl=8192;function br(t){if(t.subtreeFlags&nl)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 26:br(t),t.flags&nl&&t.memoizedState!==null&&iA(Ln,t.memoizedState,t.memoizedProps);break;case 5:br(t);break;case 3:case 4:var i=Ln;Ln=mc(t.stateNode.containerInfo),br(t),Ln=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=nl,nl=16777216,br(t),nl=i):br(t));break;default:br(t)}}function Ry(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function il(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Mt=l,Ny(l,t)}Ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iy(t),t=t.sibling}function Iy(t){switch(t.tag){case 0:case 11:case 15:il(t),t.flags&2048&&ds(9,t,t.return);break;case 3:il(t);break;case 12:il(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,nc(t)):il(t);break;default:il(t)}}function nc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var l=i[r];Mt=l,Ny(l,t)}Ry(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ds(8,i,i.return),nc(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,nc(i));break;default:nc(i)}t=t.sibling}}function Ny(t,i){for(;Mt!==null;){var r=Mt;switch(r.tag){case 0:case 11:case 15:ds(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Lo(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Mt=l;else e:for(r=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(vy(l),l===r){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var v1={getCacheForType:function(t){var i=Qt(Rt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r}},E1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ne=null,ke=0,Ke=0,pn=null,ps=!1,wr=!1,$f=!1,Bi=0,ct=0,ys=0,Ca=0,Jf=0,Dn=0,Rr=0,sl=null,rn=null,Zf=!1,Wf=0,ic=1/0,sc=null,_s=null,zt=0,vs=null,Ir=null,Nr=0,ed=0,td=null,Cy=null,al=0,nd=null;function yn(){if((Ge&2)!==0&&ke!==0)return ke&-ke;if(G.T!==null){var t=gr;return t!==0?t:ud()}return es()}function xy(){Dn===0&&(Dn=(ke&536870912)===0||Le?mo():536870912);var t=xn.current;return t!==null&&(t.flags|=32),Dn}function _n(t,i,r){(t===et&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Cr(t,0),Es(t,ke,Dn,!1)),vi(t,r),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Ca|=r),ct===4&&Es(t,ke,Dn,!1)),oi(t))}function Dy(t,i,r){if((Ge&6)!==0)throw Error(a(327));var l=!r&&(i&124)===0&&(i&t.expiredLanes)===0||ta(t,i),h=l?S1(t,i):ad(t,i,!0),d=l;do{if(h===0){wr&&!l&&Es(t,i,0,!1);break}else{if(r=t.current.alternate,d&&!T1(r)){h=ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var A=t;h=sl;var I=A.current.memoizedState.isDehydrated;if(I&&(Cr(A,E).flags|=256),E=ad(A,E,!1),E!==2){if($f&&!I){A.errorRecoveryDisabledLanes|=d,Ca|=d,h=4;break e}d=rn,rn=h,d!==null&&(rn===null?rn=d:rn.push.apply(rn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Cr(t,0),Es(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Es(l,i,Dn,!ps);break e;case 2:rn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Wf+300-En(),10<h)){if(Es(l,i,Dn,!ps),Ka(l,0,!0)!==0)break e;l.timeoutHandle=r_(Oy.bind(null,l,r,rn,sc,Zf,i,Dn,Ca,Rr,ps,d,2,-0,0),h);break e}Oy(l,r,rn,sc,Zf,i,Dn,Ca,Rr,ps,d,0,-0,0)}}break}while(!0);oi(t)}function Oy(t,i,r,l,h,d,E,A,I,z,K,X,q,H){if(t.timeoutHandle=-1,X=i.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(fl={stylesheets:null,count:0,unsuspend:nA},wy(i),X=sA(),X!==null)){t.cancelPendingCommit=X(Ly.bind(null,t,i,d,r,l,h,E,A,I,K,1,q,H)),Es(t,d,E,!z);return}Ly(t,i,d,r,l,h,E,A,I)}function T1(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Es(t,i,r,l){i&=~Jf,i&=~Ca,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Kt(h),E=1<<d;l[d]=-1,h&=~E}r!==0&&Kn(t,r,i)}function ac(){return(Ge&6)===0?(rl(0),!1):!0}function id(){if(Ne!==null){if(Ke===0)var t=Ne.return;else t=Ne,Mi=Sa=null,Ef(t),Tr=null,$o=0,t=Ne;for(;t!==null;)hy(t.alternate,t),t=t.return;Ne=null}}function Cr(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,L1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),id(),et=t,Ne=r=xi(t.current,null),ke=i,Ke=0,pn=null,ps=!1,wr=ta(t,i),$f=!1,Rr=Dn=Jf=Ca=ys=ct=0,rn=sl=null,Zf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Kt(l),d=1<<h;i|=t[h],l&=~d}return Bi=i,Iu(),r}function My(t,i){we=null,G.H=Ku,i===Bo||i===Pu?(i=$g(),Ke=3):i===Qg?(i=$g(),Ke=4):Ke=i===Jp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,Ne===null&&(ct=1,Ju(t,Rn(i,t.current)))}function Vy(){var t=G.H;return G.H=Ku,t===null?Ku:t}function ky(){var t=G.A;return G.A=v1,t}function sd(){ct=4,ps||(ke&4194048)!==ke&&xn.current!==null||(wr=!0),(ys&134217727)===0&&(Ca&134217727)===0||et===null||Es(et,ke,Dn,!1)}function ad(t,i,r){var l=Ge;Ge|=2;var h=Vy(),d=ky();(et!==t||ke!==i)&&(sc=null,Cr(t,i)),i=!1;var E=ct;e:do try{if(Ke!==0&&Ne!==null){var A=Ne,I=pn;switch(Ke){case 8:id(),E=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var z=Ke;if(Ke=0,pn=null,xr(t,A,I,z),r&&wr){E=0;break e}break;default:z=Ke,Ke=0,pn=null,xr(t,A,I,z)}}A1(),E=ct;break}catch(K){My(t,K)}while(!0);return i&&t.shellSuspendCounter++,Mi=Sa=null,Ge=l,G.H=h,G.A=d,Ne===null&&(et=null,ke=0,Iu()),E}function A1(){for(;Ne!==null;)Py(Ne)}function S1(t,i){var r=Ge;Ge|=2;var l=Vy(),h=ky();et!==t||ke!==i?(sc=null,ic=En()+500,Cr(t,i)):wr=ta(t,i);e:do try{if(Ke!==0&&Ne!==null){i=Ne;var d=pn;t:switch(Ke){case 1:Ke=0,pn=null,xr(t,i,d,1);break;case 2:case 9:if(Yg(d)){Ke=0,pn=null,jy(i);break}i=function(){Ke!==2&&Ke!==9||et!==t||(Ke=7),oi(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Yg(d)?(Ke=0,pn=null,jy(i)):(Ke=0,pn=null,xr(t,i,d,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var A=Ne;if(!E||__(E)){Ke=0,pn=null;var I=A.sibling;if(I!==null)Ne=I;else{var z=A.return;z!==null?(Ne=z,rc(z)):Ne=null}break t}}Ke=0,pn=null,xr(t,i,d,5);break;case 6:Ke=0,pn=null,xr(t,i,d,6);break;case 8:id(),ct=6;break e;default:throw Error(a(462))}}b1();break}catch(K){My(t,K)}while(!0);return Mi=Sa=null,G.H=l,G.A=h,Ge=r,Ne!==null?0:(et=null,ke=0,Iu(),ct)}function b1(){for(;Ne!==null&&!uo();)Py(Ne)}function Py(t){var i=uy(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?rc(t):Ne=i}function jy(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=iy(r,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=iy(r,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:Ef(i);default:hy(r,i),i=Ne=Ug(i,Bi),i=uy(r,i,Bi)}t.memoizedProps=t.pendingProps,i===null?rc(t):Ne=i}function xr(t,i,r,l){Mi=Sa=null,Ef(i),Tr=null,$o=0;var h=i.return;try{if(d1(t,h,i,r,ke)){ct=1,Ju(t,Rn(r,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ct=1,Ju(t,Rn(r,t.current)),Ne=null;return}i.flags&32768?(Le||l===1?t=!0:wr||(ke&536870912)!==0?t=!1:(ps=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uy(i,t)):rc(i)}function rc(t){var i=t;do{if((i.flags&32768)!==0){Uy(i,ps);return}t=i.return;var r=g1(i.alternate,i,Bi);if(r!==null){Ne=r;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ct===0&&(ct=5)}function Uy(t,i){do{var r=p1(t.alternate,t);if(r!==null){r.flags&=32767,Ne=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=r}while(t!==null);ct=6,Ne=null}function Ly(t,i,r,l,h,d,E,A,I){t.cancelPendingCommit=null;do oc();while(zt!==0);if((Ge&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Yh,po(t,r,d,E,A,I),t===et&&(Ne=et=null,ke=0),Ir=i,vs=t,Nr=r,ed=d,td=h,Cy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,N1(Js,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ne.p,ne.p=2,E=Ge,Ge|=4;try{y1(t,i,r)}finally{Ge=E,ne.p=h,G.T=l}}zt=1,zy(),By(),qy()}}function zy(){if(zt===1){zt=0;var t=vs,i=Ir,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=ne.p;ne.p=2;var h=Ge;Ge|=4;try{Ay(i,t);var d=yd,E=Ng(t.containerInfo),A=d.focusedElem,I=d.selectionRange;if(E!==A&&A&&A.ownerDocument&&Ig(A.ownerDocument.documentElement,A)){if(I!==null&&Hh(A)){var z=I.start,K=I.end;if(K===void 0&&(K=z),"selectionStart"in A)A.selectionStart=z,A.selectionEnd=Math.min(K,A.value.length);else{var X=A.ownerDocument||document,q=X&&X.defaultView||window;if(q.getSelection){var H=q.getSelection(),ye=A.textContent.length,de=Math.min(I.start,ye),Je=I.end===void 0?de:Math.min(I.end,ye);!H.extend&&de>Je&&(E=Je,Je=de,de=E);var k=Rg(A,de),D=Rg(A,Je);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=X.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),de>Je?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(X=[],H=A;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<X.length;A++){var Q=X[A];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}vc=!!pd,yd=pd=null}finally{Ge=h,ne.p=l,G.T=r}}t.current=i,zt=2}}function By(){if(zt===2){zt=0;var t=vs,i=Ir,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=ne.p;ne.p=2;var h=Ge;Ge|=4;try{_y(t,i.alternate,i)}finally{Ge=h,ne.p=l,G.T=r}}zt=3}}function qy(){if(zt===4||zt===3){zt=0,nu();var t=vs,i=Ir,r=Nr,l=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,Ir=vs=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(_s=null),Qa(r),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=ne.p,ne.p=2,G.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var A=l[E];d(A.value,{componentStack:A.stack})}}finally{G.T=i,ne.p=h}}(Nr&3)!==0&&oc(),oi(t),h=t.pendingLanes,(r&4194090)!==0&&(h&42)!==0?t===nd?al++:(al=0,nd=t):al=0,rl(0)}}function Hy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Lo(i)))}function oc(t){return zy(),By(),qy(),Fy()}function Fy(){if(zt!==5)return!1;var t=vs,i=ed;ed=0;var r=Qa(Nr),l=G.T,h=ne.p;try{ne.p=32>r?32:r,G.T=null,r=td,td=null;var d=vs,E=Nr;if(zt=0,Ir=vs=null,Nr=0,(Ge&6)!==0)throw Error(a(331));var A=Ge;if(Ge|=4,Iy(d.current),by(d,d.current,E,r),Ge=A,rl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{ne.p=h,G.T=l,Hy(t,i)}}function Gy(t,i,r){i=Rn(r,i),i=Vf(t.stateNode,i,2),t=us(t,i,2),t!==null&&(vi(t,2),oi(t))}function Ze(t,i,r){if(t.tag===3)Gy(t,t,r);else for(;i!==null;){if(i.tag===3){Gy(i,t,r);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_s===null||!_s.has(l))){t=Rn(r,t),r=Xp(2),l=us(i,r,2),l!==null&&($p(r,l,i,t),vi(l,2),oi(l));break}}i=i.return}}function rd(t,i,r){var l=t.pingCache;if(l===null){l=t.pingCache=new E1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(r)||($f=!0,h.add(r),t=w1.bind(null,t,i,r),i.then(t,t))}function w1(t,i,r){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,et===t&&(ke&r)===r&&(ct===4||ct===3&&(ke&62914560)===ke&&300>En()-Wf?(Ge&2)===0&&Cr(t,0):Jf|=r,Rr===ke&&(Rr=0)),oi(t)}function Ky(t,i){i===0&&(i=go()),t=hr(t,i),t!==null&&(vi(t,i),oi(t))}function R1(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),Ky(t,r)}function I1(t,i){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Ky(t,r)}function N1(t,i){return Xs(t,i)}var lc=null,Dr=null,od=!1,uc=!1,ld=!1,xa=0;function oi(t){t!==Dr&&t.next===null&&(Dr===null?lc=Dr=t:Dr=Dr.next=t),uc=!0,od||(od=!0,x1())}function rl(t,i){if(!ld&&uc){ld=!0;do for(var r=!1,l=lc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-Kt(42|t)+1)-1,d&=h&~(E&~A),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,$y(l,d))}else d=ke,d=Ka(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ta(l,d)||(r=!0,$y(l,d));l=l.next}while(r);ld=!1}}function C1(){Qy()}function Qy(){uc=od=!1;var t=0;xa!==0&&(U1()&&(t=xa),xa=0);for(var i=En(),r=null,l=lc;l!==null;){var h=l.next,d=Yy(l,i);d===0?(l.next=null,r===null?lc=h:r.next=h,h===null&&(Dr=r)):(r=l,(t!==0||(d&3)!==0)&&(uc=!0)),l=h}rl(t)}function Yy(t,i){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Kt(d),A=1<<E,I=h[E];I===-1?((A&r)===0||(A&l)!==0)&&(h[E]=fo(A,i)):I<=i&&(t.expiredLanes|=A),d&=~A}if(i=et,r=ke,r=Ka(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$s(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ta(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(l!==null&&$s(l),Qa(r)){case 2:case 8:r=Fa;break;case 32:r=Js;break;case 268435456:r=Ga;break;default:r=Js}return l=Xy.bind(null,t),r=Xs(r,l),t.callbackPriority=i,t.callbackNode=r,i}return l!==null&&l!==null&&$s(l),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(oc()&&t.callbackNode!==r)return null;var l=ke;return l=Ka(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dy(t,l,i),Yy(t,En()),t.callbackNode!=null&&t.callbackNode===r?Xy.bind(null,t):null)}function $y(t,i){if(oc())return null;Dy(t,i,!0)}function x1(){z1(function(){(Ge&6)!==0?Xs(co,C1):Qy()})}function ud(){return xa===0&&(xa=mo()),xa}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wa(""+t)}function Zy(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function D1(t,i,r,l,h){if(i==="submit"&&r&&r.stateNode===h){var d=Jy((h[pt]||null).action),E=l.submitter;E&&(i=(i=E[pt]||null)?Jy(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var A=new er("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xa!==0){var I=E?Zy(h,E):new FormData(h);Cf(r,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(A.preventDefault(),I=E?Zy(h,E):new FormData(h),Cf(r,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var cd=0;cd<Qh.length;cd++){var hd=Qh[cd],O1=hd.toLowerCase(),M1=hd[0].toUpperCase()+hd.slice(1);Un(O1,"on"+M1)}Un(Dg,"onAnimationEnd"),Un(Og,"onAnimationIteration"),Un(Mg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un($T,"onTransitionRun"),Un(JT,"onTransitionStart"),Un(ZT,"onTransitionCancel"),Un(Vg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Wy(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var A=l[E],I=A.instance,z=A.currentTarget;if(A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(K){$u(K)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(A=l[E],I=A.instance,z=A.currentTarget,A=A.listener,I!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=z;try{d(h)}catch(K){$u(K)}h.currentTarget=null,d=I}}}}function Ce(t,i){var r=i[_o];r===void 0&&(r=i[_o]=new Set);var l=t+"__bubble";r.has(l)||(e_(i,t,2,!1),r.add(l))}function fd(t,i,r){var l=0;i&&(l|=4),e_(r,t,l,i)}var cc="_reactListening"+Math.random().toString(36).slice(2);function dd(t){if(!t[cc]){t[cc]=!0,vo.forEach(function(r){r!=="selectionchange"&&(V1.has(r)||fd(r,!1,t),fd(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[cc]||(i[cc]=!0,fd("selectionchange",!1,i))}}function e_(t,i,r,l){switch(b_(i)){case 2:var h=oA;break;case 8:h=lA;break;default:h=Id}r=h.bind(null,i,r,t),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,r,{capture:!0,passive:h}):t.addEventListener(i,r,!0):h!==void 0?t.addEventListener(i,r,{passive:h}):t.addEventListener(i,r,!1)}function md(t,i,r,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var A=l.stateNode.containerInfo;if(A===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;A!==null;){if(E=Ei(A),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}A=A.parentNode}}l=l.return}fu(function(){var z=d,K=Sn(r),X=[];e:{var q=kg.get(t);if(q!==void 0){var H=er,ye=t;switch(t){case"keypress":if(Zn(r)===0)break e;case"keydown":case"keyup":H=rr;break;case"focusin":ye="focus",H=ir;break;case"focusout":ye="blur",H=ir;break;case"beforeblur":case"afterblur":H=ir;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Eu;break;case Dg:case Og:case Mg:H=sr;break;case Vg:H=Au;break;case"scroll":case"scrollend":H=du;break;case"wheel":H=or;break;case"copy":case"cut":case"paste":H=ar;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Do;break;case"toggle":case"beforetoggle":H=bu}var de=(i&4)!==0,Je=!de&&(t==="scroll"||t==="scrollend"),k=de?q!==null?q+"Capture":null:q;de=[];for(var D=z,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||k===null||(Q=ua(D,k),Q!=null&&de.push(ll(D,Q,U))),Je)break;D=D.return}0<de.length&&(q=new H(q,ye,null,r,K),X.push({event:q,listeners:de}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&r!==bi&&(ye=r.relatedTarget||r.fromElement)&&(Ei(ye)||ye[Tn]))break e;if((H||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,H?(ye=r.relatedTarget||r.toElement,H=z,ye=ye?Ei(ye):null,ye!==null&&(Je=c(ye),de=ye.tag,ye!==Je||de!==5&&de!==27&&de!==6)&&(ye=null)):(H=null,ye=z),H!==ye)){if(de=wn,Q="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(de=Do,Q="onPointerLeave",k="onPointerEnter",D="pointer"),Je=H==null?q:Yn(H),U=ye==null?q:Yn(ye),q=new de(Q,D+"leave",H,r,K),q.target=Je,q.relatedTarget=U,Q=null,Ei(K)===z&&(de=new de(k,D+"enter",ye,r,K),de.target=U,de.relatedTarget=Je,Q=de),Je=Q,H&&ye)t:{for(de=H,k=ye,D=0,U=de;U;U=Or(U))D++;for(U=0,Q=k;Q;Q=Or(Q))U++;for(;0<D-U;)de=Or(de),D--;for(;0<U-D;)k=Or(k),U--;for(;D--;){if(de===k||k!==null&&de===k.alternate)break t;de=Or(de),k=Or(k)}de=null}else de=null;H!==null&&t_(X,q,H,de,!1),ye!==null&&Je!==null&&t_(X,Je,ye,de,!0)}}e:{if(q=z?Yn(z):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var re=Eg;else if(wt(q))if(Tg)re=QT;else{re=GT;var Ie=FT}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&bo(z.elementType)&&(re=Eg):re=KT;if(re&&(re=re(t,z))){Ci(X,re,r,K);break e}Ie&&Ie(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&ss(q,"number",q.value)}switch(Ie=z?Yn(z):window,t){case"focusin":(wt(Ie)||Ie.contentEditable==="true")&&(lr=Ie,Fh=z,Vo=null);break;case"focusout":Vo=Fh=lr=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Cg(X,r,K);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":Cg(X,r,K)}var le;if(ti)e:{switch(t){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Me?F(t,r)&&(me="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(me="onCompositionStart");me&&(v&&r.locale!=="ko"&&(Me||me!=="onCompositionStart"?me==="onCompositionEnd"&&Me&&(le=Ro()):(Jn=K,as="value"in Jn?Jn.value:Jn.textContent,Me=!0)),Ie=hc(z,me),0<Ie.length&&(me=new Co(me,t,null,r,K),X.push({event:me,listeners:Ie}),le?me.data=le:(le=ee(r),le!==null&&(me.data=le)))),(le=g?bt(t,r):Ve(t,r))&&(me=hc(z,"onBeforeInput"),0<me.length&&(Ie=new Co("onBeforeInput","beforeinput",null,r,K),X.push({event:Ie,listeners:me}),Ie.data=le)),D1(X,t,z,r,K)}Wy(X,i)})}function ll(t,i,r){return{instance:t,listener:i,currentTarget:r}}function hc(t,i){for(var r=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ua(t,r),h!=null&&l.unshift(ll(t,h,d)),h=ua(t,i),h!=null&&l.push(ll(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Or(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t_(t,i,r,l,h){for(var d=i._reactName,E=[];r!==null&&r!==l;){var A=r,I=A.alternate,z=A.stateNode;if(A=A.tag,I!==null&&I===l)break;A!==5&&A!==26&&A!==27||z===null||(I=z,h?(z=ua(r,d),z!=null&&E.unshift(ll(r,z,I))):h||(z=ua(r,d),z!=null&&E.push(ll(r,z,I)))),r=r.return}E.length!==0&&t.push({event:i,listeners:E})}var k1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function n_(t){return(typeof t=="string"?t:""+t).replace(k1,`
`).replace(P1,"")}function i_(t,i){return i=n_(i),n_(t)===i}function fc(){}function $e(t,i,r,l,h,d){switch(r){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":Xn(t,"class",l);break;case"tabIndex":Xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(t,r,l);break;case"style":So(t,l,d);break;case"data":if(i!=="object"){Xn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Wa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Wa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=fc);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ce("beforetoggle",t),Ce("toggle",t),is(t,"popover",l);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":is(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=jh.get(r)||r,is(t,r,l))}}function gd(t,i,r,l,h,d){switch(r){case"style":So(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Ce("scroll",t);break;case"onScrollEnd":l!=null&&Ce("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),d=t[pt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):is(t,r,l)}}}function Bt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",t),Ce("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var E=r[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:$e(t,i,d,E,r,null)}}h&&$e(t,i,"srcSet",r.srcSet,r,null),l&&$e(t,i,"src",r.src,r,null);return;case"input":Ce("invalid",t);var A=d=E=h=null,I=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":h=K;break;case"type":E=K;break;case"checked":I=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:$e(t,i,l,K,r,null)}}ra(t,d,A,I,z,E,h,!1),Za(t);return;case"select":Ce("invalid",t),l=E=d=null;for(h in r)if(r.hasOwnProperty(h)&&(A=r[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":E=A;break;case"multiple":l=A;default:$e(t,i,h,A,r,null)}i=d,r=E,t.multiple=!!l,i!=null?Si(t,!!l,i,!1):r!=null&&Si(t,!!l,r,!0);return;case"textarea":Ce("invalid",t),d=h=l=null;for(E in r)if(r.hasOwnProperty(E)&&(A=r[E],A!=null))switch(E){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:$e(t,i,E,A,r,null)}oa(t,l,h,d),Za(t);return;case"option":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,I,l,r,null)}return;case"dialog":Ce("beforetoggle",t),Ce("toggle",t),Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":Ce("load",t);break;case"video":case"audio":for(l=0;l<ol.length;l++)Ce(ol[l],t);break;case"image":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"embed":case"source":case"link":Ce("error",t),Ce("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:$e(t,i,z,l,r,null)}return;default:if(bo(i)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&gd(t,i,K,l,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(l=r[A],l!=null&&$e(t,i,A,l,r,null))}function j1(t,i,r,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,A=null,I=null,z=null,K=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=X;default:l.hasOwnProperty(H)||$e(t,i,H,null,l,X)}}for(var q in l){var H=l[q];if(X=r[q],l.hasOwnProperty(q)&&(H!=null||X!=null))switch(q){case"type":d=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":K=H;break;case"value":E=H;break;case"defaultValue":A=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:H!==X&&$e(t,i,q,H,l,X)}}hn(t,E,A,I,z,K,d,h);return;case"select":H=E=A=q=null;for(d in r)if(I=r[d],r.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=r[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":A=d;break;case"multiple":E=d;default:d!==I&&$e(t,i,h,d,l,I)}i=A,r=E,l=H,q!=null?Si(t,!!r,q,!1):!!l!=!!r&&(i!=null?Si(t,!!r,i,!0):Si(t,!!r,r?[]:"",!1));return;case"textarea":H=q=null;for(A in r)if(h=r[A],r.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:$e(t,i,A,null,l,h)}for(E in l)if(h=l[E],d=r[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&$e(t,i,E,h,l,d)}Ye(t,q,H);return;case"option":for(var ye in r)if(q=r[ye],r.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:$e(t,i,ye,null,l,q)}for(I in l)if(q=l[I],H=r[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$e(t,i,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in r)q=r[de],r.hasOwnProperty(de)&&q!=null&&!l.hasOwnProperty(de)&&$e(t,i,de,null,l,q);for(z in l)if(q=l[z],H=r[z],l.hasOwnProperty(z)&&q!==H&&(q!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:$e(t,i,z,q,l,H)}return;default:if(bo(i)){for(var Je in r)q=r[Je],r.hasOwnProperty(Je)&&q!==void 0&&!l.hasOwnProperty(Je)&&gd(t,i,Je,void 0,l,q);for(K in l)q=l[K],H=r[K],!l.hasOwnProperty(K)||q===H||q===void 0&&H===void 0||gd(t,i,K,q,l,H);return}}for(var k in r)q=r[k],r.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&$e(t,i,k,null,l,q);for(X in l)q=l[X],H=r[X],!l.hasOwnProperty(X)||q===H||q==null&&H==null||$e(t,i,X,q,l,H)}var pd=null,yd=null;function dc(t){return t.nodeType===9?t:t.ownerDocument}function s_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function _d(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var vd=null;function U1(){var t=window.event;return t&&t.type==="popstate"?t===vd?!1:(vd=t,!0):(vd=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(t){return o_.resolve(null).then(t).catch(B1)}:r_;function B1(t){setTimeout(function(){throw t})}function Ts(t){return t==="head"}function l_(t,i){var r=i,l=0,h=0;do{var d=r.nextSibling;if(t.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(0<l&&8>l){r=l;var E=t.ownerDocument;if(r&1&&ul(E.documentElement),r&2&&ul(E.body),r&4)for(r=E.head,ul(r),E=r.firstChild;E;){var A=E.nextSibling,I=E.nodeName;E[na]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&E.rel.toLowerCase()==="stylesheet"||r.removeChild(E),E=A}}if(h===0){t.removeChild(d),yl(i);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=d}while(r);yl(i)}function Ed(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ed(r),ns(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function q1(t,i,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[na])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function H1(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function F1(t,i){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")i();else{var l=function(){i(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ad=null;function u_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(i===0)return t;i--}else r==="/$"&&i++}t=t.previousSibling}return null}function c_(t,i,r){switch(i=dc(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ns(t)}var On=new Map,h_=new Set;function mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=ne.d;ne.d={f:G1,r:K1,D:Q1,C:Y1,L:X1,m:$1,X:Z1,S:J1,M:W1};function G1(){var t=qi.f(),i=ac();return t||i}function K1(t){var i=Qn(t);i!==null&&i.tag===5&&i.type==="form"?Dp(i):qi.r(t)}var Mr=typeof document>"u"?null:document;function f_(t,i,r){var l=Mr;if(l&&typeof i=="string"&&i){var h=yt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),h_.has(h)||(h_.add(h),t={rel:t,crossOrigin:r,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Bt(i,"link",t),ht(i),l.head.appendChild(i)))}}function Q1(t){qi.D(t),f_("dns-prefetch",t,null)}function Y1(t,i){qi.C(t,i),f_("preconnect",t,i)}function X1(t,i,r){qi.L(t,i,r);var l=Mr;if(l&&t&&i){var h='link[rel="preload"][as="'+yt(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+yt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+yt(r.imageSizes)+'"]')):h+='[href="'+yt(t)+'"]';var d=h;switch(i){case"style":d=Vr(t);break;case"script":d=kr(t)}On.has(d)||(t=T({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(cl(d))||i==="script"&&l.querySelector(hl(d))||(i=l.createElement("link"),Bt(i,"link",t),ht(i),l.head.appendChild(i)))}}function $1(t,i){qi.m(t,i);var r=Mr;if(r&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+yt(l)+'"][href="'+yt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=kr(t)}if(!On.has(d)&&(t=T({rel:"modulepreload",href:t},i),On.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(hl(d)))return}l=r.createElement("link"),Bt(l,"link",t),ht(l),r.head.appendChild(l)}}}function J1(t,i,r){qi.S(t,i,r);var l=Mr;if(l&&t){var h=Wt(l).hoistableStyles,d=Vr(t);i=i||"default";var E=h.get(d);if(!E){var A={loading:0,preload:null};if(E=l.querySelector(cl(d)))A.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},r),(r=On.get(d))&&Sd(t,r);var I=E=l.createElement("link");ht(I),Bt(I,"link",t),I._p=new Promise(function(z,K){I.onload=z,I.onerror=K}),I.addEventListener("load",function(){A.loading|=1}),I.addEventListener("error",function(){A.loading|=2}),A.loading|=4,gc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:A},h.set(d,E)}}}function Z1(t,i){qi.X(t,i);var r=Mr;if(r&&t){var l=Wt(r).hoistableScripts,h=kr(t),d=l.get(h);d||(d=r.querySelector(hl(h)),d||(t=T({src:t,async:!0},i),(i=On.get(h))&&bd(t,i),d=r.createElement("script"),ht(d),Bt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function W1(t,i){qi.M(t,i);var r=Mr;if(r&&t){var l=Wt(r).hoistableScripts,h=kr(t),d=l.get(h);d||(d=r.querySelector(hl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=On.get(h))&&bd(t,i),d=r.createElement("script"),ht(d),Bt(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function d_(t,i,r,l){var h=(h=ve.current)?mc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Vr(r.href),r=Wt(h).hoistableStyles,l=r.get(i),l||(l={type:"style",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Vr(r.href);var d=Wt(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(cl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),On.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(t,r),d||eA(h,t,r,E.state))),i&&l===null)throw Error(a(528,""));return E}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=kr(r),r=Wt(h).hoistableScripts,l=r.get(i),l||(l={type:"script",instance:null,count:0,state:null},r.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Vr(t){return'href="'+yt(t)+'"'}function cl(t){return'link[rel="stylesheet"]['+t+"]"}function m_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function eA(t,i,r,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Bt(i,"link",r),ht(i),t.head.appendChild(i))}function kr(t){return'[src="'+yt(t)+'"]'}function hl(t){return"script[async]"+t}function g_(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+yt(r.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=T({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),Bt(l,"style",h),gc(l,r.precedence,t),i.instance=l;case"stylesheet":h=Vr(r.href);var d=t.querySelector(cl(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=m_(r),(h=On.get(h))&&Sd(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var E=d;return E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),Bt(d,"link",l),i.state.loading|=4,gc(d,r.precedence,t),i.instance=d;case"script":return d=kr(r.src),(h=t.querySelector(hl(d)))?(i.instance=h,ht(h),h):(l=r,(h=On.get(d))&&(l=T({},r),bd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),Bt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,gc(l,r.precedence,t));return i.instance}function gc(t,i,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var A=l[E];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function Sd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var pc=null;function p_(t,i,r){if(pc===null){var l=new Map,h=pc=new Map;h.set(r,l)}else h=pc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[na]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var A=l.get(E);A?A.push(d):l.set(E,[d])}}return l}function y_(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function tA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function __(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var fl=null;function nA(){}function iA(t,i,r){if(fl===null)throw Error(a(475));var l=fl;if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Vr(r.href),d=t.querySelector(cl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=yc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,r=m_(r),(h=On.get(h))&&Sd(r,h),d=d.createElement("link"),ht(d);var E=d;E._p=new Promise(function(A,I){E.onload=A,E.onerror=I}),Bt(d,"link",r),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=yc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function sA(){if(fl===null)throw Error(a(475));var t=fl;return t.stylesheets&&t.count===0&&wd(t,t.stylesheets),0<t.count?function(i){var r=setTimeout(function(){if(t.stylesheets&&wd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r)}}:null}function yc(){if(this.count--,this.count===0){if(this.stylesheets)wd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function wd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,i.forEach(aA,t),_c=null,yc.call(t))}function aA(t,i){if(!(i.state.loading&4)){var r=_c.get(t);if(r)var l=r.get(null);else{r=new Map,_c.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(r.set(E.dataset.precedence,E),l=E)}l&&r.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=r.get(E)||l,d===l&&r.set(null,h),r.set(E,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var dl={$$typeof:fe,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function rA(t,i,r,l,h,d,E,A){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function v_(t,i,r,l,h,d,E,A,I,z,K,X){return t=new rA(t,i,r,E,A,I,z,X),i=1,d===!0&&(i|=24),d=dn(3,null,null,i),t.current=d,d.stateNode=t,i=rf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:i},cf(d),t}function E_(t){return t?(t=fr,t):fr}function T_(t,i,r,l,h,d){h=E_(h),l.context===null?l.context=h:l.pendingContext=h,l=ls(i),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=us(t,l,i),r!==null&&(_n(r,t,i),Ho(r,t,i))}function A_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function Rd(t,i){A_(t,i),(t=t.alternate)&&A_(t,i)}function S_(t){if(t.tag===13){var i=hr(t,67108864);i!==null&&_n(i,t,67108864),Rd(t,67108864)}}var vc=!0;function oA(t,i,r,l){var h=G.T;G.T=null;var d=ne.p;try{ne.p=2,Id(t,i,r,l)}finally{ne.p=d,G.T=h}}function lA(t,i,r,l){var h=G.T;G.T=null;var d=ne.p;try{ne.p=8,Id(t,i,r,l)}finally{ne.p=d,G.T=h}}function Id(t,i,r,l){if(vc){var h=Nd(l);if(h===null)md(t,i,l,Ec,r),w_(t,l);else if(cA(h,t,i,r,l))l.stopPropagation();else if(w_(t,l),i&4&&-1<uA.indexOf(t)){for(;h!==null;){var d=Qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=kn(d.pendingLanes);if(E!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var I=1<<31-Kt(E);A.entanglements[1]|=I,E&=~I}oi(d),(Ge&6)===0&&(ic=En()+500,rl(0))}}break;case 13:A=hr(d,2),A!==null&&_n(A,d,2),ac(),Rd(d,2)}if(d=Nd(l),d===null&&md(t,i,l,Ec,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else md(t,i,l,null,r)}}function Nd(t){return t=Sn(t),Cd(t)}var Ec=null;function Cd(t){if(Ec=null,t=Ei(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=f(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ec=t,null}function b_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dh()){case co:return 2;case Fa:return 8;case Js:case Oh:return 32;case Ga:return 268435456;default:return 32}default:return 32}}var xd=!1,As=null,Ss=null,bs=null,ml=new Map,gl=new Map,ws=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(t,i){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(i.pointerId)}}function pl(t,i,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Qn(i),i!==null&&S_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function cA(t,i,r,l,h){switch(i){case"focusin":return As=pl(As,t,i,r,l,h),!0;case"dragenter":return Ss=pl(Ss,t,i,r,l,h),!0;case"mouseover":return bs=pl(bs,t,i,r,l,h),!0;case"pointerover":var d=h.pointerId;return ml.set(d,pl(ml.get(d)||null,t,i,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,gl.set(d,pl(gl.get(d)||null,t,i,r,l,h)),!0}return!1}function R_(t){var i=Ei(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=f(r),i!==null){t.blockedOn=i,au(t.priority,function(){if(r.tag===13){var l=yn();l=Wi(l);var h=hr(r,l);h!==null&&_n(h,r,l),Rd(r,l)}});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Nd(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);bi=l,r.target.dispatchEvent(l),bi=null}else return i=Qn(r),i!==null&&S_(i),t.blockedOn=r,!1;i.shift()}return!0}function I_(t,i,r){Tc(t)&&r.delete(i)}function hA(){xd=!1,As!==null&&Tc(As)&&(As=null),Ss!==null&&Tc(Ss)&&(Ss=null),bs!==null&&Tc(bs)&&(bs=null),ml.forEach(I_),gl.forEach(I_)}function Ac(t,i){t.blockedOn===i&&(t.blockedOn=null,xd||(xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hA)))}var Sc=null;function N_(t){Sc!==t&&(Sc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===t&&(Sc=null);for(var i=0;i<t.length;i+=3){var r=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Cd(l||r)===null)continue;break}var d=Qn(r);d!==null&&(t.splice(i,3),i-=3,Cf(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function yl(t){function i(I){return Ac(I,t)}As!==null&&Ac(As,t),Ss!==null&&Ac(Ss,t),bs!==null&&Ac(bs,t),ml.forEach(i),gl.forEach(i);for(var r=0;r<ws.length;r++){var l=ws[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ws.length&&(r=ws[0],r.blockedOn===null);)R_(r),r.blockedOn===null&&ws.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],E=h[pt]||null;if(typeof d=="function")E||N_(r);else if(E){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[pt]||null)A=E.formAction;else if(Cd(h)!==null)continue}else A=E.action;typeof A=="function"?r[l+1]=A:(r.splice(l,3),l-=3),N_(r)}}}function Dd(t){this._internalRoot=t}bc.prototype.render=Dd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,l=yn();T_(r,l,t,i,null,null)},bc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;T_(t.current,2,null,t,null,null),ac(),i[Tn]=null}};function bc(t){this._internalRoot=t}bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=es();t={blockedOn:null,target:t,priority:i};for(var r=0;r<ws.length&&i!==0&&i<ws[r].priority;r++);ws.splice(r,0,t),r===0&&R_(t)}};var C_=e.version;if(C_!=="19.1.0")throw Error(a(527,C_,"19.1.0"));ne.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var fA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{lt=wc.inject(fA),Fe=wc}catch{}}return vl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var r=!1,l="",h=Gp,d=Kp,E=Qp,A=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=v_(t,1,!1,null,null,r,l,h,d,E,A,null),t[Tn]=i.current,dd(t),new Dd(i)},vl.hydrateRoot=function(t,i,r){if(!o(t))throw Error(a(299));var l=!1,h="",d=Gp,E=Kp,A=Qp,I=null,z=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(E=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(I=r.unstable_transitionCallbacks),r.formState!==void 0&&(z=r.formState)),i=v_(t,1,!0,i,r??null,l,h,d,E,A,I,z),i.context=E_(null),r=i.current,l=yn(),l=Wi(l),h=ls(l),h.callback=null,us(r,h,l),r=l,i.current.lanes=r,vi(i,r),oi(i),t[Tn]=i.current,dd(t),new bc(i)},vl.version="19.1.0",vl}var L_;function AA(){if(L_)return Vd.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=TA(),Vd.exports}var SA=AA();const gE=oe.createContext(void 0),bA=()=>{};var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},wA=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const o=s[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],m=s[n++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[n++],f=s[n++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,m=f?s[o+1]:0,y=o+2<s.length,p=y?s[o+2]:0,T=c>>2,w=(c&3)<<4|m>>4;let b=(m&15)<<2|p>>6,L=p&63;y||(L=64,f||(b=64)),a.push(n[T],n[w],n[b],n[L])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(pE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):wA(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const p=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||p==null||w==null)throw new RA;const b=c<<2|m>>4;if(a.push(b),p!==64){const L=m<<4&240|p>>2;if(a.push(L),w!==64){const B=p<<6&192|w;a.push(B)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IA=function(s){const e=pE(s);return yE.encodeByteArray(e,!0)},Fc=function(s){return IA(s).replace(/\./g,"")},_E=function(s){try{return yE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=()=>NA().__FIREBASE_DEFAULTS__,xA=()=>{if(typeof process>"u"||typeof z_>"u")return;const s=z_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},DA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&_E(s[1]);return e&&JSON.parse(e)},ch=()=>{try{return bA()||CA()||xA()||DA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},vE=s=>ch()?.emulatorHosts?.[s],OA=s=>{const e=vE(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},EE=()=>ch()?.config,TE=s=>ch()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function AE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Fc(JSON.stringify(n)),Fc(JSON.stringify(f)),""].join(".")}const Nl={};function kA(){const s={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?s.emulator.push(e):s.prod.push(e);return s}function PA(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let B_=!1;function SE(s,e){if(typeof window>"u"||typeof document>"u"||!Wr(window.location.host)||Nl[s]===e||Nl[s]||B_)return;Nl[s]=e;function n(b){return`__firebase__banner__${b}`}const a="__firebase__banner",c=kA().prod.length>0;function f(){const b=document.getElementById(a);b&&b.remove()}function m(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,L){b.setAttribute("width","24"),b.setAttribute("id",L),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{B_=!0,f()},b}function T(b,L){b.setAttribute("id",L),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function w(){const b=PA(a),L=n("text"),B=document.getElementById(L)||document.createElement("span"),te=n("learnmore"),Z=document.getElementById(te)||document.createElement("a"),Ee=n("preprendIcon"),_e=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const fe=b.element;m(fe),T(Z,te);const He=p();y(_e,Ee),fe.append(_e,B,Z,He),document.body.appendChild(fe)}c?(B.innerText="Preview backend disconnected.",_e.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_e.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function UA(){const s=ch()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){const s=Zt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function HA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="FirebaseError";class Ji extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=KA,Object.setPrototypeOf(this,Ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?QA(c,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ji(o,m,a)}}function QA(s,e){return s.replace(YA,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const YA=/\{\$([^}]+)}/g;function XA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ka(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const c=s[o],f=e[o];if(q_(c)&&q_(f)){if(!ka(c,f))return!1}else if(c!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function q_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Al(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Sl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function $A(s,e){const n=new JA(s,e);return n.subscribe.bind(n)}class JA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");ZA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZA(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(s){return s&&s._delegate?s._delegate:s}class Pa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new MA;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tS(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&f.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:eS(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eS(s){return s===Da?void 0:s}function tS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xe||(xe={}));const iS={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},sS=xe.INFO,aS={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},rS=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=aS[e];if(o)console[o](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rm{constructor(e){this.name=e,this._logLevel=sS,this._logHandler=rS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const oS=(s,e)=>e.some(n=>s instanceof n);let H_,F_;function lS(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bE=new WeakMap,Jd=new WeakMap,wE=new WeakMap,Ld=new WeakMap,Im=new WeakMap;function cS(s){const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(Ms(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&bE.set(n,s)}).catch(()=>{}),Im.set(e,s),e}function hS(s){if(Jd.has(s))return;const e=new Promise((n,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Jd.set(s,e)}let Zd={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Jd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||wE.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function fS(s){Zd=s(Zd)}function dS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(zd(this),e,...n);return wE.set(a,e.sort?e.sort():[e]),Ms(a)}:uS().includes(s)?function(...e){return s.apply(zd(this),e),Ms(bE.get(this))}:function(...e){return Ms(s.apply(zd(this),e))}}function mS(s){return typeof s=="function"?dS(s):(s instanceof IDBTransaction&&hS(s),oS(s,lS())?new Proxy(s,Zd):s)}function Ms(s){if(s instanceof IDBRequest)return cS(s);if(Ld.has(s))return Ld.get(s);const e=mS(s);return e!==s&&(Ld.set(s,e),Im.set(e,s)),e}const zd=s=>Im.get(s);function gS(s,e,{blocked:n,upgrade:a,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),m=Ms(f);return a&&f.addEventListener("upgradeneeded",y=>{a(Ms(f.result),y.oldVersion,y.newVersion,Ms(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const pS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Bd=new Map;function G_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=yS.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||pS.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let p=y.store;return a&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&y.done]))[0]};return Bd.set(e,c),c}fS(s=>({...s,get:(e,n,a)=>G_(e,n)||s.get(e,n,a),has:(e,n)=>!!G_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vS(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function vS(s){return s.getComponent()?.type==="VERSION"}const Wd="@firebase/app",K_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new Rm("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",AS="@firebase/analytics",SS="@firebase/app-check-compat",bS="@firebase/app-check",wS="@firebase/auth",RS="@firebase/auth-compat",IS="@firebase/database",NS="@firebase/data-connect",CS="@firebase/database-compat",xS="@firebase/functions",DS="@firebase/functions-compat",OS="@firebase/installations",MS="@firebase/installations-compat",VS="@firebase/messaging",kS="@firebase/messaging-compat",PS="@firebase/performance",jS="@firebase/performance-compat",US="@firebase/remote-config",LS="@firebase/remote-config-compat",zS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",FS="@firebase/firestore-compat",GS="firebase",KS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",QS={[Wd]:"fire-core",[ES]:"fire-core-compat",[AS]:"fire-analytics",[TS]:"fire-analytics-compat",[bS]:"fire-app-check",[SS]:"fire-app-check-compat",[wS]:"fire-auth",[RS]:"fire-auth-compat",[IS]:"fire-rtdb",[NS]:"fire-data-connect",[CS]:"fire-rtdb-compat",[xS]:"fire-fn",[DS]:"fire-fn-compat",[OS]:"fire-iid",[MS]:"fire-iid-compat",[VS]:"fire-fcm",[kS]:"fire-fcm-compat",[PS]:"fire-perf",[jS]:"fire-perf-compat",[US]:"fire-rc",[LS]:"fire-rc-compat",[zS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[FS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,YS=new Map,tm=new Map;function Q_(s,e){try{s.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function Kr(s){const e=s.name;if(tm.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,s);for(const n of Gc.values())Q_(n,s);for(const n of YS.values())Q_(n,s);return!0}function Nm(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Mn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new Hl("app","Firebase",XS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=KS;function RE(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:em,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Vs.create("bad-app-name",{appName:String(o)});if(n||(n=EE()),!n)throw Vs.create("no-options");const c=Gc.get(o);if(c){if(ka(n,c.options)&&ka(a,c.config))return c;throw Vs.create("duplicate-app",{appName:o})}const f=new nS(o);for(const y of tm.values())f.addComponent(y);const m=new $S(n,a,f);return Gc.set(o,m),m}function IE(s=em){const e=Gc.get(s);if(!e&&s===em&&EE())return RE();if(!e)throw Vs.create("no-app",{appName:s});return e}function ks(s,e,n){let a=QS[s]??s;n&&(a+=`-${n}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(f.join(" "));return}Kr(new Pa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS="firebase-heartbeat-database",ZS=1,Vl="firebase-heartbeat-store";let qd=null;function NE(){return qd||(qd=gS(JS,ZS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Vs.create("idb-open",{originalErrorMessage:s.message})})),qd}async function WS(s){try{const n=(await NE()).transaction(Vl),a=await n.objectStore(Vl).get(CE(s));return await n.done,a}catch(e){if(e instanceof Ji)Qi.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e?.message});Qi.warn(n.message)}}}async function Y_(s,e){try{const a=(await NE()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(e,CE(s)),await a.done}catch(n){if(n instanceof Ji)Qi.warn(n.message);else{const a=Vs.create("idb-set",{originalErrorMessage:n?.message});Qi.warn(a.message)}}}function CE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=1024,tb=30;class nb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sb(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>tb){const o=ab(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Qi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=X_(),{heartbeatsToSend:n,unsentEntries:a}=ib(this._heartbeatsCache.heartbeats),o=Fc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Qi.warn(e),""}}}function X_(){return new Date().toISOString().substring(0,10)}function ib(s,e=eb){const n=[];let a=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),$_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$_(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class sb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WS(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $_(s){return Fc(JSON.stringify({version:2,heartbeats:s})).length}function ab(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(s){Kr(new Pa("platform-logger",e=>new _S(e),"PRIVATE")),Kr(new Pa("heartbeat",e=>new nb(e),"PRIVATE")),ks(Wd,K_,s),ks(Wd,K_,"esm2020"),ks("fire-js","")}rb("");function xE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ob=xE,DE=new Hl("auth","Firebase",xE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc=new Rm("@firebase/auth");function lb(s,...e){Kc.logLevel<=xe.WARN&&Kc.warn(`Auth (${eo}): ${s}`,...e)}function Vc(s,...e){Kc.logLevel<=xe.ERROR&&Kc.error(`Auth (${eo}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(s,...e){throw Cm(s,...e)}function ui(s,...e){return Cm(s,...e)}function OE(s,e,n){const a={...ob(),[e]:n};return new Hl("auth","Firebase",a).create(e,{appName:s.name})}function Gi(s){return OE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cm(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return DE.create(s,...e)}function ge(s,e,...n){if(!s)throw Cm(e,...n)}function Hi(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Vc(e),new Error(e)}function Yi(s,e){s||Hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){return typeof self<"u"&&self.location?.href||""}function ub(){return J_()==="http:"||J_()==="https:"}function J_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ub()||zA()||"connection"in navigator)?navigator.onLine:!0}function hb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Yi(n>e,"Short delay should be less than long delay!"),this.isMobile=jA()||BA()}get(){return cb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(s,e){Yi(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mb=new Gl(3e4,6e4);function Fs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Gs(s,e,n,a,o={}){return VE(s,o,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const m=Fl({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:y,...c};return LA()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&Wr(s.emulatorConfig.host)&&(p.credentials="include"),ME.fetch()(await kE(s,s.config.apiHost,n,m),p)})}async function VE(s,e,n){s._canInitEmulator=!1;const a={...fb,...e};try{const o=new pb(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Rc(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[y,p]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Rc(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw Rc(s,"user-disabled",f);const T=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw OE(s,T,p);Hn(s,T)}}catch(o){if(o instanceof Ji)throw o;Hn(s,"network-request-failed",{message:String(o)})}}async function Kl(s,e,n,a,o={}){const c=await Gs(s,e,n,a,o);return"mfaPendingCredential"in c&&Hn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function kE(s,e,n,a){const o=`${e}${n}?${a}`,c=s,f=c.config.emulator?xm(s.config,o):`${s.config.apiScheme}://${o}`;return db.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function gb(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ui(this.auth,"network-request-failed")),mb.get())})}}function Rc(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ui(s,e,a);return o.customData._tokenResponse=n,o}function Z_(s){return s!==void 0&&s.enterprise!==void 0}class yb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gb(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _b(s,e){return Gs(s,"GET","/v2/recaptchaConfig",Fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(s,e){return Gs(s,"POST","/v1/accounts:delete",e)}async function Qc(s,e){return Gs(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Eb(s,e=!1){const n=Ft(s),a=await n.getIdToken(e),o=Dm(a);ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:a,authTime:Cl(Hd(o.auth_time)),issuedAtTime:Cl(Hd(o.iat)),expirationTime:Cl(Hd(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(s){return Number(s)*1e3}function Dm(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_E(n);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function W_(s){const e=Dm(s);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kl(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ji&&Tb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Tb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cl(this.lastLoginAt),this.creationTime=Cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(s){const e=s.auth,n=await s.getIdToken(),a=await kl(s,Qc(e,{idToken:n}));ge(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?PE(o.providerUserInfo):[],f=bb(s.providerData,c),m=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!f?.length,p=m?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function Sb(s){const e=Ft(s);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bb(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function PE(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(s,e){const n=await VE(s,{},async()=>{const a=Fl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await kE(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:a};return s.emulatorConfig&&Wr(s.emulatorConfig.host)&&(y.credentials="include"),ME.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Rb(s,e){return Gs(s,"POST","/v2/accounts:revokeToken",Fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const n=W_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:c}=await wb(e,n);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:c}=n,f=new Br;return a&&(ge(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ge(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(ge(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Br,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(s,e){ge(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Bn{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Ab(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await kl(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Eb(this,e)}reload(){return Sb(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Yc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await kl(this,vb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,p=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:b,isAnonymous:L,providerData:B,stsTokenManager:te}=n;ge(w&&te,e,"internal-error");const Z=Br.fromJSON(this.name,te);ge(typeof w=="string",e,"internal-error"),Is(a,e.name),Is(o,e.name),ge(typeof b=="boolean",e,"internal-error"),ge(typeof L=="boolean",e,"internal-error"),Is(c,e.name),Is(f,e.name),Is(m,e.name),Is(y,e.name),Is(p,e.name),Is(T,e.name);const Ee=new Bn({uid:w,auth:e,email:o,emailVerified:b,displayName:a,isAnonymous:L,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:Z,createdAt:p,lastLoginAt:T});return B&&Array.isArray(B)&&(Ee.providerData=B.map(_e=>({..._e}))),y&&(Ee._redirectEventId=y),Ee}static async _fromIdTokenResponse(e,n,a=!1){const o=new Br;o.updateFromServerResponse(n);const c=new Bn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Yc(c),c}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];ge(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?PE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,m=new Br;m.updateFromIdToken(a);const y=new Bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,p),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new Map;function Fi(s){Yi(s instanceof Function,"Expected a class definition");let e=ev.get(s);return e?(Yi(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,ev.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jE.type="NONE";const tv=jE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(s,e,n){return`firebase:${s}:${e}:${n}`}class qr{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=kc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qc(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new qr(Fi(tv),e,a);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||Fi(tv);const f=kc(a,e.config.apiKey,e.name);let m=null;for(const p of n)try{const T=await p._get(f);if(T){let w;if(typeof T=="string"){const b=await Qc(e,{idToken:T}).catch(()=>{});if(!b)break;w=await Bn._fromGetAccountInfoResponse(e,b,T)}else w=Bn._fromJSON(e,T);p!==c&&(m=w),c=p;break}}catch{}const y=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new qr(c,e,a):(c=y[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==c)try{await p._remove(f)}catch{}})),new qr(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HE(e))return"Blackberry";if(FE(e))return"Webos";if(LE(e))return"Safari";if((e.includes("chrome/")||zE(e))&&!e.includes("edge/"))return"Chrome";if(qE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function UE(s=Zt()){return/firefox\//i.test(s)}function LE(s=Zt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zE(s=Zt()){return/crios\//i.test(s)}function BE(s=Zt()){return/iemobile/i.test(s)}function qE(s=Zt()){return/android/i.test(s)}function HE(s=Zt()){return/blackberry/i.test(s)}function FE(s=Zt()){return/webos/i.test(s)}function Om(s=Zt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ib(s=Zt()){return Om(s)&&!!window.navigator?.standalone}function Nb(){return qA()&&document.documentMode===10}function GE(s=Zt()){return Om(s)||qE(s)||FE(s)||HE(s)||/windows phone/i.test(s)||BE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(s,e=[]){let n;switch(s){case"Browser":n=nv(Zt());break;case"Worker":n=`${nv(Zt())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((f,m)=>{try{const y=e(c);f(y)}catch(y){m(y)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(s,e={}){return Gs(s,"GET","/v2/passwordPolicy",Fs(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=6;class Ob{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Db,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new Cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qr.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qc(this,{idToken:e}),a=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===f)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Gi(this));const n=e?Ft(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xb(this),n=new Ob(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await Rb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await qr.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lb(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ba(s){return Ft(s)}class iv{constructor(e){this.auth=e,this.observer=null,this.addObserver=$A(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vb(s){hh=s}function QE(s){return hh.loadJS(s)}function kb(){return hh.recaptchaEnterpriseScript}function Pb(){return hh.gapiScript}function jb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Ub{constructor(){this.enterprise=new Lb}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Lb{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zb="recaptcha-enterprise",YE="NO_RECAPTCHA";class Bb{constructor(e){this.type=zb,this.auth=Ba(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{_b(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const p=new yb(y);return c.tenantId==null?c._agentRecaptchaConfig=p:c._tenantRecaptchaConfigs[c.tenantId]=p,f(p.siteKey)}}).catch(y=>{m(y)})})}function o(c,f,m){const y=window.grecaptcha;Z_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(p=>{f(p)}).catch(()=>{f(YE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Ub().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{a(this.auth).then(m=>{if(!n&&Z_(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=kb();y.length!==0&&(y+=m),QE(y).then(()=>{o(m,c,f)}).catch(p=>{f(p)})}}).catch(m=>{f(m)})})}}async function sv(s,e,n,a=!1,o=!1){const c=new Bb(s);let f;if(o)f=YE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,p=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function sm(s,e,n,a,o){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await sv(s,e,n,n==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await sv(s,e,n,n==="getOobCode");return a(s,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(s,e){const n=Nm(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ka(c,e??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:e})}function Hb(s,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Fi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function Fb(s,e,n){const a=Ba(s);ge(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=XE(e),{host:f,port:m}=Gb(e),y=m===null?"":`:${m}`,p={url:`${c}//${f}${y}/`},T=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ge(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ge(ka(p,a.config.emulator)&&ka(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Wr(f)?(AE(`${c}//${f}${y}`),SE("Auth",!0)):Kb()}function XE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function Gb(s){const e=XE(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:av(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:av(f)}}}function av(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Kb(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hi("not implemented")}_getIdTokenResponse(e){return Hi("not implemented")}_linkToIdToken(e,n){return Hi("not implemented")}_getReauthenticationResolver(e){return Hi("not implemented")}}async function Qb(s,e){return Gs(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(s,e){return Kl(s,"POST","/v1/accounts:signInWithPassword",Fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(s,e){return Kl(s,"POST","/v1/accounts:signInWithEmailLink",Fs(s,e))}async function $b(s,e){return Kl(s,"POST","/v1/accounts:signInWithEmailLink",Fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Mm{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Pl(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Pl(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,n,"signInWithPassword",Yb);case"emailLink":return Xb(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,a,"signUpPassword",Qb);case"emailLink":return $b(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(s,e){return Kl(s,"POST","/v1/accounts:signInWithIdp",Fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="http://localhost";class ja extends Mm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=n;if(!a||!o)return null;const f=new ja(a,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Hr(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Hr(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hr(e,n)}buildRequest(){const e={requestUri:Jb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Fl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Wb(s){const e=Al(Sl(s)).link,n=e?Al(Sl(e)).deep_link_id:null,a=Al(Sl(s)).deep_link_id;return(a?Al(Sl(a)).link:null)||a||n||e||s}class Vm{constructor(e){const n=Al(Sl(e)),a=n.apiKey??null,o=n.oobCode??null,c=Zb(n.mode??null);ge(a&&o&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Wb(e);try{return new Vm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return Pl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Vm.parseLink(n);return ge(a,"argument-error"),Pl._fromEmailAndCode(e,a.code,a.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends $E{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends Ql{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ja._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Cs.credential(n,a)}catch{return null}}}Cs.GOOGLE_SIGN_IN_METHOD="google.com";Cs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Ql{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Ql{constructor(){super("twitter.com")}static credential(e,n){return ja._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ds.credential(n,a)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(s,e){return Kl(s,"POST","/v1/accounts:signUp",Fs(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const c=await Bn._fromIdTokenResponse(e,a,o),f=rv(a);return new Ua({user:c,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=rv(a);return new Ua({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function rv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Ji{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Xc(e,n,a,o)}}function JE(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(s,c,e,a):c})}async function tw(s,e,n=!1){const a=await kl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Ua._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nw(s,e,n=!1){const{auth:a}=s;if(Mn(a.app))return Promise.reject(Gi(a));const o="reauthenticate";try{const c=await kl(s,JE(a,o,e,s),n);ge(c.idToken,a,"internal-error");const f=Dm(c.idToken);ge(f,a,"internal-error");const{sub:m}=f;return ge(s.uid===m,a,"user-mismatch"),Ua._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Hn(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(s,e,n=!1){if(Mn(s.app))return Promise.reject(Gi(s));const a="signIn",o=await JE(s,a,e),c=await Ua._fromIdTokenResponse(s,a,o);return n||await s._updateCurrentUser(c.user),c}async function iw(s,e){return ZE(Ba(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(s){const e=Ba(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sw(s,e,n){if(Mn(s.app))return Promise.reject(Gi(s));const a=Ba(s),f=await sm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ew).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&WE(s),y}),m=await Ua._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function aw(s,e,n){return Mn(s.app)?Promise.reject(Gi(s)):iw(Ft(s),to.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&WE(s),a})}function rw(s,e,n,a){return Ft(s).onIdTokenChanged(e,n,a)}function ow(s,e,n){return Ft(s).beforeAuthStateChanged(e,n)}function lw(s){return Ft(s).signOut()}const $c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($c,"1"),this.storage.removeItem($c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=1e3,cw=10;class t0 extends e0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);Nb()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cw):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},uw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}t0.type="LOCAL";const hw=t0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0 extends e0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}n0.type="SESSION";const i0=n0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new fh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,c)),y=await fw(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,y)=>{const p=km("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(w){const b=w;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(b.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(){return window}function mw(s){ci().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(){return typeof ci().WorkerGlobalScope<"u"&&typeof ci().importScripts=="function"}async function gw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pw(){return navigator?.serviceWorker?.controller||null}function yw(){return s0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="firebaseLocalStorageDb",_w=1,Jc="firebaseLocalStorage",r0="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(s,e){return s.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function vw(){const s=indexedDB.deleteDatabase(a0);return new Yl(s).toPromise()}function am(){const s=indexedDB.open(a0,_w);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Jc,{keyPath:r0})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Jc)?e(a):(a.close(),await vw(),e(await am()))})})}async function ov(s,e,n){const a=dh(s,!0).put({[r0]:e,value:n});return new Yl(a).toPromise()}async function Ew(s,e){const n=dh(s,!1).get(e),a=await new Yl(n).toPromise();return a===void 0?null:a.value}function lv(s,e){const n=dh(s,!0).delete(e);return new Yl(n).toPromise()}const Tw=800,Aw=3;class o0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>Aw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(yw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await gw(),!this.activeServiceWorker)return;this.sender=new dw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await ov(e,$c,"1"),await lv(e,$c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>ov(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Ew(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=dh(o,!1).getAll();return new Yl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o0.type="LOCAL";const Sw=o0;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(s,e){return e?Fi(e):(ge(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Mm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ww(s){return ZE(s.auth,new Pm(s),s.bypassAuthState)}function Rw(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),nw(n,new Pm(s),s.bypassAuthState)}async function Iw(s){const{auth:e,user:n}=s;return ge(n,e,"internal-error"),tw(n,new Pm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e,n,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ww;case"linkViaPopup":case"linkViaRedirect":return Iw;case"reauthViaPopup":case"reauthViaRedirect":return Rw;default:Hn(this.auth,"internal-error")}}resolve(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Gl(2e3,1e4);class zr extends l0{constructor(e,n,a,o,c){super(e,n,o,c),this.provider=a,this.authWindow=null,this.pollId=null,zr.currentPopupAction&&zr.currentPopupAction.cancel(),zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Yi(this.filter.length===1,"Popup operations only handle one event");const e=km();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Nw.get())};e()}}zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="pendingRedirect",Pc=new Map;class xw extends l0{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Pc.get(this.auth._key());if(!e){try{const a=await Dw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Pc.set(this.auth._key(),e)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dw(s,e){const n=Vw(e),a=Mw(s);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function Ow(s,e){Pc.set(s._key(),e)}function Mw(s){return Fi(s._redirectPersistence)}function Vw(s){return kc(Cw,s.config.apiKey,s.name)}async function kw(s,e,n=!1){if(Mn(s.app))return Promise.reject(Gi(s));const a=Ba(s),o=bw(a,e),f=await new xw(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=600*1e3;class jw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Uw(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!u0(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ui(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Pw&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(e))}saveEventToCache(e){this.cachedEventUids.add(uv(e)),this.lastProcessedEventTime=Date.now()}}function uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function u0({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Uw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(s,e={}){return Gs(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bw=/^https?/;async function qw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Lw(s);for(const n of e)try{if(Hw(n))return}catch{}Hn(s,"unauthorized-domain")}function Hw(s){const e=nm(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!Bw.test(n))return!1;if(zw.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Gl(3e4,6e4);function cv(){const s=ci().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Gw(s){return new Promise((e,n)=>{function a(){cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cv(),n(ui(s,"network-request-failed"))},timeout:Fw.get()})}if(ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ci().gapi?.load)a();else{const o=jb("iframefcb");return ci()[o]=()=>{gapi.load?a():n(ui(s,"network-request-failed"))},QE(`${Pb()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw jc=null,e})}let jc=null;function Kw(s){return jc=jc||Gw(s),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Gl(5e3,15e3),Yw="__/auth/iframe",Xw="emulator/auth/iframe",$w={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zw(s){const e=s.config;ge(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?xm(e,Xw):`https://${s.config.authDomain}/${Yw}`,a={apiKey:e.apiKey,appName:s.name,v:eo},o=Jw.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Fl(a).slice(1)}`}async function Ww(s){const e=await Kw(s),n=ci().gapi;return ge(n,s,"internal-error"),e.open({where:document.body,url:Zw(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$w,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const f=ui(s,"network-request-failed"),m=ci().setTimeout(()=>{c(f)},Qw.get());function y(){ci().clearTimeout(m),o(a)}a.ping(y).then(y,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t2=500,n2=600,i2="_blank",s2="http://localhost";class hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a2(s,e,n,a=t2,o=n2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const y={...e2,width:a.toString(),height:o.toString(),top:c,left:f},p=Zt().toLowerCase();n&&(m=zE(p)?i2:n),UE(p)&&(e=e||s2,y.scrollbars="yes");const T=Object.entries(y).reduce((b,[L,B])=>`${b}${L}=${B},`,"");if(Ib(p)&&m!=="_self")return r2(e||"",m),new hv(null);const w=window.open(e||"",m,T);ge(w,s,"popup-blocked");try{w.focus()}catch{}return new hv(w)}function r2(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="__/auth/handler",l2="emulator/auth/handler",u2=encodeURIComponent("fac");async function fv(s,e,n,a,o,c){ge(s.config.authDomain,s,"auth-domain-config-required"),ge(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:eo,eventId:o};if(e instanceof $E){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",XA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof Ql){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const y=await s._getAppCheckToken(),p=y?`#${u2}=${encodeURIComponent(y)}`:"";return`${c2(s)}?${Fl(m).slice(1)}${p}`}function c2({config:s}){return s.emulator?xm(s,l2):`https://${s.authDomain}/${o2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="webStorageSupport";class h2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i0,this._completeRedirectFn=kw,this._overrideRedirectResult=Ow}async _openPopup(e,n,a,o){Yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await fv(e,n,a,nm(),o);return a2(e,c,km())}async _openRedirect(e,n,a,o){await this._originValidation(e);const c=await fv(e,n,a,nm(),o);return mw(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Yi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Ww(e),a=new jw(e);return n.register("authEvent",o=>(ge(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fd,{type:Fd},o=>{const c=o?.[0]?.[Fd];c!==void 0&&n(!!c),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qw(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GE()||LE()||Om()}}const f2=h2;var dv="@firebase/auth",mv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g2(s){Kr(new Pa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;ge(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KE(s)},p=new Mb(a,o,c,y);return Hb(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Kr(new Pa("auth-internal",e=>{const n=Ba(e.getProvider("auth").getImmediate());return(a=>new d2(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ks(dv,mv,m2(s)),ks(dv,mv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=300,y2=TE("authIdTokenMaxAge")||p2;let gv=null;const _2=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>y2)return;const o=n?.token;gv!==o&&(gv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function v2(s=IE()){const e=Nm(s,"auth");if(e.isInitialized())return e.getImmediate();const n=qb(s,{popupRedirectResolver:f2,persistence:[Sw,hw,i0]}),a=TE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=_2(c.toString());ow(n,f,()=>f(n.currentUser)),rw(n,m=>f(m))}}const o=vE("auth");return o&&Fb(n,`http://${o}`),n}function E2(){return document.getElementsByTagName("head")?.[0]??document}Vb({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=ui("internal-error");c.customData=o,n(c)},a.type="text/javascript",a.charset="UTF-8",E2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g2("Browser");var T2="firebase",A2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ks(T2,A2,"app");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ps,c0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function C(){}C.prototype=R.prototype,V.D=R.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(O,M,P){for(var N=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)N[Pt-2]=arguments[Pt];return R.prototype[M].apply(O,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,C){C||(C=0);var O=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)O[M]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(M=0;16>M;++M)O[M]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=V.g[0],C=V.g[1],M=V.g[2];var P=V.g[3],N=R+(P^C&(M^P))+O[0]+3614090360&4294967295;R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+O[1]+3905402710&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+O[2]+606105819&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+O[3]+3250441966&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(P^C&(M^P))+O[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+O[5]+1200080426&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+O[6]+2821735955&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+O[7]+4249261313&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(P^C&(M^P))+O[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+O[9]+2336552879&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+O[10]+4294925233&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+O[11]+2304563134&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(P^C&(M^P))+O[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=P+(M^R&(C^M))+O[13]+4254626195&4294967295,P=R+(N<<12&4294967295|N>>>20),N=M+(C^P&(R^C))+O[14]+2792965006&4294967295,M=P+(N<<17&4294967295|N>>>15),N=C+(R^M&(P^R))+O[15]+1236535329&4294967295,C=M+(N<<22&4294967295|N>>>10),N=R+(M^P&(C^M))+O[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+O[6]+3225465664&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+O[11]+643717713&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+O[0]+3921069994&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^P&(C^M))+O[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+O[10]+38016083&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+O[15]+3634488961&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+O[4]+3889429448&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^P&(C^M))+O[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+O[14]+3275163606&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+O[3]+4107603335&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+O[8]+1163531501&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(M^P&(C^M))+O[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=P+(C^M&(R^C))+O[2]+4243563512&4294967295,P=R+(N<<9&4294967295|N>>>23),N=M+(R^C&(P^R))+O[7]+1735328473&4294967295,M=P+(N<<14&4294967295|N>>>18),N=C+(P^R&(M^P))+O[12]+2368359562&4294967295,C=M+(N<<20&4294967295|N>>>12),N=R+(C^M^P)+O[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+O[8]+2272392833&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+O[11]+1839030562&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+O[14]+4259657740&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^P)+O[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+O[4]+1272893353&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+O[7]+4139469664&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+O[10]+3200236656&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^P)+O[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+O[0]+3936430074&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+O[3]+3572445317&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+O[6]+76029189&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(C^M^P)+O[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=P+(R^C^M)+O[12]+3873151461&4294967295,P=R+(N<<11&4294967295|N>>>21),N=M+(P^R^C)+O[15]+530742520&4294967295,M=P+(N<<16&4294967295|N>>>16),N=C+(M^P^R)+O[2]+3299628645&4294967295,C=M+(N<<23&4294967295|N>>>9),N=R+(M^(C|~P))+O[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+O[7]+1126891415&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+O[14]+2878612391&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+O[5]+4237533241&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~P))+O[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+O[3]+2399980690&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+O[10]+4293915773&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+O[1]+2240044497&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~P))+O[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+O[15]+4264355552&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+O[6]+2734768916&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+O[13]+1309151649&4294967295,C=M+(N<<21&4294967295|N>>>11),N=R+(M^(C|~P))+O[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=P+(C^(R|~M))+O[11]+3174756917&4294967295,P=R+(N<<10&4294967295|N>>>22),N=M+(R^(P|~C))+O[2]+718787259&4294967295,M=P+(N<<15&4294967295|N>>>17),N=C+(P^(M|~R))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+P&4294967295}a.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var C=R-this.blockSize,O=this.B,M=this.h,P=0;P<R;){if(M==0)for(;P<=C;)o(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<R;)if(O[M++]=V.charCodeAt(P++),M==this.blockSize){o(this,O),M=0;break}}else for(;P<R;)if(O[M++]=V[P++],M==this.blockSize){o(this,O),M=0;break}}this.h=M,this.o+=R},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var C=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=C&255,C/=256;for(this.u(V),V=Array(16),R=C=0;4>R;++R)for(var O=0;32>O;O+=8)V[C++]=this.g[R]>>>O&255;return V};function c(V,R){var C=m;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=R(V)}function f(V,R){this.h=R;for(var C=[],O=!0,M=V.length-1;0<=M;M--){var P=V[M]|0;O&&P==R||(C[M]=P,O=!1)}this.g=C}var m={};function y(V){return-128<=V&&128>V?c(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function p(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return Z(p(-V));for(var R=[],C=1,O=0;V>=C;O++)R[O]=V/C|0,C*=4294967296;return new f(R,0)}function T(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return Z(T(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(R,8)),O=w,M=0;M<V.length;M+=8){var P=Math.min(8,V.length-M),N=parseInt(V.substring(M,M+P),R);8>P?(P=p(Math.pow(R,P)),O=O.j(P).add(p(N))):(O=O.j(C),O=O.add(p(N)))}return O}var w=y(0),b=y(1),L=y(16777216);s=f.prototype,s.m=function(){if(te(this))return-Z(this).m();for(var V=0,R=1,C=0;C<this.g.length;C++){var O=this.i(C);V+=(0<=O?O:4294967296+O)*R,R*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(B(this))return"0";if(te(this))return"-"+Z(this).toString(V);for(var R=p(Math.pow(V,6)),C=this,O="";;){var M=He(C,R).g;C=Ee(C,M.j(R));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=M,B(C))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function B(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function te(V){return V.h==-1}s.l=function(V){return V=Ee(this,V),te(V)?-1:B(V)?0:1};function Z(V){for(var R=V.g.length,C=[],O=0;O<R;O++)C[O]=~V.g[O];return new f(C,~V.h).add(b)}s.abs=function(){return te(this)?Z(this):this},s.add=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0,M=0;M<=R;M++){var P=O+(this.i(M)&65535)+(V.i(M)&65535),N=(P>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=N>>>16,P&=65535,N&=65535,C[M]=N<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Ee(V,R){return V.add(Z(R))}s.j=function(V){if(B(this)||B(V))return w;if(te(this))return te(V)?Z(this).j(Z(V)):Z(Z(this).j(V));if(te(V))return Z(this.j(Z(V)));if(0>this.l(L)&&0>V.l(L))return p(this.m()*V.m());for(var R=this.g.length+V.g.length,C=[],O=0;O<2*R;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var P=this.i(O)>>>16,N=this.i(O)&65535,Pt=V.i(M)>>>16,ot=V.i(M)&65535;C[2*O+2*M]+=N*ot,_e(C,2*O+2*M),C[2*O+2*M+1]+=P*ot,_e(C,2*O+2*M+1),C[2*O+2*M+1]+=N*Pt,_e(C,2*O+2*M+1),C[2*O+2*M+2]+=P*Pt,_e(C,2*O+2*M+2)}for(O=0;O<R;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=R;O<2*R;O++)C[O]=0;return new f(C,0)};function _e(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function fe(V,R){this.g=V,this.h=R}function He(V,R){if(B(R))throw Error("division by zero");if(B(V))return new fe(w,w);if(te(V))return R=He(Z(V),R),new fe(Z(R.g),Z(R.h));if(te(R))return R=He(V,Z(R)),new fe(Z(R.g),R.h);if(30<V.g.length){if(te(V)||te(R))throw Error("slowDivide_ only works with positive integers.");for(var C=b,O=R;0>=O.l(V);)C=Se(C),O=Se(O);var M=ze(C,1),P=ze(O,1);for(O=ze(O,2),C=ze(C,2);!B(O);){var N=P.add(O);0>=N.l(V)&&(M=M.add(C),P=N),O=ze(O,1),C=ze(C,1)}return R=Ee(V,M.j(R)),new fe(M,R)}for(M=w;0<=V.l(R);){for(C=Math.max(1,Math.floor(V.m()/R.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=p(C),N=P.j(R);te(N)||0<N.l(V);)C-=O,P=p(C),N=P.j(R);B(P)&&(P=b),M=M.add(P),V=Ee(V,N)}return new fe(M,V)}s.A=function(V){return He(this,V).h},s.and=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)&V.i(O);return new f(C,this.h&V.h)},s.or=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)|V.i(O);return new f(C,this.h|V.h)},s.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),C=[],O=0;O<R;O++)C[O]=this.i(O)^V.i(O);return new f(C,this.h^V.h)};function Se(V){for(var R=V.g.length+1,C=[],O=0;O<R;O++)C[O]=V.i(O)<<1|V.i(O-1)>>>31;return new f(C,V.h)}function ze(V,R){var C=R>>5;R%=32;for(var O=V.g.length-C,M=[],P=0;P<O;P++)M[P]=0<R?V.i(P+C)>>>R|V.i(P+C+1)<<32-R:V.i(P+C);return new f(M,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,c0=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=T,Ps=f}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h0,bl,f0,Uc,rm,d0,m0,g0;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(u,g){if(g)e:{var v=a;u=u.split(".");for(var S=0;S<u.length-1;S++){var j=u[S];if(!(j in v))break e;v=v[j]}u=u[u.length-1],S=v[u],g=g(S),g!=S&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,S=!1,j={next:function(){if(!S&&v<u.length){var F=v++;return{value:g(F,u[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function p(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function T(u,g,v){return u.call.apply(u.bind,arguments)}function w(u,g,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),u.apply(g,j)}}return function(){return u.apply(g,arguments)}}function b(u,g,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,b.apply(null,arguments)}function L(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function B(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,j,F){for(var ee=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ee[Me-2]=arguments[Me];return g.prototype[j].apply(S,ee)}}function te(u){const g=u.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=u[S];return v}return[]}function Z(u,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(y(S)){const j=u.length||0,F=S.length||0;u.length=j+F;for(let ee=0;ee<F;ee++)u[j+ee]=S[ee]}else u.push(S)}}class Ee{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function _e(u){return/^[\s\xa0]*$/.test(u)}function fe(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function He(u){return He[" "](u),u}He[" "]=function(){};var Se=fe().indexOf("Gecko")!=-1&&!(fe().toLowerCase().indexOf("webkit")!=-1&&fe().indexOf("Edge")==-1)&&!(fe().indexOf("Trident")!=-1||fe().indexOf("MSIE")!=-1)&&fe().indexOf("Edge")==-1;function ze(u,g,v){for(const S in u)g.call(v,u[S],S,u)}function V(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function R(u){const g={};for(const v in u)g[v]=u[v];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,g){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)u[v]=S[v];for(let F=0;F<C.length;F++)v=C[F],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function M(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function P(u){m.setTimeout(()=>{throw u},0)}function N(){var u=Ue;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Pt{constructor(){this.h=this.g=null}add(g,v){const S=ot.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new Ee(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,ue=!1,Ue=new Pt,x=()=>{const u=m.Promise.resolve(void 0);ne=()=>{u.then(J)}};var J=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){P(v)}var g=ot;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ue=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function Re(u,g){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(Se){e:{try{He(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ve[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Re.aa.h.call(this)}}B(Re,W);var ve={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),We=0;function Gn(u,g,v,S,j){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=j,this.key=++We,this.da=this.fa=!1}function Zi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yi(u){this.src=u,this.g={},this.h=0}yi.prototype.add=function(u,g,v,S,j){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var ee=Xs(u,g,S,j);return-1<ee?(g=u[ee],v||(g.fa=!1)):(g=new Gn(g,this.src,F,!!S,j),g.fa=v,u.push(g)),g};function Ys(u,g){var v=g.type;if(v in u.g){var S=u.g[v],j=Array.prototype.indexOf.call(S,g,void 0),F;(F=0<=j)&&Array.prototype.splice.call(S,j,1),F&&(Zi(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Xs(u,g,v,S){for(var j=0;j<u.length;++j){var F=u[j];if(!F.da&&F.listener==g&&F.capture==!!v&&F.ha==S)return j}return-1}var $s="closure_lm_"+(1e6*Math.random()|0),uo={};function nu(u,g,v,S,j){if(Array.isArray(g)){for(var F=0;F<g.length;F++)nu(u,g[F],v,S,j);return null}return v=iu(v),u&&u[Ct]?u.K(g,v,p(S)?!!S.capture:!1,j):En(u,g,v,!1,S,j)}function En(u,g,v,S,j,F){if(!g)throw Error("Invalid event type");var ee=p(j)?!!j.capture:!!j,Me=Ga(u);if(Me||(u[$s]=Me=new yi(u)),v=Me.add(g,v,S,ee,F),v.proxy)return v;if(S=Dh(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)he||(j=ee),j===void 0&&(j=!1),u.addEventListener(g.toString(),S,j);else if(u.attachEvent)u.attachEvent(Js(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Dh(){function u(v){return g.call(u.src,u.listener,v)}const g=Oh;return u}function co(u,g,v,S,j){if(Array.isArray(g))for(var F=0;F<g.length;F++)co(u,g[F],v,S,j);else S=p(S)?!!S.capture:!!S,v=iu(v),u&&u[Ct]?(u=u.i,g=String(g).toString(),g in u.g&&(F=u.g[g],v=Xs(F,v,S,j),-1<v&&(Zi(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ga(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Xs(g,v,S,j)),(v=-1<u?g[u]:null)&&Fa(v))}function Fa(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Ct])Ys(g.i,u);else{var v=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(v,S,u.capture):g.detachEvent?g.detachEvent(Js(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Ga(g))?(Ys(v,u),v.h==0&&(v.src=null,g[$s]=null)):Zi(u)}}}function Js(u){return u in uo?uo[u]:uo[u]="on"+u}function Oh(u,g){if(u.da)u=!0;else{g=new Re(g,this);var v=u.listener,S=u.ha||u.src;u.fa&&Fa(u),u=v.call(S,g)}return u}function Ga(u){return u=u[$s],u instanceof yi?u:null}var ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function iu(u){return typeof u=="function"?u:(u[ho]||(u[ho]=function(g){return u.handleEvent(g)}),u[ho])}function lt(){ie.call(this),this.i=new yi(this),this.M=this,this.F=null}B(lt,ie),lt.prototype[Ct]=!0,lt.prototype.removeEventListener=function(u,g,v,S){co(this,u,g,v,S)};function Fe(u,g){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new W(g,u);else if(g instanceof W)g.target=g.target||u;else{var j=g;g=new W(S,u),O(g,j)}if(j=!0,v)for(var F=v.length-1;0<=F;F--){var ee=g.g=v[F];j=cn(ee,S,!0,g)&&j}if(ee=g.g=u,j=cn(ee,S,!0,g)&&j,j=cn(ee,S,!1,g)&&j,v)for(F=0;F<v.length;F++)ee=g.g=v[F],j=cn(ee,S,!1,g)&&j}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],S=0;S<v.length;S++)Zi(v[S]);delete u.g[g],u.h--}}this.F=null},lt.prototype.K=function(u,g,v,S){return this.i.add(String(u),g,!1,v,S)},lt.prototype.L=function(u,g,v,S){return this.i.add(String(u),g,!0,v,S)};function cn(u,g,v,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,F=0;F<g.length;++F){var ee=g[F];if(ee&&!ee.da&&ee.capture==v){var Me=ee.listener,bt=ee.ha||ee.src;ee.fa&&Ys(u.i,ee),j=Me.call(bt,S)!==!1&&j}}return j&&!S.defaultPrevented}function Kt(u,g,v){if(typeof u=="function")v&&(u=b(u,v));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function su(u){u.g=Kt(()=>{u.g=null,u.i&&(u.i=!1,su(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Mh extends ie{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:su(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(u){ie.call(this),this.h=u,this.g={}}B(Zs,ie);var Ws=[];function ea(u){ze(u.g,function(g,v){this.g.hasOwnProperty(v)&&Fa(g)},u),u.g={}}Zs.prototype.N=function(){Zs.aa.N.call(this),ea(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=m.JSON.stringify,Ka=m.JSON.parse,ta=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function fo(){}fo.prototype.h=null;function mo(u){return u.h||(u.h=u.i())}function go(){}var _i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vi(){W.call(this,"d")}B(vi,W);function po(){W.call(this,"c")}B(po,W);var Kn={},yo=null;function Wi(){return yo=yo||new lt}Kn.La="serverreachability";function Qa(u){W.call(this,Kn.La,u)}B(Qa,W);function es(u){const g=Wi();Fe(g,new Qa(g))}Kn.STAT_EVENT="statevent";function au(u,g){W.call(this,Kn.STAT_EVENT,u),this.stat=g}B(au,W);function it(u){const g=Wi();Fe(g,new au(g,u))}Kn.Ma="timingevent";function St(u,g){W.call(this,Kn.Ma,u),this.size=g}B(St,W);function pt(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function _o(u,g,v,S,j,F){u.info(function(){if(u.g)if(F)for(var ee="",Me=F.split("&"),bt=0;bt<Me.length;bt++){var Ve=Me[bt].split("=");if(1<Ve.length){var Dt=Ve[0];Ve=Ve[1];var wt=Dt.split("_");ee=2<=wt.length&&wt[1]=="type"?ee+(Dt+"="+Ve+"&"):ee+(Dt+"=redacted&")}}else ee=null;else ee=F;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+g+`
`+v+`
`+ee})}function Vh(u,g,v,S,j,F,ee){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+g+`
`+v+`
`+F+" "+ee})}function ts(u,g,v,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+na(u,v)+(S?" "+S:"")})}function ru(u,g){u.info(function(){return"TIMEOUT: "+g})}Tn.prototype.info=function(){};function na(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var F=j[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ee=1;ee<j.length;ee++)j[ee]=""}}}}return kn(v)}catch{return g}}var ns={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Yn(){}B(Yn,fo),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Qn=new Yn;function Wt(u,g,v,S){this.j=u,this.i=g,this.l=v,this.R=S||1,this.U=new Zs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var vo={},Ya={};function Pn(u,g,v){u.L=1,u.v=oa(hn(g)),u.m=v,u.P=!0,Ti(u,null)}function Ti(u,g){u.F=Date.now(),ia(u),u.A=hn(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),wo(v.i,"t",S),u.C=0,v=u.j.J,u.h=new ht,u.g=Au(u.j,v?g:null,!u.m),0<u.O&&(u.M=new Mh(b(u.Y,u,u.g),u.O)),g=u.U,v=u.g,S=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ws[0]=j.toString()),j=Ws);for(var F=0;F<j.length;F++){var ee=nu(v,j[F],S||g.handleEvent,!1,g.h||g);if(!ee)break;g.g[ee.key]=ee}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),es(),_o(u.i,u.u,u.A,u.l,u.R,u.m)}Wt.prototype.ca=function(u){u=u.target;const g=this.M;g&&wn(u)==3?g.j():this.Y(u)},Wt.prototype.Y=function(u){try{if(u==this.g)e:{const wt=wn(this.g);var g=this.g.Ba();const Ci=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||mu(this.g)))){this.J||wt!=4||g==7||(g==8||0>=Ci?es(3):es(2)),is(this);var v=this.g.Z();this.X=v;t:if(ou(this)){var S=mu(this.g);u="";var j=S.length,F=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),Xn(this);var ee="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(F&&g==j-1)});S.length=0,this.h.g+=u,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=v==200,Vh(this.i,this.u,this.A,this.l,this.R,wt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,bt=this.g;if((Me=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_e(Me)){var Ve=Me;break t}}Ve=null}if(v=Ve)ts(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sa(this,v);else{this.o=!1,this.s=3,it(12),jt(this),Xn(this);break e}}if(this.P){v=!0;let Ut;for(;!this.J&&this.C<ee.length;)if(Ut=lu(this,ee),Ut==Ya){wt==4&&(this.s=4,it(14),v=!1),ts(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==vo){this.s=4,it(15),ts(this.i,this.l,ee,"[Invalid Chunk]"),v=!1;break}else ts(this.i,this.l,Ut,null),sa(this,Ut);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ee.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)ts(this.i,this.l,ee,"[Invalid Chunked Response]"),jt(this),Xn(this);else if(0<ee.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),ga(Dt),Dt.M=!0,it(11))}}else ts(this.i,this.l,ee,null),sa(this,ee);wt==4&&jt(this),this.o&&!this.J&&(wt==4?vu(this.j,this):(this.o=!1,ia(this)))}else Lh(this.g),v==400&&0<ee.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),jt(this),Xn(this)}}}catch{}finally{}};function ou(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function lu(u,g){var v=u.C,S=g.indexOf(`
`,v);return S==-1?Ya:(v=Number(g.substring(v,S)),isNaN(v)?vo:(S+=1,S+v>g.length?Ya:(g=g.slice(S,S+v),u.C=S+v,g)))}Wt.prototype.cancel=function(){this.J=!0,jt(this)};function ia(u){u.S=Date.now()+u.I,uu(u,u.I)}function uu(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pt(b(u.ba,u),g)}function is(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Wt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ru(this.i,this.A),this.L!=2&&(es(),it(17)),jt(this),this.s=2,Xn(this)):uu(this,this.S-u)};function Xn(u){u.j.G==0||u.J||vu(u.j,u)}function jt(u){is(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ea(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function sa(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||Eo(v.h,u))){if(!u.K&&Eo(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)rr(v),sr(v);else break e;xo(v),it(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=pt(b(v.Za,v),6e3));if(1>=$a(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ni(v,11)}else if((u.K||v.g==u)&&rr(v),!_e(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let Ve=j[g];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const Dt=Ve[3];Dt!=null&&(v.la=Dt,v.j.info("VER="+v.la));const wt=Ve[4];wt!=null&&(v.Aa=wt,v.j.info("SVER="+v.Aa));const Ci=Ve[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(S=1.5*Ci,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Ut=u.g;if(Ut){const ni=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var F=S.h;F.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ja(F,F.h),F.h=null))}if(S.D){const Oo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(S.ya=Oo,Ye(S.I,S.D,Oo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ee=u;if(S.qa=Tu(S,S.J?S.ia:null,S.W),ee.K){en(S.h,ee);var Me=ee,bt=S.L;bt&&(Me.I=bt),Me.B&&(is(Me),ia(Me)),S.g=ee}else yu(S);0<v.i.length&&ar(v)}else Ve[0]!="stop"&&Ve[0]!="close"||Ni(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Ni(v,7):No(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}es(4)}catch{}}var cu=class{constructor(u,g){this.g=u,this.map=g}};function Ai(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $a(u){return u.h?1:u.g?u.g.size:0}function Eo(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ja(u,g){u.g?u.g.add(g):u.h=g}function en(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Ai.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return te(u.i)}function kh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var g=[],v=u.length,S=0;S<v;S++)g.push(u[S]);return g}g=[],v=0;for(S in u)g[v++]=u[S];return g}function Za(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const S in u)g[v++]=S;return g}}}function Ao(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=Za(u),S=kh(u),j=S.length,F=0;F<j;F++)g.call(void 0,S[F],v&&v[F],u)}var aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ph(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),j=null;if(0<=S){var F=u[v].substring(0,S);j=u[v].substring(S+1)}else F=u[v];g(F,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function yt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yt){this.h=u.h,ra(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.s),this.l=u.l;var g=u.i,v=new bi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Si(this,v),this.m=u.m}else u&&(g=String(u).match(aa))?(this.h=!1,ra(this,g[1]||"",!0),this.o=An(g[2]||""),this.g=An(g[3]||"",!0),ss(this,g[4]),this.l=An(g[5]||"",!0),Si(this,g[6]||"",!0),this.m=An(g[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}yt.prototype.toString=function(){var u=[],g=this.j;g&&u.push(la(g,So,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(la(g,So,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(la(v,v.charAt(0)=="/"?jh:bo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",la(v,Wa)),u.join("")};function hn(u){return new yt(u)}function ra(u,g,v){u.j=v?An(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Si(u,g,v){g instanceof bi?(u.i=g,fu(u.i,u.h)):(v||(g=la(g,Uh)),u.i=new bi(g,u.h))}function Ye(u,g,v){u.i.set(g,v)}function oa(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function An(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function la(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,hu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var So=/[#\/\?@]/g,bo=/[#\?:]/g,jh=/[#\?]/g,Uh=/[#\?@]/g,Wa=/#/g;function bi(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ph(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}s=bi.prototype,s.add=function(u,g){Sn(this),this.i=null,u=$n(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function wi(u,g){Sn(u),g=$n(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ri(u,g){return Sn(u),g=$n(u,g),u.g.has(g)}s.forEach=function(u,g){Sn(this),this.g.forEach(function(v,S){v.forEach(function(j){u.call(g,j,S,this)},this)},this)},s.na=function(){Sn(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const j=u[S];for(let F=0;F<j.length;F++)v.push(g[S])}return v},s.V=function(u){Sn(this);let g=[];if(typeof u=="string")Ri(this,u)&&(g=g.concat(this.g.get($n(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},s.set=function(u,g){return Sn(this),this.i=null,u=$n(this,u),Ri(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function wo(u,g,v){wi(u,g),0<v.length&&(u.i=null,u.g.set($n(u,g),te(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const F=encodeURIComponent(String(S)),ee=this.V(S);for(S=0;S<ee.length;S++){var j=F;ee[S]!==""&&(j+="="+encodeURIComponent(String(ee[S]))),u.push(j)}}return this.i=u.join("&")};function $n(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function fu(u,g){g&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(wi(this,S),wo(this,j,v))},u)),u.j=g}function ua(u,g){const v=new Tn;if(m.Image){const S=new Image;S.onload=L(bn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=L(bn,v,"TestLoadImage: error",!1,g,S),S.onabort=L(bn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=L(bn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function jn(u,g){const v=new Tn,S=new AbortController,j=setTimeout(()=>{S.abort(),bn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(j),F.ok?bn(v,"TestPingServer: ok",!0,g):bn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),bn(v,"TestPingServer: error",!1,g)})}function bn(u,g,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function ca(){this.g=new ta}function Jn(u,g,v){const S=v||"";try{Ao(u,function(j,F){let ee=j;p(j)&&(ee=kn(j)),g.push(S+F+"="+encodeURIComponent(ee))})}catch(j){throw g.push(S+"type="+encodeURIComponent("_badmap")),j}}function as(u){this.l=u.Ub||null,this.j=u.eb||!1}B(as,fo),as.prototype.g=function(){return new Ii(this.l,this.j)},as.prototype.i=function(u){return function(){return u}}({});function Ii(u,g){lt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ii,lt),s=Ii.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ro(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ro(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Zn(this):Wn(this),this.readyState==3&&Ro(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Zn(this))},s.Qa=function(u){this.g&&(this.response=u,Zn(this))},s.ga=function(){this.g&&Zn(this)};function Zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}s.setRequestHeader=function(u,g){this.u.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Io(u){let g="";return ze(u,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function xt(u,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Io(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ye(u,g,v))}function Be(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Be,lt);var er=/^https?$/i,ha=["POST","PUT"];s=Be.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?mo(this.o):mo(Qn),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){du(this,F);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),j=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ha,g,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ee]of v)this.g.setRequestHeader(F,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fa(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){du(this,F)}};function du(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,tr(u),ei(u)}function tr(u){u.A||(u.A=!0,Fe(u,"complete"),Fe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Fe(this,"complete"),Fe(this,"abort"),ei(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Be.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?nr(this):this.bb())},s.bb=function(){nr(this)};function nr(u){if(u.h&&typeof f<"u"&&(!u.v[1]||wn(u)!=4||u.Z()!=2)){if(u.u&&wn(u)==4)Kt(u.Ea,0,u);else if(Fe(u,"readystatechange"),wn(u)==4){u.h=!1;try{const ee=u.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ee===0){var j=String(u.D).match(aa)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!er.test(j?j.toLowerCase():"")}v=S}if(v)Fe(u,"complete"),Fe(u,"success");else{u.m=6;try{var F=2<wn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",tr(u)}}finally{ei(u)}}}}function ei(u,g){if(u.g){fa(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Fe(u,"ready");try{v.onreadystatechange=S}catch{}}}function fa(u){u.I&&(m.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function wn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Ka(g)}};function mu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Lh(u){const g={};u=(u.g&&2<=wn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(_e(u[S]))continue;var v=M(u[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=g[j]||[];g[j]=F,F.push(v)}V(g,function(S){return S.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function ir(u){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=da("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=da("baseRetryDelayMs",5e3,u),this.cb=da("retryDelaySeedMs",1e4,u),this.Wa=da("forwardChannelMaxRetries",2,u),this.wa=da("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(u&&u.concurrentRequestLimit),this.Da=new ca,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ir.prototype,s.la=8,s.G=1,s.connect=function(u,g,v,S){it(0),this.W=u,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Tu(this,null,this.W),ar(this)};function No(u){if(gu(u),u.G==3){var g=u.U++,v=hn(u.I);if(Ye(v,"SID",u.K),Ye(v,"RID",g),Ye(v,"TYPE","terminate"),ma(u,v),g=new Wt(u,u.j,g),g.L=2,g.v=oa(hn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Au(g.j,null),g.g.ea(g.v)),g.F=Date.now(),ia(g)}Eu(u)}function sr(u){u.g&&(ga(u),u.g.cancel(),u.g=null)}function gu(u){sr(u),u.u&&(m.clearTimeout(u.u),u.u=null),rr(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function ar(u){if(!Xa(u.h)&&!u.s){u.s=!0;var g=u.Ga;ne||x(),ue||(ne(),ue=!0),Ue.add(g,u),u.B=0}}function zh(u,g){return $a(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pt(b(u.Ga,u,g),Do(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new Wt(this,this.j,u);let F=this.o;if(this.S&&(F?(F=R(F),O(F,this.S)):F=this.S),this.m!==null||this.O||(j.H=F,F=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=pu(this,j,g),v=hn(this.I),Ye(v,"RID",u),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),ma(this,v),F&&(this.O?g="headers="+encodeURIComponent(String(Io(F)))+"&"+g:this.m&&xt(v,this.m,F)),Ja(this.h,j),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",g),Ye(v,"SID","null"),j.T=!0,Pn(j,v,null)):Pn(j,v,g),this.G=2}}else this.G==3&&(u?Co(this,u):this.i.length==0||Xa(this.h)||Co(this))};function Co(u,g){var v;g?v=g.l:v=u.U++;const S=hn(u.I);Ye(S,"SID",u.K),Ye(S,"RID",v),Ye(S,"AID",u.T),ma(u,S),u.m&&u.o&&xt(S,u.m,u.o),v=new Wt(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=pu(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ja(u.h,v),Pn(v,S,g)}function ma(u,g){u.H&&ze(u.H,function(v,S){Ye(g,S,v)}),u.l&&Ao({},function(v,S){Ye(g,S,v)})}function pu(u,g,v){v=Math.min(u.i.length,v);var S=u.l?b(u.l.Na,u.l,u):null;e:{var j=u.i;let F=-1;for(;;){const ee=["count="+v];F==-1?0<v?(F=j[0].g,ee.push("ofs="+F)):F=0:ee.push("ofs="+F);let Me=!0;for(let bt=0;bt<v;bt++){let Ve=j[bt].g;const Dt=j[bt].map;if(Ve-=F,0>Ve)F=Math.max(0,j[bt].g-100),Me=!1;else try{Jn(Dt,ee,"req"+Ve+"_")}catch{S&&S(Dt)}}if(Me){S=ee.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,S}function yu(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ne||x(),ue||(ne(),ue=!0),Ue.add(g,u),u.v=0}}function xo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pt(b(u.Fa,u),Do(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pt(b(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),sr(this),_u(this))};function ga(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function _u(u){u.g=new Wt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=hn(u.qa);Ye(g,"RID","rpc"),Ye(g,"SID",u.K),Ye(g,"AID",u.T),Ye(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(g,"TO",u.ja),Ye(g,"TYPE","xmlhttp"),ma(u,g),u.m&&u.o&&xt(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=oa(hn(g)),v.m=null,v.P=!0,Ti(v,u)}s.Za=function(){this.C!=null&&(this.C=null,sr(this),xo(this),it(19))};function rr(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function vu(u,g){var v=null;if(u.g==g){rr(u),ga(u),u.g=null;var S=2}else if(Eo(u.h,g))v=g.D,en(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=u.B;S=Wi(),Fe(S,new St(S,v)),ar(u)}else yu(u);else if(j=g.s,j==3||j==0&&0<g.X||!(S==1&&zh(u,g)||S==2&&xo(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),j){case 1:Ni(u,5);break;case 4:Ni(u,10);break;case 3:Ni(u,6);break;default:Ni(u,2)}}}function Do(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function Ni(u,g){if(u.j.info("Error code "+g),g==2){var v=b(u.fb,u),S=u.Xa;const j=!S;S=new yt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ra(S,"https"),oa(S),j?ua(S.toString(),v):jn(S.toString(),v)}else it(2);u.G=0,u.l&&u.l.sa(g),Eu(u),gu(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Eu(u){if(u.G=0,u.ka=[],u.l){const g=To(u.h);(g.length!=0||u.i.length!=0)&&(Z(u.ka,g),Z(u.ka,u.i),u.h.i.length=0,te(u.i),u.i.length=0),u.l.ra()}}function Tu(u,g,v){var S=v instanceof yt?hn(v):new yt(v);if(S.g!="")g&&(S.g=g+"."+S.g),ss(S,S.s);else{var j=m.location;S=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var F=new yt(null);S&&ra(F,S),g&&(F.g=g),j&&ss(F,j),v&&(F.l=v),S=F}return v=u.D,g=u.ya,v&&g&&Ye(S,v,g),Ye(S,"VER",u.la),ma(u,S),S}function Au(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Be(new as({eb:v})):new Be(u.pa),g.Ha(u.J),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function or(){}or.prototype.g=function(u,g){return new tn(u,g)};function tn(u,g){lt.call(this),this.g=new ir(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!_e(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!_e(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ti(this)}B(tn,lt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){No(this.g)},tn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=kn(u),u=v);g.i.push(new cu(g.Ya++,u)),g.G==3&&ar(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,tn.aa.N.call(this)};function bu(u){vi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}B(bu,vi);function wu(){po.call(this),this.status=1}B(wu,po);function ti(u){this.g=u}B(ti,Su),ti.prototype.ua=function(){Fe(this.g,"a")},ti.prototype.ta=function(u){Fe(this.g,new bu(u))},ti.prototype.sa=function(u){Fe(this.g,new wu)},ti.prototype.ra=function(){Fe(this.g,"b")},or.prototype.createWebChannel=or.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,g0=function(){return new or},m0=function(){return Wi()},d0=Kn,rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,Uc=ns,Ei.COMPLETE="complete",f0=Ei,go.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",lt.prototype.listen=lt.prototype.K,bl=go,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,h0=Be}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const yv="@firebase/firestore",_v="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Rm("@firebase/firestore");function Pr(){return La.logLevel}function ae(s,...e){if(La.logLevel<=xe.DEBUG){const n=e.map(jm);La.debug(`Firestore (${no}): ${s}`,...n)}}function Xi(s,...e){if(La.logLevel<=xe.ERROR){const n=e.map(jm);La.error(`Firestore (${no}): ${s}`,...n)}}function Qr(s,...e){if(La.logLevel<=xe.WARN){const n=e.map(jm);La.warn(`Firestore (${no}): ${s}`,...n)}}function jm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,p0(s,a,n)}function p0(s,e,n){let a=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Xi(a),new Error(a)}function qe(s,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,s||p0(e,o,a)}function Ae(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends Ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class b2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class w2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let c=new Ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ki,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ki)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qe(typeof a.accessToken=="string",31837,{l:a}),new y0(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class R2{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class I2{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new R2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=C2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<n&&(a+=e.charAt(o[c]%62))}return a}}function De(s,e){return s<e?-1:s>e?1:0}function om(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Gd(o)===Gd(c)?De(o,c):Gd(o)?1:-1}return De(s.length,e.length)}const x2=55296,D2=57343;function Gd(s){const e=s.charCodeAt(0);return e>=x2&&e<=D2}function Yr(s,e,n){return s.length===e.length&&s.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="__name__";class li{constructor(e,n,a){n===void 0?n=0:n>e.length&&pe(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&pe(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const c=li.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return De(e.length,n.length)}static compareSegments(e,n){const a=li.isNumericId(e),o=li.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?li.extractNumericId(e).compare(li.extractNumericId(n)):om(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ps.fromString(e.substring(4,e.length-2))}}class tt extends li{construct(e,n,a){return new tt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new se(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const O2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends li{construct(e,n,a){return new Ht(e,n,a)}static isValidIdentifier(e){return O2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ev}static keyField(){return new Ht([Ev])}static fromServerFormat(e){const n=[];let a="",o=0;const c=()=>{if(a.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new se(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new se(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(c(),o++)}if(c(),f)throw new se(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(tt.fromString(e))}static fromName(e){return new ce(tt.fromString(e).popFirst(5))}static empty(){return new ce(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(s,e,n){if(!n)throw new se(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function M2(s,e,n,a){if(e===!0&&a===!0)throw new se(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function Tv(s){if(!ce.isDocumentKey(s))throw new se(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Av(s){if(ce.isDocumentKey(s))throw new se(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function v0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function mh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":pe(12329,{type:typeof s})}function gi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new se(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mh(s);throw new se(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(s,e){const n={typeString:s};return e&&(n.value=e),n}function Xl(s,e){if(!v0(s))throw new se(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const f=s[a];if(o&&typeof f!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new se(Y.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-62135596800,bv=1e6;class nt{static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*bv);return new nt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sv)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xl(e,nt._jsonSchema))return new nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nt._jsonSchemaVersion="firestore/timestamp/1.0",nt._jsonSchema={type:At("string",nt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new nt(0,0))}static max(){return new Te(new nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=-1;function V2(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(a===1e9?new nt(n+1,0):new nt(n,a));return new Us(o,ce.empty(),e)}function k2(s){return new Us(s.readTime,s.key,jl)}class Us{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Us(Te.min(),ce.empty(),jl)}static max(){return new Us(Te.max(),ce.empty(),jl)}}function P2(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(s.documentKey,e.documentKey),n!==0?n:De(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==j2)throw s;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,a)=>{n(e)})}static reject(e){return new $((n,a)=>{a(e)})}static waitFor(e){return new $((n,a)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&n()},y=>a(y))}),f=!0,c===o&&n()})}static or(e){let n=$.resolve(!1);for(const a of e)n=n.next(o=>o?$.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,c)=>{a.push(n.call(this,o,c))}),this.waitFor(a)}static mapArray(e,n){return new $((a,o)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const p=y;n(e[p]).next(T=>{f[p]=T,++m,m===c&&a(f)},T=>o(T))}})}static doWhile(e,n){return new $((a,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):a()};c()})}}function L2(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function so(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function ph(s){return s==null}function Zc(s){return s===0&&1/s==-1/0}function z2(s){return typeof s=="number"&&Number.isInteger(s)&&!Zc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="";function B2(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=wv(e)),e=q2(s.get(n),e);return wv(e)}function q2(s,e){let n=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case E0:n+="";break;default:n+=c}}return n}function wv(s){return s+E0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ks(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function T0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,a,o,c){this.key=e,this.value=n,this.color=a??qt.RED,this.left=o??qt.EMPTY,this.right=c??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,c){return new qt(e??this.key,n??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,a),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,n,a,o,c){return this}insert(e,n,a){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Nt(Ht.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yr(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new A0("Invalid base64 string: "+c):c}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(s){if(qe(!!s,39018),typeof s=="string"){let e=0;const n=H2.exec(s);if(qe(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:mt(s.seconds),nanos:mt(s.nanos)}}function mt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function zs(s){return typeof s=="string"?Gt.fromBase64String(s):Gt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="server_timestamp",b0="__type__",w0="__previous_value__",R0="__local_write_time__";function zm(s){return(s?.mapValue?.fields||{})[b0]?.stringValue===S0}function yh(s){const e=s.mapValue.fields[w0];return zm(e)?yh(e):e}function Ul(s){const e=Ls(s.mapValue.fields[R0].timestampValue);return new nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,a,o,c,f,m,y,p,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T}}const Wc="(default)";class Ll{constructor(e,n){this.projectId=e,this.database=n||Wc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="__type__",G2="__max__",Cc={mapValue:{}},N0="__vector__",eh="value";function Bs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?zm(s)?4:Q2(s)?9007199254740991:K2(s)?10:11:pe(28295,{value:s})}function pi(s,e){if(s===e)return!0;const n=Bs(s);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ul(s).isEqual(Ul(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Ls(o.timestampValue),m=Ls(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,c){return zs(o.bytesValue).isEqual(zs(c.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,c){return mt(o.geoPointValue.latitude)===mt(c.geoPointValue.latitude)&&mt(o.geoPointValue.longitude)===mt(c.geoPointValue.longitude)}(s,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return mt(o.integerValue)===mt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=mt(o.doubleValue),m=mt(c.doubleValue);return f===m?Zc(f)===Zc(m):isNaN(f)&&isNaN(m)}return!1}(s,e);case 9:return Yr(s.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Rv(f)!==Rv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!pi(f[y],m[y])))return!1;return!0}(s,e);default:return pe(52216,{left:s})}}function zl(s,e){return(s.values||[]).find(n=>pi(n,e))!==void 0}function Xr(s,e){if(s===e)return 0;const n=Bs(s),a=Bs(e);if(n!==a)return De(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(s.booleanValue,e.booleanValue);case 2:return function(c,f){const m=mt(c.integerValue||c.doubleValue),y=mt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(s,e);case 3:return Nv(s.timestampValue,e.timestampValue);case 4:return Nv(Ul(s),Ul(e));case 5:return om(s.stringValue,e.stringValue);case 6:return function(c,f){const m=zs(c),y=zs(f);return m.compareTo(y)}(s.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let p=0;p<m.length&&p<y.length;p++){const T=De(m[p],y[p]);if(T!==0)return T}return De(m.length,y.length)}(s.referenceValue,e.referenceValue);case 8:return function(c,f){const m=De(mt(c.latitude),mt(f.latitude));return m!==0?m:De(mt(c.longitude),mt(f.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Cv(s.arrayValue,e.arrayValue);case 10:return function(c,f){const m=c.fields||{},y=f.fields||{},p=m[eh]?.arrayValue,T=y[eh]?.arrayValue,w=De(p?.values?.length||0,T?.values?.length||0);return w!==0?w:Cv(p,T)}(s.mapValue,e.mapValue);case 11:return function(c,f){if(c===Cc.mapValue&&f===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(f===Cc.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),p=f.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const b=om(y[w],T[w]);if(b!==0)return b;const L=Xr(m[y[w]],p[T[w]]);if(L!==0)return L}return De(y.length,T.length)}(s.mapValue,e.mapValue);default:throw pe(23264,{he:n})}}function Nv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return De(s,e);const n=Ls(s),a=Ls(e),o=De(n.seconds,a.seconds);return o!==0?o:De(n.nanos,a.nanos)}function Cv(s,e){const n=s.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const c=Xr(n[o],a[o]);if(c)return c}return De(n.length,a.length)}function $r(s){return lm(s)}function lm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const a=Ls(n);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return zs(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return ce.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let a="[",o=!0;for(const c of n.values||[])o?o=!1:a+=",",a+=lm(c);return a+"]"}(s.arrayValue):"mapValue"in s?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of a)c?c=!1:o+=",",o+=`${f}:${lm(n.fields[f])}`;return o+"}"}(s.mapValue):pe(61005,{value:s})}function Lc(s){switch(Bs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(s);return e?16+Lc(e):16;case 5:return 2*s.stringValue.length;case 6:return zs(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+Lc(c),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Ks(a.fields,(c,f)=>{o+=c.length+Lc(f)}),o}(s.mapValue);default:throw pe(13486,{value:s})}}function xv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function um(s){return!!s&&"integerValue"in s}function Bm(s){return!!s&&"arrayValue"in s}function Dv(s){return!!s&&"nullValue"in s}function Ov(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function zc(s){return!!s&&"mapValue"in s}function K2(s){return(s?.mapValue?.fields||{})[I0]?.stringValue===N0}function xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ks(s.mapValue.fields,(n,a)=>e.mapValue.fields[n]=xl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xl(s.arrayValue.values[n]);return e}return{...s}}function Q2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===G2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(n)}setAll(e){let n=Ht.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=xl(f):o.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,a,o)}delete(e){const n=this.field(e.popLast());zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];zc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ks(n,(o,c)=>e[o]=c);for(const o of a)delete e[o]}clone(){return new ln(xl(this.value))}}function C0(s){const e=[];return Ks(s.fields,(n,a)=>{const o=new Ht([n]);if(zc(a)){const c=C0(a.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,a,o,c,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Te.min(),Te.min(),Te.min(),ln.empty(),0)}static newFoundDocument(e,n,a,o){return new Jt(e,1,n,Te.min(),a,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Te.min(),Te.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Te.min(),Te.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.position=e,this.inclusive=n}}function Mv(s,e,n){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?a=ce.comparator(ce.fromName(f.referenceValue),n.key):a=Xr(f,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Vv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!pi(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{}class Tt extends x0{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new $2(e,n,a):n==="array-contains"?new W2(e,a):n==="in"?new eR(e,a):n==="not-in"?new tR(e,a):n==="array-contains-any"?new nR(e,a):new Tt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new J2(e,a):new Z2(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xr(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(Xr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends x0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Fn(e,n)}matches(e){return D0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D0(s){return s.op==="and"}function O0(s){return X2(s)&&D0(s)}function X2(s){for(const e of s.filters)if(e instanceof Fn)return!1;return!0}function cm(s){if(s instanceof Tt)return s.field.canonicalString()+s.op.toString()+$r(s.value);if(O0(s))return s.filters.map(e=>cm(e)).join(",");{const e=s.filters.map(n=>cm(n)).join(",");return`${s.op}(${e})`}}function M0(s,e){return s instanceof Tt?function(a,o){return o instanceof Tt&&a.op===o.op&&a.field.isEqual(o.field)&&pi(a.value,o.value)}(s,e):s instanceof Fn?function(a,o){return o instanceof Fn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,f,m)=>c&&M0(f,o.filters[m]),!0):!1}(s,e):void pe(19439)}function V0(s){return s instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${$r(n.value)}`}(s):s instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(V0).join(" ,")+"}"}(s):"Filter"}class $2 extends Tt{constructor(e,n,a){super(e,n,a),this.key=ce.fromName(a.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class J2 extends Tt{constructor(e,n){super(e,"in",n),this.keys=k0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Z2 extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=k0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function k0(s,e){return(e.arrayValue?.values||[]).map(n=>ce.fromName(n.referenceValue))}class W2 extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bm(n)&&zl(n.arrayValue,this.value)}}class eR extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class tR extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class nR extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>zl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n=null,a=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function kv(s,e=null,n=[],a=[],o=null,c=null,f=null){return new iR(s,e,n,a,o,c,f)}function qm(s){const e=Ae(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>cm(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>$r(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>$r(a)).join(",")),e.Te=n}return e.Te}function Hm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Y2(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!M0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Vv(s.startAt,e.startAt)&&Vv(s.endAt,e.endAt)}function hm(s){return ce.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n=null,a=[],o=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sR(s,e,n,a,o,c,f,m){return new $l(s,e,n,a,o,c,f,m)}function Fm(s){return new $l(s)}function Pv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function P0(s){return s.collectionGroup!==null}function Dl(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Ht.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new nh(c,a))}),n.has(Ht.keyField().canonicalString())||e.Ie.push(new nh(Ht.keyField(),a))}return e.Ie}function hi(s){const e=Ae(s);return e.Ee||(e.Ee=aR(e,Dl(s))),e.Ee}function aR(s,e){if(s.limitType==="F")return kv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new nh(o.field,c)});const n=s.endAt?new th(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new th(s.startAt.position,s.startAt.inclusive):null;return kv(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function fm(s,e){const n=s.filters.concat([e]);return new $l(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function dm(s,e,n){return new $l(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function _h(s,e){return Hm(hi(s),hi(e))&&s.limitType===e.limitType}function j0(s){return`${qm(hi(s))}|lt:${s.limitType}`}function jr(s){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>V0(o)).join(", ")}]`),ph(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>$r(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>$r(o)).join(",")),`Target(${a})`}(hi(s))}; limitType=${s.limitType})`}function vh(s,e){return e.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ce.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(s,e)&&function(a,o){for(const c of Dl(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(f,m,y){const p=Mv(f,m,y);return f.inclusive?p<=0:p<0}(a.startAt,Dl(a),o)||a.endAt&&!function(f,m,y){const p=Mv(f,m,y);return f.inclusive?p>=0:p>0}(a.endAt,Dl(a),o))}(s,e)}function rR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function U0(s){return(e,n)=>{let a=!1;for(const o of Dl(s)){const c=oR(o,e,n);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function oR(s,e,n){const a=s.field.isKeyField()?ce.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),p=m.data.field(c);return y!==null&&p!==null?Xr(y,p):pe(42886)}(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pe(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,a)=>{for(const[o,c]of a)e(o,c)})}isEmpty(){return T0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new rt(ce.comparator);function $i(){return lR}const L0=new rt(ce.comparator);function wl(...s){let e=L0;for(const n of s)e=e.insert(n.key,n);return e}function z0(s){let e=L0;return s.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Ma(){return Ol()}function B0(){return Ol()}function Ol(){return new qa(s=>s.toString(),(s,e)=>s.isEqual(e))}const uR=new rt(ce.comparator),cR=new Nt(ce.comparator);function Oe(...s){let e=cR;for(const n of s)e=e.add(n);return e}const hR=new Nt(De);function fR(){return hR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(e)?"-0":e}}function q0(s){return{integerValue:""+s}}function dR(s,e){return z2(e)?q0(e):Gm(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function mR(s,e,n){return s instanceof ih?function(o,c){const f={fields:{[b0]:{stringValue:S0},[R0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&zm(c)&&(c=yh(c)),c&&(f.fields[w0]=c),{mapValue:f}}(n,e):s instanceof Bl?F0(s,e):s instanceof ql?G0(s,e):function(o,c){const f=H0(o,c),m=jv(f)+jv(o.Ae);return um(f)&&um(o.Ae)?q0(m):Gm(o.serializer,m)}(s,e)}function gR(s,e,n){return s instanceof Bl?F0(s,e):s instanceof ql?G0(s,e):n}function H0(s,e){return s instanceof sh?function(a){return um(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class ih extends Eh{}class Bl extends Eh{constructor(e){super(),this.elements=e}}function F0(s,e){const n=K0(e);for(const a of s.elements)n.some(o=>pi(o,a))||n.push(a);return{arrayValue:{values:n}}}class ql extends Eh{constructor(e){super(),this.elements=e}}function G0(s,e){let n=K0(e);for(const a of s.elements)n=n.filter(o=>!pi(o,a));return{arrayValue:{values:n}}}class sh extends Eh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function jv(s){return mt(s.integerValue||s.doubleValue)}function K0(s){return Bm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function pR(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof Bl&&o instanceof Bl||a instanceof ql&&o instanceof ql?Yr(a.elements,o.elements,pi):a instanceof sh&&o instanceof sh?pi(a.Ae,o.Ae):a instanceof ih&&o instanceof ih}(s.transform,e.transform)}class yR{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Th{}function Q0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Km(s.key,qn.none()):new Jl(s.key,s.data,qn.none());{const n=s.data,a=ln.empty();let o=new Nt(Ht.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?a.delete(c):a.set(c,f),o=o.add(c)}return new Qs(s.key,a,new vn(o.toArray()),qn.none())}}function _R(s,e,n){s instanceof Jl?function(o,c,f){const m=o.value.clone(),y=Lv(o.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(s,e,n):s instanceof Qs?function(o,c,f){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Lv(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(Y0(o)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(s,e,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ml(s,e,n,a){return s instanceof Jl?function(c,f,m,y){if(!Bc(c.precondition,f))return m;const p=c.value.clone(),T=zv(c.fieldTransforms,y,f);return p.setAll(T),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(s,e,n,a):s instanceof Qs?function(c,f,m,y){if(!Bc(c.precondition,f))return m;const p=zv(c.fieldTransforms,y,f),T=f.data;return T.setAll(Y0(c)),T.setAll(p),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(s,e,n,a):function(c,f,m){return Bc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(s,e,n)}function vR(s,e){let n=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=H0(a.transform,o||null);c!=null&&(n===null&&(n=ln.empty()),n.set(a.field,c))}return n||null}function Uv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Yr(a,o,(c,f)=>pR(c,f))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Jl extends Th{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qs extends Th{constructor(e,n,a,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Y0(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}}),e}function Lv(s,e,n){const a=new Map;qe(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,m=e.data.field(c.field);a.set(c.field,gR(f,m,n[o]))}return a}function zv(s,e,n){const a=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);a.set(o.field,mR(c,f,e))}return a}class Km extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&_R(c,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Ml(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Ml(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=B0();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const y=Q0(f,m);y!==null&&a.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Te.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Yr(this.mutations,e.mutations,(n,a)=>Uv(n,a))&&Yr(this.baseMutations,e.baseMutations,(n,a)=>Uv(n,a))}}class Qm{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){qe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=function(){return uR}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,a[f].version);return new Qm(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Pe;function bR(s){switch(s){case Y.OK:return pe(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return pe(15467,{code:s})}}function X0(s){if(s===void 0)return Xi("GRPC error has no .code"),Y.UNKNOWN;switch(s){case Et.OK:return Y.OK;case Et.CANCELLED:return Y.CANCELLED;case Et.UNKNOWN:return Y.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Y.INTERNAL;case Et.UNAVAILABLE:return Y.UNAVAILABLE;case Et.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Et.NOT_FOUND:return Y.NOT_FOUND;case Et.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Et.ABORTED:return Y.ABORTED;case Et.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Et.DATA_LOSS:return Y.DATA_LOSS;default:return pe(39323,{code:s})}}(Pe=Et||(Et={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Ps([4294967295,4294967295],0);function Bv(s){const e=wR().encode(s),n=new c0;return n.update(e),new Uint8Array(n.digest())}function qv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ps([n,a],0),new Ps([o,c],0)]}class Ym{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ps.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Ps.fromNumber(a)));return o.compare(RR)===1&&(o=new Ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Bv(e),[a,o]=qv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);if(!this.we(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Ym(c,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=Bv(e),[a,o]=qv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,a,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Ah(Te.min(),o,new rt(De),$i(),Oe())}}class Zl{constructor(e,n,a,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Zl(a,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class $0{constructor(e,n){this.targetId=e,this.Ce=n}}class J0{constructor(e,n,a=Gt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class Hv{constructor(){this.ve=0,this.Fe=Fv(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Oe(),n=Oe(),a=Oe();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:pe(38017,{changeType:c})}}),new Zl(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=Fv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IR{constructor(e){this.Ge=e,this.ze=new Map,this.je=$i(),this.Je=xc(),this.He=xc(),this.Ye=new rt(De)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((a,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(hm(c))if(a===0){const f=new ce(c.path);this.et(n,f,Jt.newNoDocument(f,Te.min()))}else qe(a===1,20013,{expectedCount:a});else{const f=this._t(n);if(f!==a){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=zs(a).toUint8Array()}catch(y){if(y instanceof A0)return Qr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Ym(f,o,c)}catch(y){return Qr(y instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach(c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((c,f)=>{const m=this.ot(f);if(m){if(c.current&&hm(m.target)){const y=new ce(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Jt.newNoDocument(y,e))}c.Be&&(n.set(f,c.ke()),c.qe())}});let a=Oe();this.He.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(c))}),this.je.forEach((c,f)=>f.setReadTime(e));const o=new Ah(e,n,this.Ye,this.je,a);return this.je=$i(),this.Je=xc(),this.He=xc(),this.Ye=new rt(De),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Hv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(De),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(De),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Hv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xc(){return new rt(ce.comparator)}function Fv(){return new rt(ce.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},CR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xR={and:"AND",or:"OR"};class DR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mm(s,e){return s.useProto3Json||ph(e)?e:{value:e}}function ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function OR(s,e){return ah(s,e.toTimestamp())}function fi(s){return qe(!!s,49232),Te.fromTimestamp(function(n){const a=Ls(n);return new nt(a.seconds,a.nanos)}(s))}function Xm(s,e){return gm(s,e).canonicalString()}function gm(s,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?n:n.child(e)}function W0(s){const e=tt.fromString(s);return qe(sT(e),10190,{key:e.toString()}),e}function pm(s,e){return Xm(s.databaseId,e.path)}function Kd(s,e){const n=W0(e);if(n.get(1)!==s.databaseId.projectId)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new se(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ce(tT(n))}function eT(s,e){return Xm(s.databaseId,e)}function MR(s){const e=W0(s);return e.length===4?tt.emptyPath():tT(e)}function ym(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function tT(s){return qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Gv(s,e,n){return{name:pm(s,e),fields:n.value.mapValue.fields}}function VR(s,e){let n;if("targetChange"in e){e.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(p,T){return p.useProto3Json?(qe(T===void 0||typeof T=="string",58123),Gt.fromBase64String(T||"")):(qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Gt.fromUint8Array(T||new Uint8Array))}(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(p){const T=p.code===void 0?Y.UNKNOWN:X0(p.code);return new se(T,p.message||"")}(f);n=new J0(a,o,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Kd(s,a.document.name),c=fi(a.document.updateTime),f=a.document.createTime?fi(a.document.createTime):Te.min(),m=new ln({mapValue:{fields:a.document.fields}}),y=Jt.newFoundDocument(o,c,f,m),p=a.targetIds||[],T=a.removedTargetIds||[];n=new qc(p,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Kd(s,a.document),c=a.readTime?fi(a.readTime):Te.min(),f=Jt.newNoDocument(o,c),m=a.removedTargetIds||[];n=new qc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Kd(s,a.document),c=a.removedTargetIds||[];n=new qc([],c,o,null)}else{if(!("filter"in e))return pe(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,f=new SR(o,c),m=a.targetId;n=new $0(m,f)}}return n}function kR(s,e){let n;if(e instanceof Jl)n={update:Gv(s,e.key,e.value)};else if(e instanceof Km)n={delete:pm(s,e.key)};else if(e instanceof Qs)n={update:Gv(s,e.key,e.data),updateMask:FR(e.fieldMask)};else{if(!(e instanceof ER))return pe(16599,{Vt:e.type});n={verify:pm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(c,f){const m=f.transform;if(m instanceof ih)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Bl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ql)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof sh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw pe(20930,{transform:f.transform})}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:OR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pe(27497)}(s,e.precondition)),n}function PR(s,e){return s&&s.length>0?(qe(e!==void 0,14353),s.map(n=>function(o,c){let f=o.updateTime?fi(o.updateTime):fi(c);return f.isEqual(Te.min())&&(f=fi(c)),new yR(f,o.transformResults||[])}(n,e))):[]}function jR(s,e){return{documents:[eT(s,e.path)]}}function UR(s,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=eT(s,o);const c=function(p){if(p.length!==0)return iT(Fn.create(p,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(p){if(p.length!==0)return p.map(T=>function(b){return{field:Ur(b.field),direction:BR(b.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=mm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:n,parent:o}}function LR(s){let e=MR(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){qe(a===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(w){const b=nT(w);return b instanceof Fn&&O0(b)?b.getFilters():[b]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(b=>function(B){return new nh(Lr(B.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(b))}(n.orderBy));let m=null;n.limit&&(m=function(w){let b;return b=typeof w=="object"?w.value:w,ph(b)?null:b}(n.limit));let y=null;n.startAt&&(y=function(w){const b=!!w.before,L=w.values||[];return new th(L,b)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const b=!w.before,L=w.values||[];return new th(L,b)}(n.endAt)),sR(e,o,f,c,m,"F",y,p)}function zR(s,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nT(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Lr(n.unaryFilter.field);return Tt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Lr(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Lr(n.unaryFilter.field);return Tt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Lr(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}}(s):s.fieldFilter!==void 0?function(n){return Tt.create(Lr(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(a=>nT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pe(1026)}}(n.compositeFilter.op))}(s):pe(30097,{filter:s})}function BR(s){return NR[s]}function qR(s){return CR[s]}function HR(s){return xR[s]}function Ur(s){return{fieldPath:s.canonicalString()}}function Lr(s){return Ht.fromServerFormat(s.fieldPath)}function iT(s){return s instanceof Tt?function(n){if(n.op==="=="){if(Ov(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NAN"}};if(Dv(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ov(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NOT_NAN"}};if(Dv(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ur(n.field),op:qR(n.op),value:n.value}}}(s):s instanceof Fn?function(n){const a=n.getFilters().map(o=>iT(o));return a.length===1?a[0]:{compositeFilter:{op:HR(n.op),filters:a}}}(s):pe(54877,{filter:s})}function FR(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,a,o,c=Te.min(),f=Te.min(),m=Gt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.yt=e}}function KR(s){const e=LR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.Cn=new YR}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Us.min())}updateCollectionGroup(e,n,a){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class YR{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Nt(tt.comparator),c=!o.has(a);return this.index[n]=o.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(aT,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Jr(0)}static cr(){return new Jr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="LruGarbageCollector",XR=1048576;function Yv([s,e],[n,a]){const o=De(s,n);return o===0?De(e,a):o}class $R{constructor(e){this.Ir=e,this.buffer=new Nt(Yv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();Yv(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JR{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ae(Qv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){so(n)?ae(Qv,"Ignoring IndexedDB error during garbage collection: ",n):await io(n)}await this.Vr(3e5)})}}class ZR{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return $.resolve(gh.ce);const a=new $R(n);return this.mr.forEachTarget(e,o=>a.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>a.Ar(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Kv)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,c,f,m,y,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,m=Date.now(),this.removeTargets(e,a,n))).next(w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(p=Date.now(),Pr()<=xe.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${w} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function WR(s,e){return new ZR(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.changes=new qa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?$.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&Ml(a.mutation,o,vn.empty(),nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Oe()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Oe()){const o=Ma();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(c=>{let f=wl();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Ma();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Oe()))}populateOverlays(e,n,a){const o=[];return a.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let c=$i();const f=Ol(),m=function(){return Ol()}();return n.forEach((y,p)=>{const T=a.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof Qs)?c=c.insert(p.key,p):T!==void 0?(f.set(p.key,T.mutation.getFieldMask()),Ml(T.mutation,p,T.mutation.getFieldMask(),nt.now())):f.set(p.key,vn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((p,T)=>f.set(p,T)),n.forEach((p,T)=>m.set(p,new tI(T,f.get(p)??null))),m))}recalculateAndSaveOverlays(e,n){const a=Ol();let o=new rt((f,m)=>f-m),c=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const p=n.get(y);if(p===null)return;let T=a.get(y)||vn.empty();T=m.applyToLocalView(p,T),a.set(y,T);const w=(o.get(m.batchId)||Oe()).add(y);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),p=y.key,T=y.value,w=B0();T.forEach(b=>{if(!c.has(b)){const L=Q0(n.get(b),a.get(b));L!==null&&w.set(b,L),c=c.add(b)}}),f.push(this.documentOverlayCache.saveOverlays(e,p,w))}return $.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return ce.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-c.size):$.resolve(Ma());let m=jl,y=c;return f.next(p=>$.forEach(p,(T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next(b=>{y=y.insert(T,b)}))).next(()=>this.populateOverlays(e,p,c)).next(()=>this.computeViews(e,y,p,Oe())).next(T=>({batchId:m,changes:z0(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(a=>{let o=wl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const c=n.collectionGroup;let f=wl();return this.indexManager.getCollectionParents(e,c).next(m=>$.forEach(m,y=>{const p=function(w,b){return new $l(b,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next(T=>{T.forEach((w,b)=>{f=f.insert(w,b)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,o))).next(f=>{c.forEach((y,p)=>{const T=p.getKey();f.get(T)===null&&(f=f.insert(T,Jt.newInvalidDocument(T)))});let m=wl();return f.forEach((y,p)=>{const T=c.get(y);T!==void 0&&Ml(T.mutation,p,vn.empty(),nt.now()),vh(n,p)&&(m=m.insert(y,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:fi(o.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:KR(o.bundledQuery),readTime:fi(o.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.overlays=new rt(ce.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ma();return $.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,c)=>{this.St(e,n,c)}),$.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,n,a){const o=Ma(),c=n.length+1,f=new ce(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let c=new rt((p,T)=>p-T);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>a){let T=c.get(p.largestBatchId);T===null&&(T=Ma(),c=c.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const m=Ma(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,T)=>m.set(p,T)),!(m.size()>=o)););return $.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new AR(n,a));let c=this.qr.get(n);c===void 0&&(c=Oe(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(){this.Qr=new Nt(kt.$r),this.Ur=new Nt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new kt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach(a=>this.removeReference(a,n))}jr(e){const n=new ce(new tt([])),a=new kt(n,e),o=new kt(n,e+1),c=[];return this.Ur.forEachInRange([a,o],f=>{this.Gr(f),c.push(f.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ce(new tt([])),a=new kt(n,e),o=new kt(n,e+1);let c=Oe();return this.Ur.forEachInRange([a,o],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new kt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ce.comparator(e.key,n.key)||De(e.Yr,n.Yr)}static Kr(e,n){return De(e.Yr,n.Yr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(kt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new TR(c,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new kt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],f=>{const m=this.Xr(f.Yr);c.push(m)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Nt(De);return n.forEach(o=>{const c=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],m=>{a=a.add(m.Yr)})}),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let c=a;ce.isDocumentKey(c)||(c=c.child(""));const f=new kt(new ce(c),0);let m=new Nt(De);return this.Zr.forEachWhile(y=>{const p=y.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(m=m.add(y.Yr)),!0)},f),$.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(a=>{const o=this.Xr(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(n.mutations,o=>{const c=new kt(o.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=a})}ir(e){}containsKey(e,n){const a=new kt(n,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.ri=e,this.docs=function(){return new rt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return $.resolve(a?a.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let a=$i();return n.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Jt.newInvalidDocument(o))}),$.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let c=$i();const f=n.path,m=new ce(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||P2(k2(T),a)<=0||(o.has(T.key)||vh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,n,a,o){pe(9500)}ii(e,n){return $.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new lI(this)}getSize(e){return $.resolve(this.size)}}class lI extends eI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.persistence=e,this.si=new qa(n=>qm(n),Hm),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=Jr.ur()}forEachTarget(e,n){return this.si.forEach((a,o)=>n(o)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Jr(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,a){let o=0;const c=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),$.waitFor(c).next(()=>o)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return $.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),$.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),$.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return $.resolve(a)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new aI,this.referenceDelegate=e(this),this.Pi=new uI(this),this.indexManager=new QR,this.remoteDocumentCache=function(o){return new oI(o)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new GR(n),this.Ii=new iI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new rI(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ae("MemoryPersistence","Starting transaction:",e);const o=new cI(this.ci.next());return this.referenceDelegate.Ei(),a(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,n){return $.or(Object.values(this.ui).map(a=>()=>a.containsKey(e,n)))}}class cI extends U2{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw pe(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),$.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>a.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,a=>{const o=ce.fromPath(a);return this.gi(e,o).next(c=>{c||n.removeEntry(o,Te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rh{constructor(e,n){this.persistence=e,this.pi=new qa(a=>B2(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=WR(this,n)}static mi(e,n){return new rh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}wr(e){let n=0;return this.pr(e,a=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(a,o)=>this.br(e,a,o).next(c=>c?$.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(a++,c.removeEntry(f,Te.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lc(e.data.value)),n}br(e,n,a){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=Oe(),o=Oe();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Zm(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return HA()?8:L2(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const c={result:null};return this.ys(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ws(e,n,o,a).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new hI;return this.Ss(e,n,f).next(m=>{if(c.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>c.result)}bs(e,n,a,o){return a.documentReadCount<this.fs?(Pr()<=xe.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",jr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Pr()<=xe.DEBUG&&ae("QueryEngine","Query:",jr(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Pr()<=xe.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",jr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hi(n))):$.resolve())}ys(e,n){if(Pv(n))return $.resolve(null);let a=hi(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=dm(n,null,"F"),a=hi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const f=Oe(...c);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(y=>{const p=this.Ds(n,m);return this.Cs(n,p,f,y.readTime)?this.ys(e,dm(n,null,"F")):this.vs(e,p,n,y)}))})))}ws(e,n,a,o){return Pv(n)||o.isEqual(Te.min())?$.resolve(null):this.ps.getDocuments(e,a).next(c=>{const f=this.Ds(n,c);return this.Cs(n,f,a,o)?$.resolve(null):(Pr()<=xe.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),jr(n)),this.vs(e,f,n,V2(o,jl)).next(m=>m))})}Ds(e,n){let a=new Nt(U0(e));return n.forEach((o,c)=>{vh(e,c)&&(a=a.add(c))}),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,a){return Pr()<=xe.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",jr(n)),this.ps.getDocumentsMatchingQuery(e,n,Us.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="LocalStore",dI=3e8;class mI{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new rt(De),this.xs=new qa(c=>qm(c),Hm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function gI(s,e,n,a){return new mI(s,e,n,a)}async function oT(s,e){const n=Ae(s);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a))).next(c=>{const f=[],m=[];let y=Oe();for(const p of o){f.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of c){m.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(a,y).next(p=>({Ls:p,removedBatchIds:f,addedBatchIds:m}))})})}function pI(s,e){const n=Ae(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,p,T){const w=p.batch,b=w.keys();let L=$.resolve();return b.forEach(B=>{L=L.next(()=>T.getEntry(y,B)).next(te=>{const Z=p.docVersions.get(B);qe(Z!==null,48541),te.version.compareTo(Z)<0&&(w.applyToRemoteDocument(te,p),te.isValidDocument()&&(te.setReadTime(p.commitVersion),T.addEntry(te)))})}),L.next(()=>m.mutationQueue.removeMutationBatch(y,w))}(n,a,e,c).next(()=>c.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let y=Oe();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(y=y.add(m.batch.mutations[p].key));return y}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function lT(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yI(s,e){const n=Ae(s),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((T,w)=>{const b=o.get(w);if(!b)return;m.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(c,T.addedDocuments,w)));let L=b.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?L=L.withResumeToken(Gt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,a)),o=o.insert(w,L),function(te,Z,Ee){return te.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=dI?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0}(b,L,T)&&m.push(n.Pi.updateTargetData(c,L))});let y=$i(),p=Oe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(_I(c,f,e.documentUpdates).next(T=>{y=T.ks,p=T.qs})),!a.isEqual(Te.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next(w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a));m.push(T)}return $.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(n.Ms=o,c))}function _I(s,e,n){let a=Oe(),o=Oe();return n.forEach(c=>a=a.add(c)),e.getEntries(s,a).next(c=>{let f=$i();return n.forEach((m,y)=>{const p=c.get(m);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Te.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ae(Wm,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",y.version)}),{ks:f,qs:o}})}function vI(s,e){const n=Ae(s);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Lm),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function EI(s,e){const n=Ae(s);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Pi.getTargetData(a,e).next(c=>c?(o=c,$.resolve(o)):n.Pi.allocateTargetId(a).next(f=>(o=new Os(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a})}async function _m(s,e,n){const a=Ae(s),o=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!so(f))throw f;ae(Wm,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function Xv(s,e,n){const a=Ae(s);let o=Te.min(),c=Oe();return a.persistence.runTransaction("Execute query","readwrite",f=>function(y,p,T){const w=Ae(y),b=w.xs.get(T);return b!==void 0?$.resolve(w.Ms.get(b)):w.Pi.getTargetData(p,T)}(a,f,hi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>a.Fs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?c:Oe())).next(m=>(TI(a,rR(e),m),{documents:m,Qs:c})))}function TI(s,e,n){let a=s.Os.get(e)||Te.min();n.forEach((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),s.Os.set(e,a)}class $v{constructor(){this.activeTargetIds=fR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AI{constructor(){this.Mo=new $v,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $v,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="ConnectivityMonitor";class Zv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ae(Jv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ae(Jv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc=null;function vm(){return Dc===null?Dc=function(){return 268435456+Math.round(2147483648*Math.random())}():Dc++,"0x"+Dc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="RestConnection",bI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Wc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,c){const f=vm(),m=this.zo(e,n.toUriEncodedString());ae(Qd,`Sending RPC '${e}' ${f}:`,m,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:p}=new URL(m),T=Wr(p);return this.Jo(e,m,y,a,T).then(w=>(ae(Qd,`Received RPC '${e}' ${f}: `,w),w),w=>{throw Qr(Qd,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",a),w})}Ho(e,n,a,o,c,f){return this.Go(e,n,a,o,c)}jo(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),a&&a.headers.forEach((o,c)=>e[c]=o)}zo(e,n){const a=bI[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class II extends wI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,c){const f=vm();return new Promise((m,y)=>{const p=new h0;p.setWithCredentials(!0),p.listenOnce(f0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Uc.NO_ERROR:const w=p.getResponseJson();ae(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case Uc.TIMEOUT:ae(Xt,`RPC '${e}' ${f} timed out`),y(new se(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Uc.HTTP_ERROR:const b=p.getStatus();if(ae(Xt,`RPC '${e}' ${f} failed with status:`,b,"response text:",p.getResponseText()),b>0){let L=p.getResponseJson();Array.isArray(L)&&(L=L[0]);const B=L?.error;if(B&&B.status&&B.message){const te=function(Ee){const _e=Ee.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_e)>=0?_e:Y.UNKNOWN}(B.status);y(new se(te,B.message))}else y(new se(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new se(Y.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ae(Xt,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);ae(Xt,`RPC '${e}' ${f} sending request:`,o),p.send(n,"POST",T,a,15)})}T_(e,n,a){const o=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=g0(),m=m0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const T=c.join("");ae(Xt,`Creating RPC '${e}' stream ${o}: ${T}`,y);const w=f.createWebChannel(T,y);this.I_(w);let b=!1,L=!1;const B=new RI({Yo:Z=>{L?ae(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(b||(ae(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),b=!0),ae(Xt,`RPC '${e}' stream ${o} sending:`,Z),w.send(Z))},Zo:()=>w.close()}),te=(Z,Ee,_e)=>{Z.listen(Ee,fe=>{try{_e(fe)}catch(He){setTimeout(()=>{throw He},0)}})};return te(w,bl.EventType.OPEN,()=>{L||(ae(Xt,`RPC '${e}' stream ${o} transport opened.`),B.o_())}),te(w,bl.EventType.CLOSE,()=>{L||(L=!0,ae(Xt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(w))}),te(w,bl.EventType.ERROR,Z=>{L||(L=!0,Qr(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),B.a_(new se(Y.UNAVAILABLE,"The operation could not be completed")))}),te(w,bl.EventType.MESSAGE,Z=>{if(!L){const Ee=Z.data[0];qe(!!Ee,16349);const _e=Ee,fe=_e?.error||_e[0]?.error;if(fe){ae(Xt,`RPC '${e}' stream ${o} received error:`,fe);const He=fe.status;let Se=function(R){const C=Et[R];if(C!==void 0)return X0(C)}(He),ze=fe.message;Se===void 0&&(Se=Y.INTERNAL,ze="Unknown error status: "+He+" with message "+fe.message),L=!0,B.a_(new se(Se,ze)),w.close()}else ae(Xt,`RPC '${e}' stream ${o} received:`,Ee),B.u_(Ee)}}),te(m,d0.STAT_EVENT,Z=>{Z.stat===rm.PROXY?ae(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===rm.NOPROXY&&ae(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.__()},0),B}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Yd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(s){return new DR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,a=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="PersistentStream";class cT{constructor(e,n,a,o,c,f,m,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(Xi(n.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.D_===n&&this.G_(a,o)},a=>{e(()=>{const o=new se(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)})})}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{a(()=>this.z_(o))}),this.stream.onMessage(o=>{a(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ae(Wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ae(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NI extends cT{constructor(e,n,a,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VR(this.serializer,e),a=function(c){if(!("targetChange"in c))return Te.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?fi(f.readTime):Te.min()}(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=ym(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=hm(y)?{documents:jR(c,y)}:{query:UR(c,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Z0(c,f.resumeToken);const p=mm(c,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=ah(c,f.snapshotVersion.toTimestamp());const p=mm(c,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const a=zR(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=ym(this.serializer),n.removeTarget=e,this.q_(n)}}class CI extends cT{constructor(e,n,a,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=PR(e.writeResults,e.commitTime),a=fi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>kR(this.serializer,a))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{}class DI extends xI{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Go(e,gm(n,a),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new se(Y.UNKNOWN,c.toString())})}Ho(e,n,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,gm(n,a),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new se(Y.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class OI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xi(n),this.aa=!1):ae("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class MI{constructor(e,n,a,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(f=>{a.enqueueAndForget(async()=>{Ha(this)&&(ae(za,"Restarting streams for network reachability change."),await async function(y){const p=Ae(y);p.Ea.add(4),await Wl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await bh(p)}(this))})}),this.Ra=new OI(a,o)}}async function bh(s){if(Ha(s))for(const e of s.da)await e(!0)}async function Wl(s){for(const e of s.da)await e(!1)}function hT(s,e){const n=Ae(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ig(n)?ng(n):ao(n).O_()&&tg(n,e))}function eg(s,e){const n=Ae(s),a=ao(n);n.Ia.delete(e),a.O_()&&fT(n,e),n.Ia.size===0&&(a.O_()?a.L_():Ha(n)&&n.Ra.set("Unknown"))}function tg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ao(s).Y_(e)}function fT(s,e){s.Va.Ue(e),ao(s).Z_(e)}function ng(s){s.Va=new IR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),ao(s).start(),s.Ra.ua()}function ig(s){return Ha(s)&&!ao(s).x_()&&s.Ia.size>0}function Ha(s){return Ae(s).Ea.size===0}function dT(s){s.Va=void 0}async function VI(s){s.Ra.set("Online")}async function kI(s){s.Ia.forEach((e,n)=>{tg(s,e)})}async function PI(s,e){dT(s),ig(s)?(s.Ra.ha(e),ng(s)):s.Ra.set("Unknown")}async function jI(s,e,n){if(s.Ra.set("Online"),e instanceof J0&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(s,e)}catch(a){ae(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oh(s,a)}else if(e instanceof qc?s.Va.Ze(e):e instanceof $0?s.Va.st(e):s.Va.tt(e),!n.isEqual(Te.min()))try{const a=await lT(s.localStore);n.compareTo(a)>=0&&await function(c,f){const m=c.Va.Tt(f);return m.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(p);T&&c.Ia.set(p,T.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,p)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Gt.EMPTY_BYTE_STRING,T.snapshotVersion)),fT(c,y);const w=new Os(T.target,y,p,T.sequenceNumber);tg(c,w)}),c.remoteSyncer.applyRemoteEvent(m)}(s,n)}catch(a){ae(za,"Failed to raise snapshot:",a),await oh(s,a)}}async function oh(s,e,n){if(!so(e))throw e;s.Ea.add(1),await Wl(s),s.Ra.set("Offline"),n||(n=()=>lT(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{ae(za,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await bh(s)})}function mT(s,e){return e().catch(n=>oh(s,n,e))}async function wh(s){const e=Ae(s),n=qs(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lm;for(;UI(e);)try{const o=await vI(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,LI(e,o)}catch(o){await oh(e,o)}gT(e)&&pT(e)}function UI(s){return Ha(s)&&s.Ta.length<10}function LI(s,e){s.Ta.push(e);const n=qs(s);n.O_()&&n.X_&&n.ea(e.mutations)}function gT(s){return Ha(s)&&!qs(s).x_()&&s.Ta.length>0}function pT(s){qs(s).start()}async function zI(s){qs(s).ra()}async function BI(s){const e=qs(s);for(const n of s.Ta)e.ea(n.mutations)}async function qI(s,e,n){const a=s.Ta.shift(),o=Qm.from(a,e,n);await mT(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await wh(s)}async function HI(s,e){e&&qs(s).X_&&await async function(a,o){if(function(f){return bR(f)&&f!==Y.ABORTED}(o.code)){const c=a.Ta.shift();qs(a).B_(),await mT(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o)),await wh(a)}}(s,e),gT(s)&&pT(s)}async function eE(s,e){const n=Ae(s);n.asyncQueue.verifyOperationInProgress(),ae(za,"RemoteStore received new credentials");const a=Ha(n);n.Ea.add(3),await Wl(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await bh(n)}async function FI(s,e){const n=Ae(s);e?(n.Ea.delete(2),await bh(n)):e||(n.Ea.add(2),await Wl(n),n.Ra.set("Unknown"))}function ao(s){return s.ma||(s.ma=function(n,a,o){const c=Ae(n);return c.sa(),new NI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Xo:VI.bind(null,s),t_:kI.bind(null,s),r_:PI.bind(null,s),H_:jI.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),ig(s)?ng(s):s.Ra.set("Unknown")):(await s.ma.stop(),dT(s))})),s.ma}function qs(s){return s.fa||(s.fa=function(n,a,o){const c=Ae(n);return c.sa(),new CI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:zI.bind(null,s),r_:HI.bind(null,s),ta:BI.bind(null,s),na:qI.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await wh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(za,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,a,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,c){const f=Date.now()+a,m=new sg(e,n,f,o,c);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ag(s,e){if(Xi("AsyncQueue",`${e}: ${s}`),so(s))return new se(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{static emptySet(e){return new Fr(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ce.comparator(n.key,a.key):(n,a)=>ce.comparator(n.key,a.key),this.keyedMap=wl(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Fr;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.ga=new rt(ce.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):pe(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,a)=>{e.push(a)}),e}}class Zr{constructor(e,n,a,o,c,f,m,y,p){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,a,o,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Zr(e,n,Fr.emptySet(n),f,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class KI{constructor(){this.queries=nE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ae(n),c=o.queries;o.queries=nE(),c.forEach((f,m)=>{for(const y of m.Sa)y.onError(a)})})(this,new se(Y.ABORTED,"Firestore shutting down"))}}function nE(){return new qa(s=>j0(s),_h)}async function yT(s,e){const n=Ae(s);let a=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(a=2):(c=new GI,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ag(f,`Initialization of query '${jr(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&rg(n)}async function _T(s,e){const n=Ae(s),a=e.query;let o=3;const c=n.queries.get(a);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function QI(s,e){const n=Ae(s);let a=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&rg(n)}function YI(s,e,n){const a=Ae(s),o=a.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);a.queries.delete(e)}function rg(s){s.Ca.forEach(e=>{e.next()})}var Em,iE;(iE=Em||(Em={})).Ma="default",iE.Cache="cache";class vT{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Zr(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Zr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e){this.key=e}}class TT{constructor(e){this.key=e}}class XI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Oe(),this.mutatedKeys=Oe(),this.eu=U0(e),this.tu=new Fr(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new tE,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const b=o.get(T),L=vh(this.query,w)?w:null,B=!!b&&this.mutatedKeys.has(b.key),te=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let Z=!1;b&&L?b.data.isEqual(L.data)?B!==te&&(a.track({type:3,doc:L}),Z=!0):this.su(b,L)||(a.track({type:2,doc:L}),Z=!0,(y&&this.eu(L,y)>0||p&&this.eu(L,p)<0)&&(m=!0)):!b&&L?(a.track({type:0,doc:L}),Z=!0):b&&!L&&(a.track({type:1,doc:b}),Z=!0,(y||p)&&(m=!0)),Z&&(L?(f=f.add(L),c=te?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:f,iu:a,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((T,w)=>function(L,B){const te=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Rt:Z})}};return te(L)-te(B)}(T.type,w.type)||this.eu(T.doc,w.doc)),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,p=y!==this.Za;return this.Za=y,f.length!==0||p?{snapshot:new Zr(this.query,e.tu,c,f,e.mutatedKeys,y===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Oe(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const n=[];return e.forEach(a=>{this.Xa.has(a)||n.push(new TT(a))}),this.Xa.forEach(a=>{e.has(a)||n.push(new ET(a))}),n}cu(e){this.Ya=e.Qs,this.Xa=Oe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Zr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const og="SyncEngine";class $I{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class JI{constructor(e){this.key=e,this.hu=!1}}class ZI{constructor(e,n,a,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new qa(m=>j0(m),_h),this.Iu=new Map,this.Eu=new Set,this.du=new rt(ce.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=Jr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WI(s,e,n=!0){const a=IT(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await AT(a,e,n,!0),o}async function eN(s,e){const n=IT(s);await AT(n,e,!0,!1)}async function AT(s,e,n,a){const o=await EI(s.localStore,hi(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let m;return a&&(m=await tN(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&hT(s.remoteStore,o),m}async function tN(s,e,n,a,o){s.pu=(w,b,L)=>async function(te,Z,Ee,_e){let fe=Z.view.ru(Ee);fe.Cs&&(fe=await Xv(te.localStore,Z.query,!1).then(({documents:V})=>Z.view.ru(V,fe)));const He=_e&&_e.targetChanges.get(Z.targetId),Se=_e&&_e.targetMismatches.get(Z.targetId)!=null,ze=Z.view.applyChanges(fe,te.isPrimaryClient,He,Se);return aE(te,Z.targetId,ze.au),ze.snapshot}(s,w,b,L);const c=await Xv(s.localStore,e,!0),f=new XI(e,c.Qs),m=f.ru(c.documents),y=Zl.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",o),p=f.applyChanges(m,s.isPrimaryClient,y);aE(s,n,p.au);const T=new $I(e,n,f);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),p.snapshot}async function nN(s,e,n){const a=Ae(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter(f=>!_h(f,e))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&eg(a.remoteStore,o.targetId),Tm(a,o.targetId)}).catch(io)):(Tm(a,o.targetId),await _m(a.localStore,o.targetId,!0))}async function iN(s,e){const n=Ae(s),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),eg(n.remoteStore,a.targetId))}async function sN(s,e,n){const a=hN(s);try{const o=await function(f,m){const y=Ae(f),p=nt.now(),T=m.reduce((L,B)=>L.add(B.key),Oe());let w,b;return y.persistence.runTransaction("Locally write mutations","readwrite",L=>{let B=$i(),te=Oe();return y.Ns.getEntries(L,T).next(Z=>{B=Z,B.forEach((Ee,_e)=>{_e.isValidDocument()||(te=te.add(Ee))})}).next(()=>y.localDocuments.getOverlayedDocuments(L,B)).next(Z=>{w=Z;const Ee=[];for(const _e of m){const fe=vR(_e,w.get(_e.key).overlayedDocument);fe!=null&&Ee.push(new Qs(_e.key,fe,C0(fe.value.mapValue),qn.exists(!0)))}return y.mutationQueue.addMutationBatch(L,p,Ee,m)}).next(Z=>{b=Z;const Ee=Z.applyToLocalDocumentSet(w,te);return y.documentOverlayCache.saveOverlays(L,Z.batchId,Ee)})}).then(()=>({batchId:b.batchId,changes:z0(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let p=f.Vu[f.currentUser.toKey()];p||(p=new rt(De)),p=p.insert(m,y),f.Vu[f.currentUser.toKey()]=p}(a,o.batchId,n),await eu(a,o.changes),await wh(a.remoteStore)}catch(o){const c=ag(o,"Failed to persist write");n.reject(c)}}async function ST(s,e){const n=Ae(s);try{const a=await yI(n.localStore,e);e.targetChanges.forEach((o,c)=>{const f=n.Au.get(c);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qe(f.hu,14607):o.removedDocuments.size>0&&(qe(f.hu,42227),f.hu=!1))}),await eu(n,a,e)}catch(a){await io(a)}}function sE(s,e,n){const a=Ae(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Ae(f);y.onlineState=m;let p=!1;y.queries.forEach((T,w)=>{for(const b of w.Sa)b.va(m)&&(p=!0)}),p&&rg(y)}(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function aN(s,e,n){const a=Ae(s);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),c=o&&o.key;if(c){let f=new rt(ce.comparator);f=f.insert(c,Jt.newNoDocument(c,Te.min()));const m=Oe().add(c),y=new Ah(Te.min(),new Map,new rt(De),f,m);await ST(a,y),a.du=a.du.remove(c),a.Au.delete(e),lg(a)}else await _m(a.localStore,e,!1).then(()=>Tm(a,e,n)).catch(io)}async function rN(s,e){const n=Ae(s),a=e.batch.batchId;try{const o=await pI(n.localStore,e);wT(n,a,null),bT(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await eu(n,o)}catch(o){await io(o)}}async function oN(s,e,n){const a=Ae(s);try{const o=await function(f,m){const y=Ae(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let T;return y.mutationQueue.lookupMutationBatch(p,m).next(w=>(qe(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(p,w))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T)).next(()=>y.localDocuments.getDocuments(p,T))})}(a.localStore,e);wT(a,e,n),bT(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await eu(a,o)}catch(o){await io(o)}}function bT(s,e){(s.mu.get(e)||[]).forEach(n=>{n.resolve()}),s.mu.delete(e)}function wT(s,e,n){const a=Ae(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function Tm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(a=>{s.Ru.containsKey(a)||RT(s,a)})}function RT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(eg(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),lg(s))}function aE(s,e,n){for(const a of n)a instanceof ET?(s.Ru.addReference(a.key,e),lN(s,a)):a instanceof TT?(ae(og,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||RT(s,a.key)):pe(19791,{wu:a})}function lN(s,e){const n=e.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(ae(og,"New document in limbo: "+n),s.Eu.add(a),lg(s))}function lg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ce(tt.fromString(e)),a=s.fu.next();s.Au.set(a,new JI(n)),s.du=s.du.insert(n,a),hT(s.remoteStore,new Os(hi(Fm(n.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function eu(s,e,n){const a=Ae(s),o=[],c=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach((m,y)=>{f.push(a.pu(y,e,n).then(p=>{if((p||n)&&a.isPrimaryClient){const T=p?!p.fromCache:n?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){o.push(p);const T=Zm.As(y.targetId,p);c.push(T)}}))}),await Promise.all(f),a.Pu.H_(o),await async function(y,p){const T=Ae(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>$.forEach(p,b=>$.forEach(b.Es,L=>T.persistence.referenceDelegate.addReference(w,b.targetId,L)).next(()=>$.forEach(b.ds,L=>T.persistence.referenceDelegate.removeReference(w,b.targetId,L)))))}catch(w){if(!so(w))throw w;ae(Wm,"Failed to update sequence numbers: "+w)}for(const w of p){const b=w.targetId;if(!w.fromCache){const L=T.Ms.get(b),B=L.snapshotVersion,te=L.withLastLimboFreeSnapshotVersion(B);T.Ms=T.Ms.insert(b,te)}}}(a.localStore,c))}async function uN(s,e){const n=Ae(s);if(!n.currentUser.isEqual(e)){ae(og,"User change. New user:",e.toKey());const a=await oT(n.localStore,e);n.currentUser=e,function(c,f){c.mu.forEach(m=>{m.forEach(y=>{y.reject(new se(Y.CANCELLED,f))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await eu(n,a.Ls)}}function cN(s,e){const n=Ae(s),a=n.Au.get(e);if(a&&a.hu)return Oe().add(a.key);{let o=Oe();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function IT(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aN.bind(null,e),e.Pu.H_=QI.bind(null,e.eventManager),e.Pu.yu=YI.bind(null,e.eventManager),e}function hN(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oN.bind(null,e),e}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gI(this.persistence,new fI,e.initialUser,this.serializer)}Cu(e){return new rT(Jm.mi,this.serializer)}Du(e){return new AI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class fN extends lh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof rh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new JR(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new rT(a=>rh.mi(a,n),this.serializer)}}class Am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uN.bind(null,this.syncEngine),await FI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KI}()}createDatastore(e){const n=Sh(e.databaseInfo.databaseId),a=function(c){return new II(c)}(e.databaseInfo);return function(c,f,m,y){return new DI(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,c,f,m){return new MI(a,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>sE(this.syncEngine,n,0),function(){return Zv.v()?new Zv:new SI}())}createSyncEngine(e,n){return function(o,c,f,m,y,p,T){const w=new ZI(o,c,f,m,y,p);return T&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const a=Ae(n);ae(za,"RemoteStore shutting down."),a.Ea.add(5),await Wl(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class dN{constructor(e,n,a,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async f=>{ae(Hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(ae(Hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=ag(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Xd(s,e){s.asyncQueue.verifyOperationInProgress(),ae(Hs,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await oT(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function rE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await mN(s);ae(Hs,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(a=>eE(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>eE(e.remoteStore,o)),s._onlineComponents=e}async function mN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(Hs,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Qr("Error using user provided cache. Falling back to memory cache: "+n),await Xd(s,new lh)}}else ae(Hs,"Using default OfflineComponentProvider"),await Xd(s,new fN(void 0));return s._offlineComponents}async function CT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(Hs,"Using user provided OnlineComponentProvider"),await rE(s,s._uninitializedComponentsProvider._online)):(ae(Hs,"Using default OnlineComponentProvider"),await rE(s,new Am))),s._onlineComponents}function gN(s){return CT(s).then(e=>e.syncEngine)}async function xT(s){const e=await CT(s),n=e.eventManager;return n.onListen=WI.bind(null,e.syncEngine),n.onUnlisten=nN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iN.bind(null,e.syncEngine),n}function pN(s,e,n={}){const a=new Ki;return s.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,p){const T=new NT({next:b=>{T.Nu(),f.enqueueAndForget(()=>_T(c,w));const L=b.docs.has(m);!L&&b.fromCache?p.reject(new se(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):L&&b.fromCache&&y&&y.source==="server"?p.reject(new se(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),w=new vT(Fm(m.path),T,{includeMetadataChanges:!0,qa:!0});return yT(c,w)}(await xT(s),s.asyncQueue,e,n,a)),a.promise}function yN(s,e,n={}){const a=new Ki;return s.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,p){const T=new NT({next:b=>{T.Nu(),f.enqueueAndForget(()=>_T(c,w)),b.fromCache&&y.source==="server"?p.reject(new se(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(b)},error:b=>p.reject(b)}),w=new vT(m,T,{includeMetadataChanges:!0,qa:!0});return yT(c,w)}(await xT(s),s.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firestore.googleapis.com",lE=!0;class uE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new se(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=lE}else this.host=e.host,this.ssl=e.ssl??lE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XR)throw new se(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(e.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new se(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new se(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new se(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new S2;switch(a.type){case"firstParty":return new I2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new se(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=oE.get(n);a&&(ae("ComponentProvider","Removing Datastore"),oE.delete(n),a.terminate())}(this),Promise.resolve()}}function _N(s,e,n,a={}){s=gi(s,Rh);const o=Wr(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(AE(`https://${m}`),SE("Firestore",!0)),c.host!==OT&&c.host!==m&&Qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:a};if(!ka(y,f)&&(s._setSettings(y),a.mockUserToken)){let p,T;if(typeof a.mockUserToken=="string")p=a.mockUserToken,T=$t.MOCK_USER;else{p=VA(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new se(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $t(w)}s._authCredentials=new b2(new y0(p,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ro(this.firestore,e,this._query)}}class gt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Xl(n,gt._jsonSchema))return new gt(e,a||null,new ce(tt.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:At("string",gt._jsonSchemaVersion),referencePath:At("string")};class js extends ro{constructor(e,n,a){super(e,n,Fm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ce(e))}withConverter(e){return new js(this.firestore,e,this._path)}}function vN(s,e,...n){if(s=Ft(s),_0("collection","path",e),s instanceof Rh){const a=tt.fromString(e,...n);return Av(a),new js(s,null,a)}{if(!(s instanceof gt||s instanceof js))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(tt.fromString(e,...n));return Av(a),new js(s.firestore,null,a)}}function Oc(s,e,...n){if(s=Ft(s),arguments.length===1&&(e=Um.newId()),_0("doc","path",e),s instanceof Rh){const a=tt.fromString(e,...n);return Tv(a),new gt(s,null,new ce(a))}{if(!(s instanceof gt||s instanceof js))throw new se(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(tt.fromString(e,...n));return Tv(a),new gt(s.firestore,s instanceof js?s.converter:null,new ce(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="AsyncQueue";class hE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uT(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&ae(cE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Yd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Yd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ki;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!so(e))throw e;ae(cE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(a=>{throw this.nc=a,this.rc=!1,Xi("INTERNAL UNHANDLED ERROR: ",fE(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=sg.createAndSchedule(this,e,n,a,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&pe(47125,{Pc:fE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class oo extends Rh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new hE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hE(e),this._firestoreClient=void 0,await e}}}function EN(s,e){const n=typeof s=="object"?s:IE(),a=typeof s=="string"?s:Wc,o=Nm(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=OA("firestore");c&&_N(o,...c)}return o}function ug(s){if(s._terminated)throw new se(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||TN(s),s._firestoreClient}function TN(s){const e=s._freezeSettings(),n=function(o,c,f,m){return new F2(o,c,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,DT(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new dN(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Gt.fromBase64String(e))}catch(n){throw new se(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xl(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:At("string",Vn._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Xl(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:At("string",di._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xl(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new mi(e.vectorValues);throw new se(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:At("string",mi._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^__.*__$/;class SN{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class MT{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{Ac:s})}}class hg{constructor(e,n,a,o,c,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VT(this.Ac)&&AN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class bN{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Sh(e)}Cc(e,n,a,o=!1){return new hg({Ac:e,methodName:n,Dc:a,path:Ht.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fg(s){const e=s._freezeSettings(),n=Sh(s._databaseId);return new bN(s._databaseId,!!e.ignoreUndefinedProperties,n)}function wN(s,e,n,a,o,c={}){const f=s.Cc(c.merge||c.mergeFields?2:0,e,n,o);dg("Data must be an object, but it was:",f,a);const m=kT(a,f);let y,p;if(c.merge)y=new vn(f.fieldMask),p=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const b=Sm(e,w,n);if(!f.contains(b))throw new se(Y.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);jT(T,b)||T.push(b)}y=new vn(T),p=f.fieldTransforms.filter(w=>y.covers(w.field))}else y=null,p=f.fieldTransforms;return new SN(new ln(m),y,p)}class Nh extends cg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function RN(s,e,n,a){const o=s.Cc(1,e,n);dg("Data must be an object, but it was:",o,a);const c=[],f=ln.empty();Ks(a,(y,p)=>{const T=mg(e,y,n);p=Ft(p);const w=o.yc(T);if(p instanceof Nh)c.push(T);else{const b=tu(p,w);b!=null&&(c.push(T),f.set(T,b))}});const m=new vn(c);return new MT(f,m,o.fieldTransforms)}function IN(s,e,n,a,o,c){const f=s.Cc(1,e,n),m=[Sm(e,a,n)],y=[o];if(c.length%2!=0)throw new se(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)m.push(Sm(e,c[b])),y.push(c[b+1]);const p=[],T=ln.empty();for(let b=m.length-1;b>=0;--b)if(!jT(p,m[b])){const L=m[b];let B=y[b];B=Ft(B);const te=f.yc(L);if(B instanceof Nh)p.push(L);else{const Z=tu(B,te);Z!=null&&(p.push(L),T.set(L,Z))}}const w=new vn(p);return new MT(T,w,f.fieldTransforms)}function NN(s,e,n,a=!1){return tu(n,s.Cc(a?4:3,e))}function tu(s,e){if(PT(s=Ft(s)))return dg("Unsupported field value:",e,s),kT(s,e);if(s instanceof cg)return function(a,o){if(!VT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(a,o){const c=[];let f=0;for(const m of a){let y=tu(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(s,e)}return function(a,o){if((a=Ft(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return dR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=nt.fromDate(a);return{timestampValue:ah(o.serializer,c)}}if(a instanceof nt){const c=new nt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(o.serializer,c)}}if(a instanceof di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vn)return{bytesValue:Z0(o.serializer,a._byteString)};if(a instanceof gt){const c=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof mi)return function(f,m){return{mapValue:{fields:{[I0]:{stringValue:N0},[eh]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Gm(m.serializer,p)})}}}}}}(a,o);throw o.Sc(`Unsupported field value: ${mh(a)}`)}(s,e)}function kT(s,e){const n={};return T0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(s,(a,o)=>{const c=tu(o,e.mc(a));c!=null&&(n[a]=c)}),{mapValue:{fields:n}}}function PT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof nt||s instanceof di||s instanceof Vn||s instanceof gt||s instanceof cg||s instanceof mi)}function dg(s,e,n){if(!PT(n)||!v0(n)){const a=mh(n);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Sm(s,e,n){if((e=Ft(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return mg(s,e);throw uh("Field path arguments must be of type string or ",s,!1,void 0,n)}const CN=new RegExp("[~\\*/\\[\\]]");function mg(s,e,n){if(e.search(CN)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Ih(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function uh(s,e,n,a,o){const c=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${a}`),f&&(y+=` in document ${o}`),y+=")"),new se(Y.INVALID_ARGUMENT,m+s+y)}function jT(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,a,o,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xN extends UT{data(){return super.data()}}function gg(s,e){return typeof e=="string"?mg(s,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new se(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class ON extends pg{}function MN(s,e,...n){let a=[];e instanceof pg&&a.push(e),a=a.concat(n),function(c){const f=c.filter(y=>y instanceof yg).length,m=c.filter(y=>y instanceof Ch).length;if(f>1||f>0&&m>0)throw new se(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class Ch extends ON{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Ch(e,n,a)}_apply(e){const n=this._parse(e);return LT(e._query,n),new ro(e.firestore,e.converter,fm(e._query,n))}_parse(e){const n=fg(e.firestore);return function(c,f,m,y,p,T,w){let b;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new se(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){mE(w,T);const B=[];for(const te of w)B.push(dE(y,c,te));b={arrayValue:{values:B}}}else b=dE(y,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||mE(w,T),b=NN(m,f,w,T==="in"||T==="not-in");return Tt.create(p,T,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VN(s,e,n){const a=e,o=gg("where",s);return Ch._create(o,a,n)}class yg extends pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yg(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let f=o;const m=c.getFlattenedFilters();for(const y of m)LT(f,y),f=fm(f,y)}(e._query,n),new ro(e.firestore,e.converter,fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function dE(s,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new se(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P0(e)&&n.indexOf("/")!==-1)throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(tt.fromString(n));if(!ce.isDocumentKey(a))throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return xv(s,new ce(a))}if(n instanceof gt)return xv(s,n._key);throw new se(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mh(n)}.`)}function mE(s,e){if(!Array.isArray(s)||s.length===0)throw new se(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LT(s,e){const n=function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kN{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ks(e,(o,c)=>{a[o]=this.convertValue(c,n)}),a}convertVectorValue(e){const n=e.fields?.[eh].arrayValue?.values?.map(a=>mt(a.doubleValue));return new mi(n)}convertGeoPoint(e){return new di(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=tt.fromString(e);qe(sT(a),9688,{name:e});const o=new Ll(a.get(1),a.get(3)),c=new ce(a.popFirst(5));return o.isEqual(n)||Xi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(s,e,n){let a;return a=s?n&&(n.merge||n.mergeFields)?s.toFirestore(e,n):s.toFirestore(e):e,a}class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends UT{constructor(e,n,a,o,c,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(gg("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Va._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:At("string",Va._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Hc extends Va{data(e={}){return super.data(e)}}class Gr{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Il(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new Hc(this._firestore,this._userDataWriter,a.key,a,new Il(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new Hc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const y=new Hc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Il(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:jN(m.type),doc:y,oldIndex:p,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new se(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(s){s=gi(s,gt);const e=gi(s.firestore,oo);return pN(ug(e),s._key).then(n=>HN(e,s,n))}Gr._jsonSchemaVersion="firestore/querySnapshot/1.0",Gr._jsonSchema={type:At("string",Gr._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class zT extends kN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function LN(s){s=gi(s,ro);const e=gi(s.firestore,oo),n=ug(e),a=new zT(e);return DN(s._query),yN(n,s._query).then(o=>new Gr(e,a,s,o))}function zN(s,e,n){s=gi(s,gt);const a=gi(s.firestore,oo),o=PN(s.converter,e,n);return _g(a,[wN(fg(a),"setDoc",s._key,o,s.converter!==null,n).toMutation(s._key,qn.none())])}function BN(s,e,n,...a){s=gi(s,gt);const o=gi(s.firestore,oo),c=fg(o);let f;return f=typeof(e=Ft(e))=="string"||e instanceof Ih?IN(c,"updateDoc",s._key,e,n,a):RN(c,"updateDoc",s._key,e),_g(o,[f.toMutation(s._key,qn.exists(!0))])}function qN(s){return _g(gi(s.firestore,oo),[new Km(s._key,qn.none())])}function _g(s,e){return function(a,o){const c=new Ki;return a.asyncQueue.enqueueAndForget(async()=>sN(await gN(a),o,c)),c.promise}(ug(s),e)}function HN(s,e,n){const a=n.docs.get(e._key),o=new zT(s);return new Va(s,o,e._key,a,new Il(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){no=o})(eo),Kr(new Pa("firestore",(a,{instanceIdentifier:o,options:c})=>{const f=a.getProvider("app").getImmediate(),m=new oo(new w2(a.getProvider("auth-internal")),new N2(f,a.getProvider("app-check-internal")),function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new se(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(p.options.projectId,T)}(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),ks(yv,_v,e),ks(yv,_v,"esm2020")})();const FN={apiKey:"AIzaSyCnC27JStpAMt1v_4t_xRZ_QppHNA3TiK8",authDomain:"searchplayer-28601.firebaseapp.com",projectId:"searchplayer-28601",storageBucket:"searchplayer-28601.firebasestorage.app",messagingSenderId:"1038349338996",appId:"1:1038349338996:web:98255f1dbb8d55dbf78421"},BT=RE(FN),$d=v2(BT),El=EN(BT);class GN{USERS_COLLECTION="users";async saveUser(e){const n=Oc(El,this.USERS_COLLECTION,e.uid),a={...e,id:e.uid,updatedAt:new Date,createdAt:e.createdAt||new Date};await zN(n,a,{merge:!0})}async getUserByUid(e){const n=Oc(El,this.USERS_COLLECTION,e),a=await UN(n);return a.exists()?a.data():null}async getUserByEmail(e){const n=vN(El,this.USERS_COLLECTION),a=MN(n,VN("email","==",e)),o=await LN(a);return o.empty?null:o.docs[0].data()}async updateUser(e,n){const a=Oc(El,this.USERS_COLLECTION,e),o={...n,updatedAt:new Date};await BN(a,o)}async deleteUser(e){const n=Oc(El,this.USERS_COLLECTION,e);await qN(n)}}const Mc=new GN;class KN{USER_STORAGE_KEY="user";async register(e,n,a){try{const c=(await sw($d,e,n)).user,f={uid:c.uid,email:c.email,name:a,favoriteTeams:[],favoritePlayers:[],preferences:{theme:"light",language:"pt"},createdAt:new Date,updatedAt:new Date};return await Mc.saveUser(f),this.saveUserToStorage(f),f}catch(o){throw console.error("Registration error:",o),o}}async login(e,n){try{const o=(await aw($d,e,n)).user;let c=await Mc.getUserByUid(o.uid);return c||(c={uid:o.uid,email:o.email,name:o.displayName||e.split("@")[0],favoriteTeams:[],favoritePlayers:[],preferences:{theme:"light",language:"pt"},createdAt:new Date,updatedAt:new Date},await Mc.saveUser(c)),this.saveUserToStorage(c),c}catch(a){throw console.error("Login error:",a),a}}async updateUser(e){const n=this.getCurrentUser();if(!n)throw new Error("No user logged in");try{await Mc.updateUser(n.uid,e);const a={...n,...e};return this.saveUserToStorage(a),a}catch(a){throw console.error("Update user error:",a),a}}async logout(){try{await lw($d),this.removeUserFromStorage(),this.clearAuthPersistence()}catch(e){throw console.error("Logout error:",e),e}}getCurrentUser(){const e=localStorage.getItem(this.USER_STORAGE_KEY);if(e)try{return JSON.parse(e)}catch(n){return console.error("Error parsing stored user:",n),this.removeUserFromStorage(),null}return null}isAuthenticated(){return this.getCurrentUser()!==null}clearAuthPersistence(){this.removeUserFromStorage(),typeof window<"u"&&Object.keys(localStorage).forEach(e=>{(e.includes("firebase")||e.includes("auth"))&&localStorage.removeItem(e)})}saveUserToStorage(e){localStorage.setItem(this.USER_STORAGE_KEY,JSON.stringify(e))}removeUserFromStorage(){localStorage.removeItem(this.USER_STORAGE_KEY)}}const Tl=new KN,QN=({children:s})=>{const[e,n]=oe.useState(null),[a,o]=oe.useState(!1);oe.useEffect(()=>{Tl.clearAuthPersistence()},[]);const c=async(p,T)=>{o(!0);try{const w=await Tl.login(p,T);return n(w),!0}catch(w){return console.error("Login error:",w),!1}finally{o(!1)}},f=async(p,T,w)=>{o(!0);try{const b=await Tl.register(p,T,w);return n(b),!0}catch(b){return console.error("Registration error:",b),!1}finally{o(!1)}},m=async()=>{o(!0);try{await Tl.logout(),n(null)}catch(p){console.error("Logout error:",p)}finally{o(!1)}},y=async p=>{if(e){o(!0);try{const T=await Tl.updateUser(p);n(T)}catch(T){console.error("Update user error:",T)}finally{o(!1)}}};return _.jsx(gE.Provider,{value:{user:e,login:c,register:f,logout:m,updateUser:y,isLoading:a},children:s})},qT=oe.createContext(void 0),YN=({children:s})=>{const[e,n]=oe.useState("light");oe.useEffect(()=>{const o=localStorage.getItem("theme");o&&n(o)},[]),oe.useEffect(()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)},[e]);const a=()=>{n(o=>o==="light"?"dark":"light")};return _.jsx(qT.Provider,{value:{theme:e,toggleTheme:a},children:s})},lo=()=>{const s=oe.useContext(gE);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},XN=()=>{const s=oe.useContext(qT);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s},Qe=({variant:s="primary",size:e="md",children:n,icon:a,iconPosition:o="left",loading:c=!1,fullWidth:f=!1,className:m="",disabled:y,...p})=>{const w={primary:"btn-primary",secondary:"btn-secondary",ghost:"btn-ghost"},b={sm:"btn-sm",md:"",lg:"btn-lg"},L=a&&!n,B=["btn",w[s],b[e],f?"btn-full-width":"",L?"btn-icon-only":"",m].filter(Boolean).join(" "),te=y||c;return _.jsxs("button",{className:B,disabled:te,...p,children:[c&&_.jsx("div",{className:"btn-loading-spinner",children:_.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("path",{d:"M21 12a9 9 0 11-6.219-8.56"})})}),!c&&a&&o==="left"&&_.jsx("span",{className:"btn-icon btn-icon-left",children:a}),n&&_.jsx("span",{className:"btn-content",children:n}),!c&&a&&o==="right"&&_.jsx("span",{className:"btn-icon btn-icon-right",children:a})]})},$N=({onMenuToggle:s})=>{const{user:e,logout:n}=lo(),{theme:a,toggleTheme:o}=XN();return _.jsx("header",{className:"header",children:_.jsxs("div",{className:"header-content",children:[_.jsxs("div",{className:"header-left",children:[_.jsx(Qe,{variant:"ghost",onClick:s,className:"menu-toggle",icon:_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),_.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),_.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),_.jsx("h1",{className:"logo",children:"⚽ FootballSearch"})]}),_.jsxs("div",{className:"header-right",children:[_.jsx(Qe,{variant:"ghost",onClick:o,children:a==="light"?_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("circle",{cx:"12",cy:"12",r:"5"}),_.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),_.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),_.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),_.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),_.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),_.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),_.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),_.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})}),e&&_.jsxs("div",{className:"user-menu",children:[_.jsxs("span",{className:"user-name",children:["Olá, ",e.name]}),_.jsx(Qe,{variant:"ghost",size:"sm",onClick:async()=>{try{await n()}catch(c){console.error("Logout error:",c)}},children:"Sair"})]})]})]})})},JN=({isOpen:s,onClose:e,onNavigate:n,currentPage:a})=>{const{user:o}=lo(),c=[{id:"search",label:"Buscar Jogadores",icon:"🔍"},{id:"favorites",label:"Favoritos",icon:"⭐"},{id:"rankings",label:"Rankings",icon:"🏆"},{id:"top-players",label:"Top Jogadores",icon:"👑"},{id:"compare",label:"Comparar",icon:"⚖️"}],f=m=>{n(m),e()};return o?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:`sidebar-overlay ${s?"active":""}`,onClick:e}),_.jsxs("aside",{className:`sidebar ${s?"open":""}`,children:[_.jsxs("div",{className:"sidebar-header",children:[_.jsx("h2",{children:"Menu"}),_.jsx(Qe,{variant:"ghost",onClick:e,className:"close-btn",icon:_.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),_.jsx("nav",{className:"sidebar-nav",children:c.map(m=>_.jsx(Qe,{variant:"ghost",className:`nav-item ${a===m.id?"active":""}`,onClick:()=>f(m.id),icon:_.jsx("span",{className:"nav-icon",children:m.icon}),children:_.jsx("span",{className:"nav-label",children:m.label})},m.id))}),_.jsx("div",{className:"sidebar-footer",children:_.jsxs("div",{className:"user-info",children:[_.jsx("div",{className:"user-avatar",children:o.name.charAt(0).toUpperCase()}),_.jsxs("div",{className:"user-details",children:[_.jsx("div",{className:"user-name",children:o.name}),_.jsx("div",{className:"user-email",children:o.email})]})]})})]})]}):null},ZN=({onNavigate:s})=>{const[e,n]=oe.useState(!0),[a,o]=oe.useState({email:"",password:"",name:""}),[c,f]=oe.useState(""),{login:m,register:y,isLoading:p}=lo(),T=async b=>{b.preventDefault(),f("");try{let L=!1;e?L=await m(a.email,a.password):L=await y(a.email,a.password,a.name),L?s("search"):f("Credenciais inválidas")}catch(L){console.error("Auth error:",L),f("Erro ao fazer login/registro")}},w=b=>{o(L=>({...L,[b.target.name]:b.target.value}))};return _.jsx("div",{className:"login-page",children:_.jsxs("div",{className:"login-card card",children:[_.jsxs("div",{className:"card-header",children:[_.jsx("h2",{className:"login-title text-2xl font-bold text-center",children:"⚽ FootballSearch"}),_.jsx("p",{className:"login-subtitle text-center text-muted mt-2",children:e?"Entre na sua conta":"Crie sua conta"})]}),_.jsxs("div",{className:"card-body",children:[_.jsxs("form",{onSubmit:T,children:[!e&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Nome"}),_.jsx("input",{type:"text",name:"name",value:a.name,onChange:w,className:"form-input",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Email"}),_.jsx("input",{type:"email",name:"email",value:a.email,onChange:w,className:"form-input",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Senha"}),_.jsx("input",{type:"password",name:"password",value:a.password,onChange:w,className:"form-input",required:!0})]}),c&&_.jsx("div",{className:"login-error",children:c}),_.jsx(Qe,{type:"submit",variant:"primary",className:"login-submit-btn",disabled:p,loading:p,children:e?"Entrar":"Registrar"})]}),_.jsx("div",{className:"login-toggle",children:_.jsx(Qe,{type:"button",variant:"ghost",onClick:()=>n(!e),children:e?"Não tem conta? Registre-se":"Já tem conta? Entre"})})]})]})})},Oa=[{id:1,name:"Lionel Messi",firstname:"Lionel",lastname:"Messi",age:38,birth:{date:"1987-06-24",place:"Rosario",country:"Argentina"},nationality:"Argentina",height:"170 cm",weight:"72 kg",injured:!1,photo:""},{id:2,name:"Cristiano Ronaldo",firstname:"Cristiano",lastname:"Ronaldo",age:40,birth:{date:"1985-02-05",place:"Funchal",country:"Portugal"},nationality:"Portugal",height:"187 cm",weight:"83 kg",injured:!1,photo:""},{id:3,name:"Neymar Jr",firstname:"Neymar",lastname:"Jr",age:33,birth:{date:"1992-02-05",place:"Mogi das Cruzes",country:"Brazil"},nationality:"Brazil",height:"175 cm",weight:"68 kg",injured:!1,photo:""},{id:4,name:"Kylian Mbappé",firstname:"Kylian",lastname:"Mbappé",age:26,birth:{date:"1998-12-20",place:"Paris",country:"France"},nationality:"France",height:"178 cm",weight:"73 kg",injured:!1,photo:""},{id:5,name:"Erling Haaland",firstname:"Erling",lastname:"Haaland",age:24,birth:{date:"2000-07-21",place:"Leeds",country:"England"},nationality:"Norway",height:"194 cm",weight:"88 kg",injured:!1,photo:""},{id:6,name:"Vinícius Jr",firstname:"Vinícius",lastname:"Jr",age:24,birth:{date:"2000-07-12",place:"São Gonçalo",country:"Brazil"},nationality:"Brazil",height:"176 cm",weight:"73 kg",injured:!1,photo:""},{id:7,name:"Karim Benzema",firstname:"Karim",lastname:"Benzema",age:36,birth:{date:"1987-12-19",place:"Lyon",country:"France"},nationality:"France",height:"185 cm",weight:"81 kg",injured:!1,photo:""},{id:8,name:"Mohamed Salah",firstname:"Mohamed",lastname:"Salah",age:32,birth:{date:"1992-06-15",place:"Nagrig",country:"Egypt"},nationality:"Egypt",height:"175 cm",weight:"71 kg",injured:!1,photo:""},{id:9,name:"Kevin De Bruyne",firstname:"Kevin",lastname:"Bruyne",age:33,birth:{date:"1991-06-28",place:"Drongen",country:"Belgium"},nationality:"Belgium",height:"181 cm",weight:"76 kg",injured:!1,photo:""},{id:10,name:"Robert Lewandowski",firstname:"Robert",lastname:"Lewandowski",age:36,birth:{date:"1988-08-21",place:"Warsaw",country:"Poland"},nationality:"Poland",height:"185 cm",weight:"81 kg",injured:!1,photo:""},{id:11,name:"Jude Bellingham",firstname:"Jude",lastname:"Bellingham",age:21,birth:{date:"2003-06-29",place:"Stourbridge",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:12,name:"Rodrygo Goes",firstname:"Rodrygo",lastname:"Goes",age:23,birth:{date:"2001-01-09",place:"Osasco",country:"Brazil"},nationality:"Brazil",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:13,name:"Luka Modrić",firstname:"Luka",lastname:"Modrić",age:38,birth:{date:"1985-09-09",place:"Zadar",country:"Croatia"},nationality:"Croatia",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:14,name:"Toni Kroos",firstname:"Toni",lastname:"Kroos",age:34,birth:{date:"1990-01-04",place:"Greifswald",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:15,name:"Eduardo Camavinga",firstname:"Eduardo",lastname:"Camavinga",age:21,birth:{date:"2002-11-10",place:"Miconje",country:"Angola"},nationality:"France",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:16,name:"Aurélien Tchouaméni",firstname:"Aurélien",lastname:"Tchouaméni",age:24,birth:{date:"2000-01-27",place:"Rouen",country:"France"},nationality:"France",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:17,name:"João Félix",firstname:"João",lastname:"Félix",age:24,birth:{date:"1999-11-10",place:"Viseu",country:"Portugal"},nationality:"Portugal",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:18,name:"Antoine Griezmann",firstname:"Antoine",lastname:"Griezmann",age:33,birth:{date:"1991-03-21",place:"Mâcon",country:"France"},nationality:"France",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:19,name:"Ousmane Dembélé",firstname:"Ousmane",lastname:"Dembélé",age:27,birth:{date:"1997-05-15",place:"Vernon",country:"France"},nationality:"France",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:20,name:"Pedri",firstname:"Pedri",lastname:"Pedri",age:21,birth:{date:"2002-11-25",place:"Tegueste",country:"Spain"},nationality:"Spain",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:21,name:"Gavi",firstname:"Gavi",lastname:"Gavi",age:20,birth:{date:"2004-08-05",place:"Los Palacios",country:"Spain"},nationality:"Spain",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:22,name:"Ilkay Gündogan",firstname:"Ilkay",lastname:"Gündogan",age:33,birth:{date:"1990-10-24",place:"Gelsenkirchen",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:23,name:"Bukayo Saka",firstname:"Bukayo",lastname:"Saka",age:22,birth:{date:"2001-09-05",place:"London",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:24,name:"Declan Rice",firstname:"Declan",lastname:"Rice",age:25,birth:{date:"1999-01-14",place:"London",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:25,name:"Phil Foden",firstname:"Phil",lastname:"Foden",age:24,birth:{date:"2000-05-28",place:"Stockport",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:26,name:"Jack Grealish",firstname:"Jack",lastname:"Grealish",age:29,birth:{date:"1995-09-10",place:"Birmingham",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:27,name:"Bruno Fernandes",firstname:"Bruno",lastname:"Fernandes",age:29,birth:{date:"1994-09-08",place:"Maia",country:"Portugal"},nationality:"Portugal",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:28,name:"Marcus Rashford",firstname:"Marcus",lastname:"Rashford",age:26,birth:{date:"1997-10-31",place:"Manchester",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:29,name:"Casemiro",firstname:"Casemiro",lastname:"Casemiro",age:34,birth:{date:"1992-02-23",place:"São José dos Campos",country:"Brazil"},nationality:"Brazil",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:30,name:"Lisandro Martínez",firstname:"Lisandro",lastname:"Martínez",age:26,birth:{date:"1998-01-18",place:"Gualeguay",country:"Argentina"},nationality:"Argentina",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:31,name:"Darwin Núñez",firstname:"Darwin",lastname:"Núñez",age:24,birth:{date:"1999-06-24",place:"Artigas",country:"Uruguay"},nationality:"Uruguay",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:32,name:"Luis Díaz",firstname:"Luis",lastname:"Díaz",age:27,birth:{date:"1997-01-13",place:"Barrancas",country:"Colombia"},nationality:"Colombia",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:33,name:"Cody Gakpo",firstname:"Cody",lastname:"Gakpo",age:25,birth:{date:"1999-05-07",place:"Eindhoven",country:"Netherlands"},nationality:"Netherlands",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:34,name:"Trent Alexander-Arnold",firstname:"Trent",lastname:"Alexander-Arnold",age:25,birth:{date:"1998-10-07",place:"Liverpool",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:35,name:"Andrew Robertson",firstname:"Andrew",lastname:"Robertson",age:31,birth:{date:"1994-03-11",place:"Glasgow",country:"Scotland"},nationality:"Scotland",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:36,name:"Harry Kane",firstname:"Harry",lastname:"Kane",age:31,birth:{date:"2000-02-26",place:"London",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:37,name:"Son Heung-min",firstname:"Son",lastname:"Heung-min",age:33,birth:{date:"2000-03-27",place:"Chuncheon",country:"South Korea"},nationality:"South Korea",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:38,name:"James Maddison",firstname:"James",lastname:"Maddison",age:28,birth:{date:"2000-04-28",place:"Coventry",country:"England"},nationality:"England",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:39,name:"Rafael Leão",firstname:"Rafael",lastname:"Leão",age:26,birth:{date:"2000-05-01",place:"Almada",country:"Portugal"},nationality:"Portugal",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:40,name:"Victor Osimhen",firstname:"Victor",lastname:"Osimhen",age:26,birth:{date:"2000-06-02",place:"Lagos",country:"Nigeria"},nationality:"Nigeria",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:41,name:"Khvicha Kvaratskhelia",firstname:"Khvicha",lastname:"Kvaratskhelia",age:24,birth:{date:"1999-07-03",place:"Tbilisi",country:"Georgia"},nationality:"Georgia",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:42,name:"Paulo Dybala",firstname:"Paulo",lastname:"Dybala",age:31,birth:{date:"2000-08-04",place:"Laguna Larga",country:"Argentina"},nationality:"Argentina",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:43,name:"Lautaro Martínez",firstname:"Lautaro",lastname:"Martínez",age:28,birth:{date:"2000-09-05",place:"Bahía Blanca",country:"Argentina"},nationality:"Argentina",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:44,name:"Nicolo Barella",firstname:"Nicolo",lastname:"Barella",age:28,birth:{date:"2000-10-06",place:"Cagliari",country:"Italy"},nationality:"Italy",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:45,name:"Federico Chiesa",firstname:"Federico",lastname:"Chiesa",age:27,birth:{date:"2000-11-07",place:"Genoa",country:"Italy"},nationality:"Italy",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:46,name:"Wojciech Szczesny",firstname:"Wojciech",lastname:"Szczesny",age:34,birth:{date:"2000-12-08",place:"Warsaw",country:"Poland"},nationality:"Poland",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:47,name:"Manuel Neuer",firstname:"Manuel",lastname:"Neuer",age:39,birth:{date:"2000-01-09",place:"Gelsenkirchen",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:48,name:"Joshua Kimmich",firstname:"Joshua",lastname:"Kimmich",age:30,birth:{date:"2000-02-10",place:"Rottweil",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:49,name:"Jamal Musiala",firstname:"Jamal",lastname:"Musiala",age:22,birth:{date:"2003-03-26",place:"Stuttgart",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""},{id:50,name:"Florian Wirtz",firstname:"Florian",lastname:"Wirtz",age:22,birth:{date:"2003-03-05",place:"Pulheim",country:"Germany"},nationality:"Germany",height:"180 cm",weight:"75 kg",injured:!1,photo:""}],bm=[{id:1,name:"Inter Miami",logo:"",founded:2018,country:"United States"},{id:2,name:"Al-Nassr",logo:"",founded:1955,country:"Saudi Arabia"},{id:3,name:"Al-Hilal",logo:"",founded:1957,country:"Saudi Arabia"},{id:4,name:"Real Madrid",logo:"",founded:1902,country:"Spain"},{id:5,name:"Manchester City",logo:"",founded:1880,country:"England"},{id:6,name:"Al-Ittihad",logo:"",founded:1927,country:"Saudi Arabia"},{id:7,name:"Liverpool",logo:"",founded:1892,country:"England"},{id:8,name:"Barcelona",logo:"",founded:1899,country:"Spain"},{id:9,name:"Atletico Madrid",logo:"",founded:1903,country:"Spain"},{id:10,name:"Paris Saint-Germain",logo:"",founded:1970,country:"France"},{id:11,name:"Bayern Munich",logo:"",founded:1900,country:"Germany"},{id:12,name:"Arsenal",logo:"",founded:1886,country:"England"},{id:13,name:"Tottenham Hotspur",logo:"",founded:1882,country:"England"},{id:14,name:"Manchester United",logo:"",founded:1878,country:"England"},{id:15,name:"Juventus",logo:"",founded:1897,country:"Italy"},{id:16,name:"AC Milan",logo:"",founded:1899,country:"Italy"},{id:17,name:"Napoli",logo:"",founded:1926,country:"Italy"},{id:18,name:"Roma",logo:"",founded:1927,country:"Italy"},{id:19,name:"Galatasaray",logo:"",founded:1905,country:"Turkey"},{id:20,name:"Inter Milan",logo:"",founded:1908,country:"Italy"},{id:21,name:"Borussia Dortmund",logo:"",founded:1909,country:"Germany"},{id:22,name:"Santos",logo:"",founded:1912,country:"Brazil"}],WN=s=>{const e=Oa.find(m=>m.id===s);if(!e)return[];const n={1:{goals:12,assists:14,appearances:25,rating:7.9},2:{goals:21,assists:5,appearances:27,rating:7.6},3:{goals:8,assists:10,appearances:18,rating:7.5},4:{goals:34,assists:6,appearances:30,rating:8.2},5:{goals:32,assists:4,appearances:29,rating:8.1},6:{goals:17,assists:11,appearances:28,rating:7.8},7:{goals:14,assists:3,appearances:20,rating:7.4},8:{goals:23,assists:8,appearances:30,rating:7.9},9:{goals:6,assists:15,appearances:24,rating:8},10:{goals:18,assists:5,appearances:26,rating:7.7},11:{goals:5,assists:3,appearances:15,rating:7},12:{goals:6,assists:4,appearances:16,rating:7},13:{goals:7,assists:5,appearances:17,rating:7.1},14:{goals:8,assists:6,appearances:18,rating:7.2},15:{goals:9,assists:7,appearances:19,rating:7.2},16:{goals:10,assists:8,appearances:20,rating:7.2},17:{goals:11,assists:9,appearances:21,rating:7.3},18:{goals:12,assists:10,appearances:22,rating:7.3},19:{goals:13,assists:11,appearances:23,rating:7.4},20:{goals:14,assists:12,appearances:24,rating:7.5},21:{goals:15,assists:3,appearances:25,rating:7.5},22:{goals:16,assists:4,appearances:26,rating:7.5},23:{goals:17,assists:5,appearances:27,rating:7.6},24:{goals:18,assists:6,appearances:28,rating:7.7},25:{goals:19,assists:7,appearances:29,rating:7.7},26:{goals:5,assists:8,appearances:30,rating:7.8},27:{goals:6,assists:9,appearances:31,rating:7.8},28:{goals:7,assists:10,appearances:32,rating:7.8},29:{goals:8,assists:11,appearances:33,rating:7.9},30:{goals:9,assists:12,appearances:34,rating:8},31:{goals:10,assists:3,appearances:15,rating:7},32:{goals:11,assists:4,appearances:16,rating:7},33:{goals:12,assists:5,appearances:17,rating:7.1},34:{goals:13,assists:6,appearances:18,rating:7.2},35:{goals:14,assists:7,appearances:19,rating:7.2},36:{goals:15,assists:8,appearances:20,rating:7.2},37:{goals:16,assists:9,appearances:21,rating:7.3},38:{goals:17,assists:10,appearances:22,rating:7.3},39:{goals:18,assists:11,appearances:23,rating:7.4},40:{goals:19,assists:12,appearances:24,rating:7.5},41:{goals:5,assists:3,appearances:25,rating:7.5},42:{goals:6,assists:4,appearances:26,rating:7.5},43:{goals:7,assists:5,appearances:27,rating:7.6},44:{goals:8,assists:6,appearances:28,rating:7.7},45:{goals:9,assists:7,appearances:29,rating:7.7},46:{goals:10,assists:8,appearances:30,rating:7.8},47:{goals:11,assists:9,appearances:31,rating:7.8},48:{goals:12,assists:10,appearances:32,rating:7.8},49:{goals:13,assists:11,appearances:33,rating:7.9},50:{goals:14,assists:12,appearances:34,rating:8}},a={1:1,2:2,3:22,4:4,5:5,6:4,7:6,8:7,9:17,10:8,11:4,12:4,13:4,14:4,15:4,16:4,17:9,18:9,19:10,20:8,21:8,22:5,23:12,24:12,25:5,26:5,27:14,28:8,29:14,30:14,31:7,32:7,33:7,34:7,35:7,36:11,37:13,38:13,39:16,40:19,41:10,42:19,43:20,44:20,45:7,46:8,47:11,48:11,49:11,50:7},o=n[s],c=a[s]||1,f=bm.find(m=>m.id===c)||bm[0];return o?[{team:f,league:{id:1,name:"World League",country:e.nationality,logo:"",flag:"",season:2024},games:{appearences:o.appearances,lineups:o.appearances-2,minutes:o.appearances*85,number:s,position:"Attacker",rating:o.rating.toString(),captain:s<=3},substitutes:{in:2,out:5,bench:3},shots:{total:o.goals*4,on:o.goals*3},goals:{total:o.goals,conceded:0,assists:o.assists,saves:0},passes:{total:1e3,key:80,accuracy:85},tackles:{total:10,blocks:4,interceptions:5},duels:{total:100,won:60},dribbles:{attempts:60,success:40,past:0},fouls:{drawn:20,committed:10},cards:{yellow:2,yellowred:0,red:0},penalty:{won:2,commited:0,scored:2,missed:0,saved:0}}]:[]};class eC{async searchPlayers(e){await new Promise(a=>setTimeout(a,300));let n=[...Oa];return e.name&&(n=n.filter(a=>a.name.toLowerCase().includes(e.name.toLowerCase()))),e.nationality&&(n=n.filter(a=>a.nationality.toLowerCase().includes(e.nationality.toLowerCase()))),e.position&&(n=n.filter(a=>a.name.toLowerCase().includes(e.position.toLowerCase()))),n}async getPlayer(e){return await new Promise(n=>setTimeout(n,200)),Oa.find(n=>n.id===e)||null}async getPlayerStatistics(e){return await new Promise(n=>setTimeout(n,250)),WN(e)}async getTopPlayers(){return await new Promise(e=>setTimeout(e,200)),Oa}async getRankings(e){await new Promise(o=>setTimeout(o,300));const a=(await Promise.all(Oa.map(async o=>{const c=await this.getPlayerStatistics(o.id);return{player:o,stats:c[0]}}))).filter(o=>o.stats).sort((o,c)=>{let f=0,m=0;switch(e){case"goals":f=o.stats.goals.total,m=c.stats.goals.total;break;case"assists":f=o.stats.goals.assists,m=c.stats.goals.assists;break;case"cards":f=o.stats.cards.yellow+o.stats.cards.red,m=c.stats.cards.yellow+c.stats.cards.red;break}return m-f});return{type:e,players:a.slice(0,10).map(o=>({player:o.player,team:o.stats.team,value:e==="goals"?o.stats.goals.total:e==="assists"?o.stats.goals.assists:o.stats.cards.yellow+o.stats.cards.red}))}}async getPlayerSuggestions(e){return await new Promise(n=>setTimeout(n,150)),e.length<2?[]:Oa.filter(n=>n.name.toLowerCase().includes(e.toLowerCase())).slice(0,5)}async getAllPlayers(){return await new Promise(e=>setTimeout(e,100)),Oa}async getAllTeams(){return await new Promise(e=>setTimeout(e,100)),bm}}const un=new eC,tC=()=>{const[s,e]=oe.useState([]),[n,a]=oe.useState(!1),[o,c]=oe.useState(null),[f,m]=oe.useState({});return{players:s,loading:n,error:o,filters:f,searchPlayers:async T=>{a(!0),c(null);try{const w=await un.searchPlayers(T);e(w),m(T)}catch(w){c("Erro ao buscar jogadores"),console.error("Error fetching players:",w),e([])}finally{a(!1)}},clearSearch:()=>{e([]),m({}),c(null)}}},nC=(s=300)=>{const[e,n]=oe.useState(""),[a,o]=oe.useState([]),[c,f]=oe.useState(!1),m=oe.useCallback(async p=>{if(p.length<2){o([]);return}f(!0);try{const T=await un.getPlayerSuggestions(p);o(T)}catch(T){console.error("Error fetching player suggestions:",T),o([])}finally{f(!1)}},[]),y=oe.useCallback(async p=>{if(p.length<2){o([]);return}f(!0);try{const T=await un.getPlayerSuggestions(p);o(T)}catch(T){console.error("Error fetching player suggestions:",T),o([])}finally{f(!1)}},[]);return oe.useEffect(()=>{const p=setTimeout(()=>{y(e)},s);return()=>clearTimeout(p)},[e,s,y]),{query:e,setQuery:n,suggestions:a,loading:c,searchPlayers:m,clearSuggestions:()=>o([])}},HT=({onSearch:s,onPlayerSelect:e,placeholder:n="Pesquisar jogador..."})=>{const[a,o]=oe.useState(""),[c,f]=oe.useState(!1),m=oe.useRef(null),{suggestions:y,loading:p,searchPlayers:T}=nC();oe.useEffect(()=>{const B=te=>{m.current&&!m.current.contains(te.target)&&f(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),oe.useEffect(()=>{a.length>1&&T(a)},[a,T]);const w=B=>{const te=B.target.value;o(te),f(!0)},b=B=>{B.preventDefault(),a.trim()&&(s(a.trim()),f(!1))},L=B=>{o(B.name),f(!1),e?e(B):s(B.name)};return _.jsxs("div",{className:"search-bar",ref:m,children:[_.jsx("form",{onSubmit:b,className:"search-form",children:_.jsxs("div",{className:"search-input-container",children:[_.jsx("input",{type:"text",value:a,onChange:w,placeholder:n,className:"search-input",onFocus:()=>f(a.length>0)}),_.jsx(Qe,{type:"submit",variant:"primary",className:"search-button",icon:_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("circle",{cx:"11",cy:"11",r:"8"}),_.jsx("path",{d:"m21 21-4.35-4.35"})]})})]})}),c&&_.jsxs("div",{className:"suggestions-dropdown",children:[p&&_.jsxs("div",{className:"suggestion-item loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("span",{children:"Buscando..."})]}),!p&&y.length===0&&a.length>1&&_.jsx("div",{className:"suggestion-item no-results",children:"Nenhum jogador encontrado"}),!p&&y.map(B=>_.jsxs("div",{className:"suggestion-item",onClick:()=>L(B),children:[_.jsx("div",{className:"suggestion-avatar-placeholder",children:_.jsx("span",{className:"suggestion-avatar-initial",children:B.name.charAt(0).toUpperCase()})}),_.jsxs("div",{className:"suggestion-info",children:[_.jsx("div",{className:"suggestion-name",children:B.name}),_.jsxs("div",{className:"suggestion-details",children:[B.nationality," • ",B.age," anos"]})]})]},B.id))]})]})},xh=()=>{const{user:s,updateUser:e}=lo(),[n,a]=oe.useState([]),[o,c]=oe.useState([]);return oe.useEffect(()=>{s&&(a(s.favoritePlayers),c(s.favoriteTeams))},[s]),{favoritePlayers:n,favoriteTeams:o,toggleFavoritePlayer:async T=>{const w=n.includes(T)?n.filter(b=>b!==T):[...n,T];a(w),await e({favoritePlayers:w})},toggleFavoriteTeam:async T=>{const w=o.includes(T)?o.filter(b=>b!==T):[...o,T];c(w),await e({favoriteTeams:w})},isPlayerFavorite:T=>n.includes(T),isTeamFavorite:T=>o.includes(T)}},vg=({player:s,showFavorite:e=!0,onClick:n})=>{const{isPlayerFavorite:a,isTeamFavorite:o,toggleFavoritePlayer:c,toggleFavoriteTeam:f}=xh(),[m,y]=oe.useState(null);oe.useEffect(()=>{(async()=>{try{const L=await un.getPlayerStatistics(s.id);y(L[0]||null)}catch(L){console.error("Erro ao buscar estatísticas do jogador:",L)}})()},[s.id]);const p=b=>{b.stopPropagation(),c(s.id)},T=b=>{b.stopPropagation(),m?.team&&f(m.team.id)},w=()=>{n&&n(s)};return _.jsxs("div",{className:"player-card",onClick:w,children:[e&&_.jsx(Qe,{variant:"ghost",className:`favorite-btn ${a(s.id)?"active":""}`,onClick:p,icon:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})}),_.jsxs("div",{className:"player-photo",children:[_.jsx("div",{className:"player-photo-placeholder",children:_.jsx("span",{className:"player-initial",children:s.name.charAt(0).toUpperCase()})}),s.injured&&_.jsx("div",{className:"injury-badge",children:_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),_.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),_.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})})]}),_.jsxs("div",{className:"player-info",children:[_.jsx("h3",{className:"player-name",children:s.name}),_.jsxs("div",{className:"player-details",children:[_.jsxs("span",{className:"player-age",children:[s.age," anos"]}),_.jsx("span",{className:"player-nationality",children:s.nationality})]}),_.jsxs("div",{className:"player-physical",children:[_.jsx("span",{children:s.height}),_.jsx("span",{children:s.weight})]}),m?.team&&_.jsxs("div",{className:"player-team",children:[_.jsx("span",{className:"team-name",children:m.team.name}),_.jsx(Qe,{variant:"ghost",className:`team-favorite-btn ${o(m.team.id)?"active":""}`,onClick:T,icon:_.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})})]})]})]})},iC=({onPlayerSelect:s})=>{const{players:e,loading:n,error:a,searchPlayers:o}=tC(),[c,f]=oe.useState({}),[m,y]=oe.useState(!1),p=b=>{o({...c,name:b})},T=(b,L)=>{const B={...c,[b]:L||void 0};f(B),B.name&&o(B)},w=()=>{f({})};return _.jsxs("div",{className:"search-page",children:[_.jsxs("div",{className:"search-header",children:[_.jsx("h1",{className:"search-title text-3xl font-bold mb-6",children:"Buscar Jogadores"}),_.jsx("div",{className:"search-bar-container",children:_.jsx(HT,{onSearch:p,onPlayerSelect:s})}),_.jsxs("div",{className:"search-controls flex items-center gap-4 mb-4",children:[_.jsx(Qe,{variant:m?"primary":"secondary",onClick:()=>y(!m),icon:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"22,3 2,3 10,12.46 10,19 14,21 14,12.46"})}),children:"Filtros"}),Object.keys(c).length>0&&_.jsx(Qe,{variant:"ghost",onClick:w,children:"Limpar filtros"})]}),m&&_.jsx("div",{className:"filters-card card mb-6",children:_.jsx("div",{className:"card-body",children:_.jsxs("div",{className:"filters-grid grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Nacionalidade"}),_.jsx("input",{type:"text",className:"form-input",placeholder:"Ex: Brasil, Argentina...",value:c.nationality||"",onChange:b=>T("nationality",b.target.value)})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Posição"}),_.jsx("input",{type:"text",className:"form-input",placeholder:"Ex: Atacante, Meio-campo...",value:c.position||"",onChange:b=>T("position",b.target.value)})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Idade Mínima"}),_.jsx("input",{type:"number",className:"form-input",min:"16",max:"45",value:c.ageMin||"",onChange:b=>T("ageMin",Number.parseInt(b.target.value))})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{className:"form-label",children:"Idade Máxima"}),_.jsx("input",{type:"number",className:"form-input",min:"16",max:"45",value:c.ageMax||"",onChange:b=>T("ageMax",Number.parseInt(b.target.value))})]})]})})})]}),_.jsxs("div",{className:"search-content",children:[n&&_.jsx("div",{className:"search-loading",children:_.jsx("div",{className:"loading-spinner search-spinner"})}),a&&_.jsx("div",{className:"search-error card",children:_.jsx("div",{className:"card-body text-center",children:_.jsx("p",{children:a})})}),!n&&!a&&e.length===0&&_.jsx("div",{className:"search-empty card",children:_.jsx("div",{className:"card-body text-center",children:_.jsx("p",{className:"text-muted",children:"Nenhum jogador encontrado. Tente uma nova busca."})})}),!n&&e.length>0&&_.jsxs("div",{className:"search-results",children:[_.jsxs("p",{className:"search-results-count text-muted mb-4",children:[e.length," jogador",e.length!==1?"es":""," ","encontrado",e.length!==1?"s":""]}),_.jsx("div",{className:"players-grid grid grid-cols-4 gap-6",children:e.map(b=>_.jsx(vg,{player:b,onClick:s},b.id))})]})]})]})},sC=({playerId:s,onBack:e})=>{const[n,a]=oe.useState(null),[o,c]=oe.useState([]),[f,m]=oe.useState(!0),[y,p]=oe.useState("overview"),{isPlayerFavorite:T,isTeamFavorite:w,toggleFavoritePlayer:b,toggleFavoriteTeam:L}=xh();if(oe.useEffect(()=>{(async()=>{m(!0);try{const[Z,Ee]=await Promise.all([un.getPlayer(s),un.getPlayerStatistics(s)]);a(Z),c(Ee)}catch(Z){console.error("Error loading player data:",Z)}finally{m(!1)}})()},[s]),f)return _.jsx("div",{className:"player-detail-page",children:_.jsxs("div",{className:"player-detail-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Carregando dados do jogador..."})]})});if(!n)return _.jsx("div",{className:"player-detail-page",children:_.jsx("div",{className:"player-detail-error card",children:_.jsxs("div",{className:"card-body text-center",children:[_.jsx("p",{children:"Jogador não encontrado"}),_.jsx(Qe,{variant:"primary",className:"mt-4",onClick:e,children:"Voltar"})]})})});const B=o[0];return _.jsxs("div",{className:"player-detail-page",children:[_.jsx(Qe,{variant:"ghost",className:"back-button mb-6",onClick:e,icon:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polyline",{points:"15,18 9,12 15,6"})}),children:"Voltar"}),_.jsxs("div",{className:"player-detail-grid grid grid-cols-3 gap-6",children:[_.jsx("div",{className:"player-profile-card card",children:_.jsxs("div",{className:"card-body text-center",children:[_.jsxs("div",{className:"player-photo-container",children:[_.jsx("div",{className:"player-photo-placeholder",children:_.jsx("span",{className:"player-photo-initial",children:n.name.charAt(0).toUpperCase()})}),n.injured&&_.jsx("div",{className:"injury-badge",children:_.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[_.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),_.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),_.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})})]}),_.jsx("h1",{className:"player-name text-2xl font-bold mt-4",children:n.name}),_.jsx("p",{className:"player-position text-muted",children:B?.games.position||"Atacante"}),B?.team&&_.jsx("div",{className:"player-team-info mt-3",children:_.jsxs("div",{className:"team-display",children:[_.jsx("span",{className:"team-name",children:B.team.name}),_.jsx(Qe,{variant:"ghost",className:`team-favorite-btn ${w(B.team.id)?"active":""}`,onClick:()=>L(B.team.id),title:w(B.team.id)?"Remover time dos Favoritos":"Adicionar time aos Favoritos",icon:_.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})})]})}),_.jsx("div",{className:"player-actions mt-4",children:_.jsx(Qe,{variant:"ghost",className:`favorite-btn ${T(n.id)?"active":""}`,onClick:()=>b(n.id),title:T(n.id)?"Remover dos Favoritos":"Adicionar aos Favoritos",icon:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})})})]})}),_.jsxs("div",{className:"player-info-card card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"card-title",children:"Informações Pessoais"})}),_.jsx("div",{className:"card-body",children:_.jsxs("div",{className:"info-grid",children:[_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Idade"}),_.jsxs("span",{className:"info-value",children:[n.age," anos"]})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Nacionalidade"}),_.jsx("span",{className:"info-value",children:n.nationality})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Altura"}),_.jsx("span",{className:"info-value",children:n.height})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Peso"}),_.jsx("span",{className:"info-value",children:n.weight})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Data de Nascimento"}),_.jsx("span",{className:"info-value",children:new Date(n.birth.date).toLocaleDateString("pt-BR")})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("span",{className:"info-label",children:"Local de Nascimento"}),_.jsx("span",{className:"info-value",children:n.birth.place})]})]})})]}),_.jsxs("div",{className:"player-stats-card card",children:[_.jsx("div",{className:"card-header",children:_.jsx("h2",{className:"card-title",children:"Estatísticas da Temporada"})}),_.jsx("div",{className:"card-body",children:B?_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Jogos"}),_.jsx("span",{className:"stat-value",children:B.games.appearences})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Gols"}),_.jsx("span",{className:"stat-value",children:B.goals.total})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Assistências"}),_.jsx("span",{className:"stat-value",children:B.goals.assists})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Avaliação"}),_.jsx("span",{className:"stat-value",children:B.games.rating})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Minutos"}),_.jsx("span",{className:"stat-value",children:B.games.minutes})]}),_.jsxs("div",{className:"stat-item",children:[_.jsx("span",{className:"stat-label",children:"Cartões Amarelos"}),_.jsx("span",{className:"stat-value",children:B.cards.yellow})]})]}):_.jsx("p",{className:"text-muted",children:"Estatísticas não disponíveis"})})]})]}),B&&_.jsxs("div",{className:"player-detailed-stats mt-6",children:[_.jsxs("div",{className:"stats-tabs",children:[_.jsx(Qe,{variant:"ghost",className:`stats-tab ${y==="overview"?"active":""}`,onClick:()=>p("overview"),children:"Visão Geral"}),_.jsx(Qe,{variant:"ghost",className:`stats-tab ${y==="attacking"?"active":""}`,onClick:()=>p("attacking"),children:"Ataque"}),_.jsx(Qe,{variant:"ghost",className:`stats-tab ${y==="defending"?"active":""}`,onClick:()=>p("defending"),children:"Defesa"})]}),_.jsxs("div",{className:"stats-content",children:[y==="overview"&&_.jsxs("div",{className:"stats-section",children:[_.jsx("h3",{children:"Visão Geral"}),_.jsxs("div",{className:"stats-grid-detailed",children:[_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.games.appearences}),_.jsx("span",{className:"stat-label",children:"Jogos"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.games.minutes}),_.jsx("span",{className:"stat-label",children:"Minutos"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.games.rating}),_.jsx("span",{className:"stat-label",children:"Avaliação"})]})]})]}),y==="attacking"&&_.jsxs("div",{className:"stats-section",children:[_.jsx("h3",{children:"Estatísticas de Ataque"}),_.jsxs("div",{className:"stats-grid-detailed",children:[_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.goals.total}),_.jsx("span",{className:"stat-label",children:"Gols"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.goals.assists}),_.jsx("span",{className:"stat-label",children:"Assistências"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.shots.total}),_.jsx("span",{className:"stat-label",children:"Finalizações"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.shots.on}),_.jsx("span",{className:"stat-label",children:"No Gol"})]})]})]}),y==="defending"&&_.jsxs("div",{className:"stats-section",children:[_.jsx("h3",{children:"Estatísticas de Defesa"}),_.jsxs("div",{className:"stats-grid-detailed",children:[_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.tackles.total}),_.jsx("span",{className:"stat-label",children:"Desarmes"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.tackles.interceptions}),_.jsx("span",{className:"stat-label",children:"Interceptações"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.tackles.blocks}),_.jsx("span",{className:"stat-label",children:"Bloqueios"})]}),_.jsxs("div",{className:"stat-card",children:[_.jsx("span",{className:"stat-number",children:B.cards.yellow}),_.jsx("span",{className:"stat-label",children:"Cartões Amarelos"})]})]})]})]})]})]})},aC=({team:s,showFavorite:e=!0,onClick:n})=>{const{isTeamFavorite:a,toggleFavoriteTeam:o}=xh(),c=m=>{m.stopPropagation(),o(s.id)},f=()=>{n&&n(s)};return _.jsxs("div",{className:"team-card",onClick:f,children:[e&&_.jsx(Qe,{variant:"ghost",className:`favorite-btn ${a(s.id)?"active":""}`,onClick:c,icon:_.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:_.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"})})}),_.jsx("div",{className:"team-logo",children:_.jsx("div",{className:"team-logo-placeholder",children:_.jsx("span",{className:"team-initial",children:s.name.charAt(0).toUpperCase()})})}),_.jsxs("div",{className:"team-info",children:[_.jsx("h3",{className:"team-name",children:s.name}),_.jsxs("div",{className:"team-details",children:[_.jsx("span",{className:"team-country",children:s.country}),_.jsx("span",{className:"team-founded",children:s.founded})]})]})]})},rC=()=>{const{user:s}=lo(),{favoritePlayers:e,favoriteTeams:n}=xh(),[a,o]=oe.useState([]),[c,f]=oe.useState([]),[m,y]=oe.useState(!0);return oe.useEffect(()=>{(async()=>{try{if(e.length>0){const T=e.map(L=>un.getPlayer(L)),b=(await Promise.all(T)).filter(L=>L!==null);o(b)}else o([]);if(n.length>0){const w=(await un.getAllTeams()).filter(b=>n.includes(b.id));f(w)}else f([])}catch(T){console.error("Error loading favorites:",T)}finally{y(!1)}})()},[e,n]),s?m?_.jsx("div",{className:"container mx-auto p-4",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),_.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando favoritos..."})]})}):_.jsxs("div",{className:"container mx-auto p-4",children:[_.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Meus Favoritos"}),_.jsxs("div",{className:"mb-8",children:[_.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Jogadores Favoritos"}),a.length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map(p=>_.jsx(vg,{player:p,showFavorite:!0},p.id))}):_.jsxs("div",{className:"text-center text-gray-600 py-8",children:[_.jsx("p",{children:"Você ainda não tem jogadores favoritos"}),_.jsx("p",{className:"text-sm mt-2",children:"Adicione jogadores à sua lista de favoritos para vê-los aqui"})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Times Favoritos"}),c.length>0?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:c.map(p=>_.jsx(aC,{team:p,showFavorite:!0},p.id))}):_.jsxs("div",{className:"text-center text-gray-600 py-8",children:[_.jsx("p",{children:"Você ainda não tem times favoritos"}),_.jsx("p",{className:"text-sm mt-2",children:"Adicione times à sua lista de favoritos para vê-los aqui"})]})]})]}):_.jsx("div",{className:"container mx-auto p-4",children:_.jsx("div",{className:"text-center text-gray-600",children:"Faça login para ver seus favoritos"})})},oC=()=>{const[s,e]=oe.useState({}),[n,a]=oe.useState("goals"),[o,c]=oe.useState(!0),[f,m]=oe.useState(null);oe.useEffect(()=>{(async()=>{c(!0),m(null);try{const[b,L,B]=await Promise.all([un.getRankings("goals"),un.getRankings("assists"),un.getRankings("cards")]);e({goals:b,assists:L,cards:B})}catch(b){m("Erro ao carregar rankings"),console.error("Error loading rankings:",b)}finally{c(!1)}})()},[]);const y=w=>{switch(w){case"goals":return"Artilheiros";case"assists":return"Assistentes";case"cards":return"Cartões";default:return"Ranking"}},p=w=>{switch(w){case"goals":return"⚽";case"assists":return"🎯";case"cards":return"🟨";default:return"🏆"}},T=s[n];return o?_.jsx("div",{className:"rankings-page",children:_.jsxs("div",{className:"rankings-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Carregando rankings..."})]})}):f?_.jsx("div",{className:"rankings-page",children:_.jsx("div",{className:"rankings-error",children:_.jsx("p",{children:f})})}):_.jsxs("div",{className:"rankings-page",children:[_.jsxs("div",{className:"rankings-header",children:[_.jsx("h1",{className:"rankings-title text-3xl font-bold mb-6",children:"🏆 Rankings"}),_.jsxs("div",{className:"rankings-tabs",children:[_.jsx(Qe,{variant:"ghost",className:`ranking-tab ${n==="goals"?"active":""}`,onClick:()=>a("goals"),icon:_.jsx("span",{className:"tab-icon",children:"⚽"}),children:"Artilheiros"}),_.jsx(Qe,{variant:"ghost",className:`ranking-tab ${n==="assists"?"active":""}`,onClick:()=>a("assists"),icon:_.jsx("span",{className:"tab-icon",children:"🎯"}),children:"Assistentes"}),_.jsx(Qe,{variant:"ghost",className:`ranking-tab ${n==="cards"?"active":""}`,onClick:()=>a("cards"),icon:_.jsx("span",{className:"tab-icon",children:"🟨"}),children:"Cartões"})]})]}),_.jsx("div",{className:"rankings-content",children:T&&_.jsxs("div",{className:"ranking-section",children:[_.jsxs("div",{className:"ranking-header-info",children:[_.jsxs("h2",{className:"ranking-section-title",children:[_.jsx("span",{className:"ranking-icon",children:p(n)}),"Top ",y(n)]}),_.jsxs("p",{className:"ranking-description text-muted",children:[n==="goals"&&"Os maiores artilheiros da temporada atual",n==="assists"&&"Jogadores com mais assistências na temporada",n==="cards"&&"Jogadores com mais cartões disciplinares"]})]}),_.jsx("div",{className:"ranking-list",children:T.players.map((w,b)=>_.jsxs("div",{className:`ranking-item ${b<3?"podium":""}`,children:[_.jsxs("div",{className:"ranking-position",children:[_.jsx("span",{className:`position-number ${b===0?"gold":b===1?"silver":b===2?"bronze":""}`,children:b+1}),b<3&&_.jsx("span",{className:"medal",children:b===0?"🥇":b===1?"🥈":"🥉"})]}),_.jsxs("div",{className:"player-info",children:[_.jsx("div",{className:"player-avatar-placeholder",children:_.jsx("span",{className:"player-avatar-initial",children:w.player.name.charAt(0).toUpperCase()})}),_.jsxs("div",{className:"player-details",children:[_.jsx("h3",{className:"player-name",children:w.player.name}),_.jsx("p",{className:"player-team text-muted",children:w.team.name})]})]}),_.jsx("div",{className:"ranking-stats",children:_.jsxs("div",{className:"stat-value",children:[w.value,_.jsxs("span",{className:"stat-label",children:[n==="goals"&&"gols",n==="assists"&&"assist.",n==="cards"&&"cartões"]})]})}),_.jsx("div",{className:"team-logo",children:_.jsx("div",{className:"team-logo-placeholder",children:_.jsx("span",{className:"team-logo-initial",children:w.team.name.charAt(0).toUpperCase()})})})]},w.player.id))})]})})]})},lC=({onPlayerSelect:s})=>{const[e,n]=oe.useState([]),[a,o]=oe.useState(!0),[c,f]=oe.useState("week");oe.useEffect(()=>{(async()=>{o(!0);try{const p=await un.getTopPlayers();n(p)}catch(p){console.error("Error loading top players:",p)}finally{o(!1)}})()},[c]);const m=()=>{switch(c){case"week":return"Top da Semana";case"month":return"Top do Mês";case"all":return"Mais Buscados";default:return"Top Jogadores"}};return a?_.jsx("div",{className:"top-players-page",children:_.jsxs("div",{className:"top-players-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Carregando top jogadores..."})]})}):_.jsxs("div",{className:"top-players-page",children:[_.jsxs("div",{className:"top-players-header",children:[_.jsx("h1",{className:"top-players-title text-3xl font-bold mb-6",children:"👑 Top Jogadores"}),_.jsxs("div",{className:"filter-section",children:[_.jsx("p",{className:"filter-description text-muted mb-4",children:"Descubra os jogadores mais populares e buscados na plataforma"}),_.jsxs("div",{className:"filter-tabs",children:[_.jsx(Qe,{variant:c==="week"?"primary":"secondary",className:"filter-tab",onClick:()=>f("week"),icon:_.jsx("span",{className:"tab-icon",children:"📅"}),children:"Esta Semana"}),_.jsx(Qe,{variant:c==="month"?"primary":"secondary",className:"filter-tab",onClick:()=>f("month"),icon:_.jsx("span",{className:"tab-icon",children:"📊"}),children:"Este Mês"}),_.jsx(Qe,{variant:c==="all"?"primary":"secondary",className:"filter-tab",onClick:()=>f("all"),icon:_.jsx("span",{className:"tab-icon",children:"🔥"}),children:"Mais Buscados"})]})]})]}),_.jsxs("div",{className:"top-players-content",children:[_.jsxs("div",{className:"section-header",children:[_.jsx("h2",{className:"section-title",children:m()}),_.jsxs("p",{className:"section-subtitle text-muted",children:[e.length," jogadores encontrados"]})]}),e.length===0?_.jsx("div",{className:"empty-state card",children:_.jsxs("div",{className:"card-body text-center",children:[_.jsx("div",{className:"empty-icon",children:"👑"}),_.jsx("h3",{className:"empty-title",children:"Nenhum jogador encontrado"}),_.jsx("p",{className:"empty-description text-muted",children:"Não há dados disponíveis para o período selecionado"})]})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"podium-section",children:[_.jsx("h3",{className:"podium-title",children:"🏆 Pódium"}),_.jsx("div",{className:"podium-grid",children:e.slice(0,3).map((y,p)=>_.jsxs("div",{className:`podium-item position-${p+1}`,children:[_.jsxs("div",{className:"podium-rank",children:[_.jsx("span",{className:"rank-number",children:p+1}),_.jsx("span",{className:"rank-medal",children:p===0?"🥇":p===1?"🥈":"🥉"})]}),_.jsxs("div",{className:"podium-player",children:[_.jsx("div",{className:"podium-photo-placeholder",children:_.jsx("span",{className:"podium-photo-initial",children:y.name.charAt(0).toUpperCase()})}),_.jsx("h4",{className:"podium-name",children:y.name}),_.jsxs("p",{className:"podium-info text-muted",children:[y.nationality," • ",y.age," anos"]})]})]},y.id))})]}),_.jsxs("div",{className:"players-list-section",children:[_.jsx("h3",{className:"list-title",children:"📋 Lista Completa"}),_.jsx("div",{className:"players-grid grid grid-cols-4 gap-6",children:e.map((y,p)=>_.jsxs("div",{className:"player-card-wrapper",children:[_.jsxs("div",{className:"player-rank-badge",children:["#",p+1]}),_.jsx(vg,{player:y,onClick:s,showFavorite:!0})]},y.id))})]})]})]})]})},uC=()=>{const[s,e]=oe.useState(null),[n,a]=oe.useState(null),[o,c]=oe.useState(null),[f,m]=oe.useState(null),[y,p]=oe.useState(null),T=async L=>{if(y===1){e(L);const B=await un.getPlayerStatistics(L.id);c(B[0]||null)}else if(y===2){a(L);const B=await un.getPlayerStatistics(L.id);m(B[0]||null)}p(null)},w=L=>{L===1?(e(null),c(null)):(a(null),m(null))},b=(L,B)=>{if(!L)return 0;switch(B){case"goals":return L.goals.total;case"assists":return L.goals.assists;case"matches":return L.games.appearences;case"rating":return parseFloat(L.games.rating)*10;default:return 0}};return _.jsxs("div",{className:"compare-page",children:[_.jsxs("div",{className:"compare-header",children:[_.jsx("h1",{className:"compare-title text-3xl font-bold mb-6",children:"⚖️ Comparar Jogadores"}),_.jsx("p",{className:"compare-description text-muted mb-8",children:"Selecione dois jogadores para comparar suas estatísticas e performance"})]}),y&&_.jsx("div",{className:"search-overlay",children:_.jsxs("div",{className:"search-modal",children:[_.jsxs("div",{className:"search-modal-header",children:[_.jsxs("h3",{className:"search-modal-title",children:["Selecionar Jogador ",y]}),_.jsx(Qe,{variant:"ghost",className:"close-btn",onClick:()=>p(null),children:"✕"})]}),_.jsx("div",{className:"search-modal-content",children:_.jsx(HT,{onSearch:()=>{},onPlayerSelect:T})})]})}),_.jsxs("div",{className:"compare-content",children:[_.jsxs("div",{className:"players-selection",children:[_.jsxs("div",{className:"player-slot",children:[_.jsxs("div",{className:"slot-header",children:[_.jsx("h3",{className:"slot-title",children:"Jogador 1"}),s&&_.jsx(Qe,{variant:"ghost",size:"sm",className:"clear-btn",onClick:()=>w(1),children:"✕"})]}),s?_.jsxs("div",{className:"selected-player",children:[_.jsx("div",{className:"player-photo-placeholder",children:_.jsx("span",{className:"player-photo-initial",children:s.name.charAt(0).toUpperCase()})}),_.jsx("h4",{className:"player-name",children:s.name}),_.jsxs("p",{className:"player-info text-muted",children:[s.nationality," • ",s.age," anos"]}),_.jsxs("p",{className:"player-physical text-muted",children:[s.height," • ",s.weight]})]}):_.jsx("div",{className:"empty-slot",onClick:()=>p(1),children:_.jsxs("div",{className:"empty-slot-content",children:[_.jsx("div",{className:"empty-icon",children:"👤"}),_.jsx("p",{children:"Clique para selecionar um jogador"})]})})]}),_.jsx("div",{className:"vs-divider",children:_.jsx("span",{className:"vs-text",children:"VS"})}),_.jsxs("div",{className:"player-slot",children:[_.jsxs("div",{className:"slot-header",children:[_.jsx("h3",{className:"slot-title",children:"Jogador 2"}),n&&_.jsx(Qe,{variant:"ghost",size:"sm",className:"clear-btn",onClick:()=>w(2),children:"✕"})]}),n?_.jsxs("div",{className:"selected-player",children:[_.jsx("div",{className:"player-photo-placeholder",children:_.jsx("span",{className:"player-photo-initial",children:n.name.charAt(0).toUpperCase()})}),_.jsx("h4",{className:"player-name",children:n.name}),_.jsxs("p",{className:"player-info text-muted",children:[n.nationality," • ",n.age," anos"]}),_.jsxs("p",{className:"player-physical text-muted",children:[n.height," • ",n.weight]})]}):_.jsx("div",{className:"empty-slot",onClick:()=>p(2),children:_.jsxs("div",{className:"empty-slot-content",children:[_.jsx("div",{className:"empty-icon",children:"👤"}),_.jsx("p",{children:"Clique para selecionar um jogador"})]})})]})]}),s&&n&&_.jsxs("div",{className:"comparison-results",children:[_.jsx("h3",{className:"results-title",children:"📊 Comparação de Estatísticas"}),_.jsxs("div",{className:"stats-comparison",children:[_.jsxs("div",{className:"stat-row",children:[_.jsx("div",{className:"stat-label",children:"Gols"}),_.jsx("div",{className:"stat-value player1",children:b(o,"goals")}),_.jsx("div",{className:"stat-value player2",children:b(f,"goals")})]}),_.jsxs("div",{className:"stat-row",children:[_.jsx("div",{className:"stat-label",children:"Assistências"}),_.jsx("div",{className:"stat-value player1",children:b(o,"assists")}),_.jsx("div",{className:"stat-value player2",children:b(f,"assists")})]}),_.jsxs("div",{className:"stat-row",children:[_.jsx("div",{className:"stat-label",children:"Jogos"}),_.jsx("div",{className:"stat-value player1",children:b(o,"matches")}),_.jsx("div",{className:"stat-value player2",children:b(f,"matches")})]}),_.jsxs("div",{className:"stat-row",children:[_.jsx("div",{className:"stat-label",children:"Avaliação"}),_.jsx("div",{className:"stat-value player1",children:(b(o,"rating")/10).toFixed(1)}),_.jsx("div",{className:"stat-value player2",children:(b(f,"rating")/10).toFixed(1)})]})]})]})]})]})},cC=()=>{const{user:s}=lo(),[e,n]=oe.useState("search"),[a,o]=oe.useState(null),[c,f]=oe.useState(!1),m=T=>{o(T),n("player-detail")},y=T=>{n(T),o(null)},p=()=>{n("search"),o(null)};return s?_.jsxs("div",{className:"app-container",children:[_.jsx(JN,{isOpen:c,onClose:()=>f(!1),onNavigate:y,currentPage:e}),_.jsxs("div",{className:"app-main",children:[_.jsx($N,{onMenuToggle:()=>f(!0)}),_.jsxs("main",{className:"main-content container",children:[e==="search"&&_.jsx(iC,{onPlayerSelect:m}),e==="player-detail"&&a&&_.jsx(sC,{playerId:a.id,onBack:p}),e==="favorites"&&_.jsx(rC,{}),e==="rankings"&&_.jsx(oC,{}),e==="top-players"&&_.jsx(lC,{onPlayerSelect:m}),e==="compare"&&_.jsx(uC,{})]})]})]}):_.jsx(ZN,{onNavigate:y})};function hC(){return _.jsx(QN,{children:_.jsx(YN,{children:_.jsx(cC,{})})})}SA.createRoot(document.getElementById("root")).render(_.jsx(oe.StrictMode,{children:_.jsx(hC,{})}));
